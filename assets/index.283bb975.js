var Fw=Object.defineProperty,Hw=Object.defineProperties;var Uw=Object.getOwnPropertyDescriptors;var Av=Object.getOwnPropertySymbols;var Vw=Object.prototype.hasOwnProperty,Xw=Object.prototype.propertyIsEnumerable;var Tv=(g,v,c)=>v in g?Fw(g,v,{enumerable:!0,configurable:!0,writable:!0,value:c}):g[v]=c,Dv=(g,v)=>{for(var c in v||(v={}))Vw.call(v,c)&&Tv(g,c,v[c]);if(Av)for(var c of Av(v))Xw.call(v,c)&&Tv(g,c,v[c]);return g},Mv=(g,v)=>Hw(g,Uw(v));import{bh as Ww,bi as Gw,bj as Yw,bk as $w,bl as Kw,bm as qw,bn as Zw,bo as Jw,bp as Qw,T as Mc,bq as e1,br as t1,bs as n1,bt as r1,ac as o1,bu as i1,L as jr,bv as a1,bw as u1,M as s1,bx as c1,aH as l1,aF as f1,aG as p1,by as h1,C as at,aJ as d1,bz as y1,a0 as Nc,bA as v1,B as Ec,G as Cc,bB as g1,bC as b1,aD as m1,F as Rc,ak as _1,bD as O1,bE as w1,ay as x1,aE as E1,bF as S1,bG as j1,aK as P1,bH as k1,t as A1,D as iu,V as Ic,p as Pr,q as Pn,bI as T1,bJ as D1,bK as M1,bL as N1,aN as C1,J as Lc,H as Ro,bM as R1,y as Fi,bN as I1,bO as L1,bP as z1,bQ as B1,Z as F1,bR as H1,bS as U1,aj as V1,bT as X1,bU as W1,aw as G1,bV as Y1,bW as $1,aC as K1,bX as q1,bY as Z1,Q as J1,bZ as Q1,ae as ex,aB as tx,aI as nx,b_ as rx,b$ as ox,$ as zc,c0 as ix,c1 as ax,c2 as ux,av as sx,au as cx,o as kn,a6 as ng,ax as lx,a5 as rg,c3 as fx,c4 as px,A as Bc,ag as hx,I as Ri,aq as dx,E as yx,c5 as vx,c6 as gx,c7 as bx,c8 as mx,c9 as _x,ca as Ox,cb as wx,cc as xx,cd as Ex,ce as Sx,cf as jx,cg as Px,ch as kx,ci as Ax,cj as Tx,P as Dx,aA as Mx,ck as Nx,cl as Cx,cm as Rx,S as Io,cn as Ix,a1 as Lx,co as zx,cp as Bx,af as Fx,a9 as Hx,cq as Ux,cr as Vx,cs as Xx,ct as Wx,cu as Gx,cv as Yx,cw as $x,az as Kx,an as qx,cx as Zx,cy as Jx,cz as Qx,cA as eE,cB as tE,aO as nE,a2 as rE,cC as oE,a8 as Sc,bg as og,_ as Fc,W as Nv,cD as iE,ao as aE}from"./index.7718df77.js";import{u as uE}from"./hooks.a6ad1e3d.js";const sE=()=>{};var cE=Object.freeze(Object.defineProperty({__proto__:null,compile:sE,EffectScope:Ww,ReactiveEffect:Gw,customRef:Yw,effect:$w,effectScope:Kw,getCurrentScope:qw,isProxy:Zw,isReactive:Jw,isReadonly:Qw,isRef:Mc,isShallow:e1,markRaw:t1,onScopeDispose:n1,proxyRefs:r1,reactive:o1,readonly:i1,ref:jr,shallowReactive:a1,shallowReadonly:u1,shallowRef:s1,stop:c1,toRaw:l1,toRef:f1,toRefs:p1,triggerRef:h1,unref:at,camelize:d1,capitalize:y1,normalizeClass:Nc,normalizeProps:v1,normalizeStyle:Ec,toDisplayString:Cc,toHandlerKey:g1,BaseTransition:b1,Comment:m1,Fragment:Rc,KeepAlive:_1,Static:O1,Suspense:w1,Teleport:x1,Text:E1,callWithAsyncErrorHandling:S1,callWithErrorHandling:j1,cloneVNode:P1,compatUtils:k1,computed:A1,createBlock:iu,createCommentVNode:Ic,createElementBlock:Pr,createElementVNode:Pn,createHydrationRenderer:T1,createPropsRestProxy:D1,createRenderer:M1,createSlots:N1,createStaticVNode:C1,createTextVNode:Lc,createVNode:Ro,defineAsyncComponent:R1,defineComponent:Fi,defineEmits:I1,defineExpose:L1,defineProps:z1,get devtools(){return B1},getCurrentInstance:F1,getTransitionRawChildren:H1,guardReactiveProps:U1,h:V1,handleError:X1,initCustomFormatter:W1,inject:G1,isMemoSame:Y1,isRuntimeOnly:$1,isVNode:K1,mergeDefaults:q1,mergeProps:Z1,nextTick:J1,onActivated:Q1,onBeforeMount:ex,onBeforeUnmount:tx,onBeforeUpdate:nx,onDeactivated:rx,onErrorCaptured:ox,onMounted:zc,onRenderTracked:ix,onRenderTriggered:ax,onServerPrefetch:ux,onUnmounted:sx,onUpdated:cx,openBlock:kn,popScopeId:ng,provide:lx,pushScopeId:rg,queuePostFlushCb:fx,registerRuntimeCompiler:px,renderList:Bc,renderSlot:hx,resolveComponent:Ri,resolveDirective:dx,resolveDynamicComponent:yx,resolveFilter:vx,resolveTransitionHooks:gx,setBlockTracking:bx,setDevtoolsHook:mx,setTransitionHooks:_x,ssrContextKey:Ox,ssrUtils:wx,toHandlers:xx,transformVNodeArgs:Ex,useAttrs:Sx,useSSRContext:jx,useSlots:Px,useTransitionState:kx,version:Ax,warn:Tx,watch:Dx,watchEffect:Mx,watchPostEffect:Nx,watchSyncEffect:Cx,withAsyncContext:Rx,withCtx:Io,withDefaults:Ix,withDirectives:Lx,withMemo:zx,withScopeId:Bx,Transition:Fx,TransitionGroup:Hx,VueElement:Ux,createApp:Vx,createSSRApp:Xx,defineCustomElement:Wx,defineSSRCustomElement:Gx,hydrate:Yx,initDirectivesForSSR:$x,render:Kx,useCssModule:qx,useCssVars:Zx,vModelCheckbox:Jx,vModelDynamic:Qx,vModelRadio:eE,vModelSelect:tE,vModelText:nE,vShow:rE,withKeys:oE,withModifiers:Sc},Symbol.toStringTag,{value:"Module"}));const lE=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var fE={flowElementList:lE};var Ae={exports:{}};(function(g,v){(function(c,p){g.exports=p()})(window,function(){return function(c){var p={};function u(f){if(p[f])return p[f].exports;var d=p[f]={i:f,l:!1,exports:{}};return c[f].call(d.exports,d,d.exports,u),d.l=!0,d.exports}return u.m=c,u.c=p,u.d=function(f,d,y){u.o(f,d)||Object.defineProperty(f,d,{enumerable:!0,get:y})},u.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,d){if(1&d&&(f=u(f)),8&d||4&d&&typeof f=="object"&&f&&f.__esModule)return f;var y=Object.create(null);if(u.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:f}),2&d&&typeof f!="string")for(var x in f)u.d(y,x,function(E){return f[E]}.bind(null,x));return y},u.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(d,"a",d),d},u.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},u.p="",u(u.s=184)}([function(c,p,u){(function(f,d){u.d(p,"a",function(){return Bt}),u.d(p,"b",function(){return Hr}),u.d(p,"c",function(){return $n}),u.d(p,"d",function(){return hu}),u.d(p,"e",function(){return Ui}),u.d(p,"f",function(){return xn}),u.d(p,"g",function(){return Re}),u.d(p,"h",function(){return Uo}),u.d(p,"i",function(){return _n}),u.d(p,"j",function(){return ao}),u.d(p,"k",function(){return sr}),u.d(p,"l",function(){return Ki}),u.d(p,"m",function(){return ie}),u.d(p,"n",function(){return ra}),u.d(p,"o",function(){return qi}),u.d(p,"p",function(){return Qi}),u.d(p,"q",function(){return dn}),u.d(p,"r",function(){return pa}),u.d(p,"s",function(){return $i}),u.d(p,"t",function(){return ta}),u.d(p,"u",function(){return vu}),u.d(p,"v",function(){return Kn}),u.d(p,"w",function(){return Xt}),u.d(p,"x",function(){return Wt}),u.d(p,"y",function(){return hn}),u.d(p,"z",function(){return qn}),u.d(p,"A",function(){return tt}),u.d(p,"B",function(){return fr}),u.d(p,"C",function(){return ln}),u.d(p,"D",function(){return Ko}),u.d(p,"E",function(){return Yi}),u.d(p,"F",function(){return Wi}),u.d(p,"G",function(){return uo}),u.d(p,"H",function(){return pt}),u.d(p,"I",function(){return Mr}),u.d(p,"J",function(){return Zn}),u.d(p,"K",function(){return ia});var y=[];Object.freeze(y);var x={};Object.freeze(x);var E={};function S(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:E}function P(){return++ge.mobxGuid}function k(b){throw O(!1,b),"X"}function O(b,m){if(!b)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is an production build."))}function z(b){var m=!1;return function(){if(!m)return m=!0,b.apply(this,arguments)}}var Y=function(){};function q(b){return b!==null&&typeof b=="object"}function G(b){if(b===null||typeof b!="object")return!1;var m=Object.getPrototypeOf(b);return m===Object.prototype||m===null}function V(b,m,w){Object.defineProperty(b,m,{enumerable:!1,writable:!0,configurable:!0,value:w})}function L(b,m,w){Object.defineProperty(b,m,{enumerable:!1,writable:!1,configurable:!0,value:w})}function H(b,m){var w="isMobX"+b;return m.prototype[w]=!0,function(T){return q(T)&&T[w]===!0}}function $(b){return S().Map!==void 0&&b instanceof S().Map}function N(b){return b instanceof Set}function I(b){for(var m=[];;){var w=b.next();if(w.done)break;m.push(w.value)}return m}function C(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function F(b){return b===null?null:typeof b=="object"?""+b:b}function B(b,m){for(var w=b.next();!w.done;)m(w.value),w=b.next()}function R(){return typeof Symbol=="function"&&Symbol.iterator||"@@iterator"}function X(b,m){L(b,R(),m)}function K(b){return b[R()]=ce,b}function ne(){return typeof Symbol=="function"&&Symbol.toStringTag||"@@toStringTag"}function ce(){return this}var he=function(){function b(m){m===void 0&&(m="Atom@"+P()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Le.NOT_TRACKING}return b.prototype.onBecomeUnobserved=function(){},b.prototype.onBecomeObserved=function(){},b.prototype.reportObserved=function(){return Ir(this)},b.prototype.reportChanged=function(){Ct(),function(m){if(m.lowestObserverState!==Le.STALE){m.lowestObserverState=Le.STALE;for(var w=m.observers,T=w.length;T--;){var D=w[T];D.dependenciesState===Le.UP_TO_DATE&&(D.isTracing!==Pt.NONE&&Wo(D,m),D.onBecomeStale()),D.dependenciesState=Le.STALE}}}(this),Qt()},b.prototype.toString=function(){return this.name},b}(),pe=H("Atom",he);function ie(b,m,w){m===void 0&&(m=Y),w===void 0&&(w=Y);var T,D=new he(b);return qo("onBecomeObserved",D,m,T),ln(D,w),D}function se(b,m){return b===m}var ae={identity:se,structural:function(b,m){return oi(b,m)},default:function(b,m){return function(w,T){return typeof w=="number"&&typeof T=="number"&&isNaN(w)&&isNaN(T)}(b,m)||se(b,m)},shallow:function(b,m){return oi(b,m,1)}},ue=function(b,m){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var D in T)T.hasOwnProperty(D)&&(w[D]=T[D])})(b,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ve(b,m){function w(){this.constructor=b}ue(b,m),b.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}var be=function(){return(be=Object.assign||function(b){for(var m,w=1,T=arguments.length;w<T;w++)for(var D in m=arguments[w])Object.prototype.hasOwnProperty.call(m,D)&&(b[D]=m[D]);return b}).apply(this,arguments)};function we(b,m){var w=typeof Symbol=="function"&&b[Symbol.iterator];if(!w)return b;var T,D,W=w.call(b),te=[];try{for(;(m===void 0||m-- >0)&&!(T=W.next()).done;)te.push(T.value)}catch(de){D={error:de}}finally{try{T&&!T.done&&(w=W.return)&&w.call(W)}finally{if(D)throw D.error}}return te}function Ce(){for(var b=[],m=0;m<arguments.length;m++)b=b.concat(we(arguments[m]));return b}var Pe={},ot={};function xt(b,m){var w=m?Pe:ot;return w[b]||(w[b]={configurable:!0,enumerable:m,get:function(){return Be(this),this[b]},set:function(T){Be(this),this[b]=T}})}function Be(b){if(b.__mobxDidRunLazyInitializers!==!0){var m=b.__mobxDecorators;if(m)for(var w in V(b,"__mobxDidRunLazyInitializers",!0),m){var T=m[w];T.propertyCreator(b,T.prop,T.descriptor,T.decoratorTarget,T.decoratorArguments)}}}function Te(b,m){return function(){var w,T=function(D,W,te,de){if(de===!0)return m(D,W,te,D,w),null;if(!Object.prototype.hasOwnProperty.call(D,"__mobxDecorators")){var Oe=D.__mobxDecorators;V(D,"__mobxDecorators",be({},Oe))}return D.__mobxDecorators[W]={prop:W,propertyCreator:m,descriptor:te,decoratorTarget:D,decoratorArguments:w},xt(W,b)};return We(arguments)?(w=y,T.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),T)}}function We(b){return(b.length===2||b.length===3)&&typeof b[1]=="string"||b.length===4&&b[3]===!0}function ft(b,m,w){return Kn(b)?b:Array.isArray(b)?tt.array(b,{name:w}):G(b)?tt.object(b,void 0,{name:w}):$(b)?tt.map(b,{name:w}):N(b)?tt.set(b,{name:w}):b}function Ht(b){return b}function Dt(b){O(b);var m=Te(!0,function(T,D,W,te,de){Ou(T,D,W?W.initializer?W.initializer.call(T):W.value:void 0,b)}),w=(d!==void 0&&d.env,m);return w.enhancer=b,w}var ar={deep:!0,name:void 0,defaultDecorator:void 0},eo={deep:!1,name:void 0,defaultDecorator:void 0};function gt(b){return b==null?ar:typeof b=="string"?{name:b,deep:!0}:b}function qt(b){return b.defaultDecorator?b.defaultDecorator.enhancer:b.deep===!1?Ht:ft}Object.freeze(ar),Object.freeze(eo);var Zt=Dt(ft),Ar=Dt(function(b,m,w){return b==null||hn(b)||Xt(b)||Wt(b)||Lt(b)?b:Array.isArray(b)?tt.array(b,{name:w,deep:!1}):G(b)?tt.object(b,void 0,{name:w,deep:!1}):$(b)?tt.map(b,{name:w,deep:!1}):N(b)?tt.set(b,{name:w,deep:!1}):k(!1)}),Tr=Dt(Ht),ur=Dt(function(b,m,w){return oi(b,m)?m:b}),An={box:function(b,m){arguments.length>2&&Mt("box");var w=gt(m);return new bn(b,qt(w),w.name,!0,w.equals)},shallowBox:function(b,m){return arguments.length>2&&Mt("shallowBox"),tt.box(b,{name:m,deep:!1})},array:function(b,m){arguments.length>2&&Mt("array");var w=gt(m);return new It(b,qt(w),w.name)},shallowArray:function(b,m){return arguments.length>2&&Mt("shallowArray"),tt.array(b,{name:m,deep:!1})},map:function(b,m){arguments.length>2&&Mt("map");var w=gt(m);return new Hr(b,qt(w),w.name)},shallowMap:function(b,m){return arguments.length>2&&Mt("shallowMap"),tt.map(b,{name:m,deep:!1})},set:function(b,m){arguments.length>2&&Mt("set");var w=gt(m);return new wn(b,qt(w),w.name)},object:function(b,m,w){typeof arguments[1]=="string"&&Mt("object");var T=gt(w);return qi({},b,m,T)},shallowObject:function(b,m){return typeof arguments[1]=="string"&&Mt("shallowObject"),tt.object(b,{},{name:m,deep:!1})},ref:Tr,shallow:Ar,deep:Zt,struct:ur},tt=function(b,m,w){if(typeof arguments[1]=="string")return Zt.apply(null,arguments);if(Kn(b))return b;var T=G(b)?tt.object(b,m,w):Array.isArray(b)?tt.array(b,m):$(b)?tt.map(b,m):N(b)?tt.set(b,m):b;if(T!==b)return T;k(!1)};function Mt(b){k("Expected one or two arguments to observable."+b+". Did you accidentally try to use observable."+b+" as decorator?")}Object.keys(An).forEach(function(b){return tt[b]=An[b]});var Le,Pt,sn=Te(!1,function(b,m,w,T,D){var W=w.get,te=w.set,de=D[0]||{};(function(Oe,De,xe){var Ue=ri(Oe);xe.name=Ue.name+"."+De,xe.context=Oe,Ue.values[De]=new mn(xe),Object.defineProperty(Oe,De,function(Ve){return pn[Ve]||(pn[Ve]={configurable:ge.computedConfigurable,enumerable:!1,get:function(){return zt(this).read(this,Ve)},set:function(Xe){zt(this).write(this,Ve,Xe)}})}(De))})(b,m,be({get:W,set:te},de))}),Dr=sn({equals:ae.structural}),sr=function(b,m,w){if(typeof m=="string"||b!==null&&typeof b=="object"&&arguments.length===1)return sn.apply(null,arguments);var T=typeof m=="object"?m:{};return T.get=b,T.set=typeof m=="function"?m:T.set,T.name=T.name||b.name||"",new mn(T)};sr.struct=Dr,function(b){b[b.NOT_TRACKING=-1]="NOT_TRACKING",b[b.UP_TO_DATE=0]="UP_TO_DATE",b[b.POSSIBLY_STALE=1]="POSSIBLY_STALE",b[b.STALE=2]="STALE"}(Le||(Le={})),function(b){b[b.NONE=0]="NONE",b[b.LOG=1]="LOG",b[b.BREAK=2]="BREAK"}(Pt||(Pt={}));var cn=function(b){this.cause=b};function _e(b){return b instanceof cn}function Ee(b){switch(b.dependenciesState){case Le.UP_TO_DATE:return!1;case Le.NOT_TRACKING:case Le.STALE:return!0;case Le.POSSIBLY_STALE:for(var m=to(!0),w=Ut(),T=b.observing,D=T.length,W=0;W<D;W++){var te=T[W];if(Yn(te)){if(ge.disableErrorBoundaries)te.get();else try{te.get()}catch{return Jt(w),gn(m),!0}if(b.dependenciesState===Le.STALE)return Jt(w),gn(m),!0}}return Fo(b),Jt(w),gn(m),!1}}function Re(){return ge.trackingDerivation!==null}function Ie(b){var m=b.observers.length>0;ge.computationDepth>0&&m&&k(!1),ge.allowStateChanges||!m&&ge.enforceActions!=="strict"||k(!1)}function ut(b,m,w){var T=to(!0);Fo(b),b.newObserving=new Array(b.observing.length+100),b.unboundDepsCount=0,b.runId=++ge.runId;var D,W=ge.trackingDerivation;if(ge.trackingDerivation=b,ge.disableErrorBoundaries===!0)D=m.call(w);else try{D=m.call(w)}catch(te){D=new cn(te)}return ge.trackingDerivation=W,function(te){for(var de=te.observing,Oe=te.observing=te.newObserving,De=Le.UP_TO_DATE,xe=0,Ue=te.unboundDepsCount,Ve=0;Ve<Ue;Ve++)(Xe=Oe[Ve]).diffValue===0&&(Xe.diffValue=1,xe!==Ve&&(Oe[xe]=Xe),xe++),Xe.dependenciesState>De&&(De=Xe.dependenciesState);for(Oe.length=xe,te.newObserving=null,Ue=de.length;Ue--;)(Xe=de[Ue]).diffValue===0&&Xo(Xe,te),Xe.diffValue=0;for(;xe--;){var Xe;(Xe=Oe[xe]).diffValue===1&&(Xe.diffValue=0,ro(Xe,te))}De!==Le.UP_TO_DATE&&(te.dependenciesState=De,te.onBecomeStale())}(b),b.observing.length,gn(T),D}function Gn(b){var m=b.observing;b.observing=[];for(var w=m.length;w--;)Xo(m[w],b);b.dependenciesState=Le.NOT_TRACKING}function Mr(b){var m=Ut(),w=b();return Jt(m),w}function Ut(){var b=ge.trackingDerivation;return ge.trackingDerivation=null,b}function Jt(b){ge.trackingDerivation=b}function to(b){var m=ge.allowStateReads;return ge.allowStateReads=b,m}function gn(b){ge.allowStateReads=b}function Fo(b){if(b.dependenciesState!==Le.UP_TO_DATE){b.dependenciesState=Le.UP_TO_DATE;for(var m=b.observing,w=m.length;w--;)m[w].lowestObserverState=Le.UP_TO_DATE}}var no=0,pu=1,Ho=Object.getOwnPropertyDescriptor(function(){},"name");Ho&&Ho.configurable;function Tn(b,m){var w=function(){return Hi(b,m,this,arguments)};return w.isMobxAction=!0,w}function Hi(b,m,w,T){var D=Uo(b,w,T);try{return m.apply(w,T)}catch(W){throw D.error=W,W}finally{Ui(D)}}function Uo(b,m,w){var T=bt()&&!!b,D=0;if(T){D=Date.now();var W=w&&w.length||0,te=new Array(W);if(W>0)for(var de=0;de<W;de++)te[de]=w[de];en({type:"action",name:b,object:m,arguments:te})}var Oe=Ut();Ct();var De={prevDerivation:Oe,prevAllowStateChanges:Nr(!0),prevAllowStateReads:to(!0),notifySpy:T,startTime:D,actionId:pu++,parentActionId:no};return no=De.actionId,De}function Ui(b){no!==b.actionId&&k("invalid action stack. did you forget to finish an action?"),no=b.parentActionId,b.error!==void 0&&(ge.suppressReactionErrors=!0),cr(b.prevAllowStateChanges),gn(b.prevAllowStateReads),Qt(),Jt(b.prevDerivation),b.notifySpy&&Vt({time:Date.now()-b.startTime}),ge.suppressReactionErrors=!1}function hu(b,m){var w,T=Nr(b);try{w=m()}finally{cr(T)}return w}function Nr(b){var m=ge.allowStateChanges;return ge.allowStateChanges=b,m}function cr(b){ge.allowStateChanges=b}var bn=function(b){function m(w,T,D,W,te){D===void 0&&(D="ObservableValue@"+P()),W===void 0&&(W=!0),te===void 0&&(te=ae.default);var de=b.call(this,D)||this;return de.enhancer=T,de.name=D,de.equals=te,de.hasUnreportedChange=!1,de.value=T(w,void 0,D),W&&bt()&&Dn({type:"create",name:de.name,newValue:""+de.value}),de}return ve(m,b),m.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},m.prototype.set=function(w){var T=this.value;if((w=this.prepareNewValue(w))!==ge.UNCHANGED){var D=bt();D&&en({type:"update",name:this.name,newValue:w,oldValue:T}),this.setNewValue(w),D&&Vt()}},m.prototype.prepareNewValue=function(w){if(Ie(this),tn(this)){var T=fn(this,{object:this,type:"update",newValue:w});if(!T)return ge.UNCHANGED;w=T.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?ge.UNCHANGED:w},m.prototype.setNewValue=function(w){var T=this.value;this.value=w,this.reportChanged(),Rt(this)&&ht(this,{type:"update",object:this,newValue:w,oldValue:T})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(w){return pr(this,w)},m.prototype.observe=function(w,T){return T&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),hr(this,w)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return F(this.get())},m}(he);bn.prototype[C()]=bn.prototype.valueOf;var Vi=H("ObservableValue",bn),mn=function(){function b(m){this.dependenciesState=Le.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Le.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+P(),this.value=new cn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,O(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+P(),m.set&&(this.setter=Tn(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?ae.structural:ae.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return b.prototype.onBecomeStale=function(){(function(m){if(m.lowestObserverState===Le.UP_TO_DATE){m.lowestObserverState=Le.POSSIBLY_STALE;for(var w=m.observers,T=w.length;T--;){var D=w[T];D.dependenciesState===Le.UP_TO_DATE&&(D.dependenciesState=Le.POSSIBLY_STALE,D.isTracing!==Pt.NONE&&Wo(D,m),D.onBecomeStale())}}})(this)},b.prototype.onBecomeUnobserved=function(){},b.prototype.onBecomeObserved=function(){},b.prototype.get=function(){this.isComputing&&k("Cycle detected in computation "+this.name+": "+this.derivation),ge.inBatch!==0||this.observers.length!==0||this.keepAlive?(Ir(this),Ee(this)&&this.trackAndCompute()&&function(w){if(w.lowestObserverState!==Le.STALE){w.lowestObserverState=Le.STALE;for(var T=w.observers,D=T.length;D--;){var W=T[D];W.dependenciesState===Le.POSSIBLY_STALE?W.dependenciesState=Le.STALE:W.dependenciesState===Le.UP_TO_DATE&&(w.lowestObserverState=Le.UP_TO_DATE)}}}(this)):Ee(this)&&(this.warnAboutUntrackedRead(),Ct(),this.value=this.computeValue(!1),Qt());var m=this.value;if(_e(m))throw m.cause;return m},b.prototype.peek=function(){var m=this.computeValue(!1);if(_e(m))throw m.cause;return m},b.prototype.set=function(m){if(this.setter){O(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else O(!1,!1)},b.prototype.trackAndCompute=function(){bt()&&Dn({object:this.scope,type:"compute",name:this.name});var m=this.value,w=this.dependenciesState===Le.NOT_TRACKING,T=this.computeValue(!0),D=w||_e(m)||_e(T)||!this.equals(m,T);return D&&(this.value=T),D},b.prototype.computeValue=function(m){var w;if(this.isComputing=!0,ge.computationDepth++,m)w=ut(this,this.derivation,this.scope);else if(ge.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(T){w=new cn(T)}return ge.computationDepth--,this.isComputing=!1,w},b.prototype.suspend=function(){this.keepAlive||(Gn(this),this.value=void 0)},b.prototype.observe=function(m,w){var T=this,D=!0,W=void 0;return ao(function(){var te=T.get();if(!D||w){var de=Ut();m({type:"update",object:T,newValue:te,oldValue:W}),Jt(de)}D=!1,W=te})},b.prototype.warnAboutUntrackedRead=function(){},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},b.prototype.valueOf=function(){return F(this.get())},b}();mn.prototype[C()]=mn.prototype.valueOf;var Yn=H("ComputedValue",mn),lr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Cr=!0,Vo=!1,ge=function(){var b=S();return b.__mobxInstanceCount>0&&!b.__mobxGlobals&&(Cr=!1),b.__mobxGlobals&&b.__mobxGlobals.version!==new lr().version&&(Cr=!1),Cr?b.__mobxGlobals?(b.__mobxInstanceCount+=1,b.__mobxGlobals.UNCHANGED||(b.__mobxGlobals.UNCHANGED={}),b.__mobxGlobals):(b.__mobxInstanceCount=1,b.__mobxGlobals=new lr):(setTimeout(function(){Vo||k("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new lr)}();function ro(b,m){var w=b.observers.length;w&&(b.observersIndexes[m.__mapid]=w),b.observers[w]=m,b.lowestObserverState>m.dependenciesState&&(b.lowestObserverState=m.dependenciesState)}function Xo(b,m){if(b.observers.length===1)b.observers.length=0,Rr(b);else{var w=b.observers,T=b.observersIndexes,D=w.pop();if(D!==m){var W=T[m.__mapid]||0;W?T[D.__mapid]=W:delete T[D.__mapid],w[W]=D}delete T[m.__mapid]}}function Rr(b){b.isPendingUnobservation===!1&&(b.isPendingUnobservation=!0,ge.pendingUnobservations.push(b))}function Ct(){ge.inBatch++}function Qt(){if(--ge.inBatch==0){Lr();for(var b=ge.pendingUnobservations,m=0;m<b.length;m++){var w=b[m];w.isPendingUnobservation=!1,w.observers.length===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof mn&&w.suspend())}ge.pendingUnobservations=[]}}function Ir(b){var m=ge.trackingDerivation;return m!==null?(m.runId!==b.lastAccessedBy&&(b.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=b,b.isBeingObserved||(b.isBeingObserved=!0,b.onBecomeObserved())),!0):(b.observers.length===0&&ge.inBatch>0&&Rr(b),!1)}function Wo(b,m){if(console.log("[mobx.trace] '"+b.name+"' is invalidated due to a change in: '"+m.name+"'"),b.isTracing===Pt.BREAK){var w=[];(function W(te,de,Oe){if(de.length>=1e3)return void de.push("(and many more)");de.push(""+new Array(Oe).join("	")+te.name),te.dependencies&&te.dependencies.forEach(function(De){return W(De,de,Oe+1)})})((T=b,Zo(dn(T,D))),w,1),new Function(`debugger;
/*
Tracing '`+b.name+`'

You are entering this break point because derivation '`+b.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(b instanceof mn?b.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}var T,D}var $n=function(){function b(m,w,T,D){m===void 0&&(m="Reaction@"+P()),D===void 0&&(D=!1),this.name=m,this.onInvalidate=w,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=Le.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+P(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return b.prototype.onBecomeStale=function(){this.schedule()},b.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ge.pendingReactions.push(this),Lr())},b.prototype.isScheduled=function(){return this._isScheduled},b.prototype.runReaction=function(){if(!this.isDisposed){if(Ct(),this._isScheduled=!1,Ee(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&bt()&&Dn({name:this.name,type:"scheduled-reaction"})}catch(m){this.reportExceptionInDerivation(m)}}Qt()}},b.prototype.track=function(m){Ct();var w,T=bt();T&&(w=Date.now(),en({name:this.name,type:"reaction"})),this._isRunning=!0;var D=ut(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Gn(this),_e(D)&&this.reportExceptionInDerivation(D.cause),T&&Vt({time:Date.now()-w}),Qt()},b.prototype.reportExceptionInDerivation=function(m){var w=this;if(this.errorHandler)this.errorHandler(m,this);else{if(ge.disableErrorBoundaries)throw m;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,m),bt()&&Dn({type:"error",name:this.name,message:T,error:""+m}),ge.globalReactionErrorHandlers.forEach(function(D){return D(m,w)})}},b.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ct(),Gn(this),Qt()))},b.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m.$mobx=this,m},b.prototype.toString=function(){return"Reaction["+this.name+"]"},b.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=!1;typeof w[w.length-1]=="boolean"&&(D=w.pop());var W=oa(w);if(!W)return k(!1);W.isTracing===Pt.NONE&&console.log("[mobx.trace] '"+W.name+"' tracing enabled"),W.isTracing=D?Pt.BREAK:Pt.LOG}(this,m)},b}(),oo=function(b){return b()};function Lr(){ge.inBatch>0||ge.isRunningReactions||oo(Ke)}function Ke(){ge.isRunningReactions=!0;for(var b=ge.pendingReactions,m=0;b.length>0;){++m==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+b[0]),b.splice(0));for(var w=b.splice(0),T=0,D=w.length;T<D;T++)w[T].runReaction()}ge.isRunningReactions=!1}var io=H("Reaction",$n);function Xi(b){var m=oo;oo=function(w){return b(function(){return m(w)})}}function bt(){return!!ge.spyListeners.length}function Dn(b){if(ge.spyListeners.length)for(var m=ge.spyListeners,w=0,T=m.length;w<T;w++)m[w](b)}function en(b){Dn(be(be({},b),{spyReportStart:!0}))}var du={spyReportEnd:!0};function Vt(b){Dn(b?be(be({},b),{spyReportEnd:!0}):du)}function Wi(b){return ge.spyListeners.push(b),z(function(){ge.spyListeners=ge.spyListeners.filter(function(m){return m!==b})})}function yu(){k(!1)}function Go(b){return function(m,w,T){if(T){if(T.value)return{value:Tn(b,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Tn(b,D.call(this))}}}return Gi(b).apply(this,arguments)}}function Gi(b){return function(m,w,T){Object.defineProperty(m,w,{configurable:!0,enumerable:!1,get:function(){},set:function(D){V(this,w,_n(b,D))}})}}var _n=function(b,m,w,T){return arguments.length===1&&typeof b=="function"?Tn(b.name||"<unnamed action>",b):arguments.length===2&&typeof m=="function"?Tn(b,m):arguments.length===1&&typeof b=="string"?Go(b):T!==!0?Go(m).apply(null,arguments):void(b[m]=Tn(b.name||m,w.value))};function Yi(b,m){return Hi(typeof b=="string"?b:b.name||"<unnamed action>",typeof b=="function"?b:m,this,void 0)}function $i(b){return typeof b=="function"&&b.isMobxAction===!0}function Mn(b,m,w){V(b,m,Tn(m,w.bind(b)))}function ao(b,m){m===void 0&&(m=x);var w,T=m&&m.name||b.name||"Autorun@"+P();if(!m.scheduler&&!m.delay)w=new $n(T,function(){this.track(te)},m.onError,m.requiresObservable);else{var D=$o(m),W=!1;w=new $n(T,function(){W||(W=!0,D(function(){W=!1,w.isDisposed||w.track(te)}))},m.onError,m.requiresObservable)}function te(){b(w)}return w.schedule(),w.getDisposer()}_n.bound=function(b,m,w,T){return T===!0?(Mn(b,m,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Mn(this,m,w.value||w.initializer.call(this)),this[m]},set:yu}:{enumerable:!1,configurable:!0,set:function(D){Mn(this,m,D)},get:function(){}}};var Yo=function(b){return b()};function $o(b){return b.scheduler?b.scheduler:b.delay?function(m){return setTimeout(m,b.delay)}:Yo}function Ko(b,m,w){w===void 0&&(w=x),typeof w=="boolean"&&(w={fireImmediately:w});var T,D,W,te=w.name||"Reaction@"+P(),de=_n(te,w.onError?(T=w.onError,D=m,function(){try{return D.apply(this,arguments)}catch(Ge){T.call(this,Ge)}}):m),Oe=!w.scheduler&&!w.delay,De=$o(w),xe=!0,Ue=!1,Ve=w.compareStructural?ae.structural:w.equals||ae.default,Xe=new $n(te,function(){xe||Oe?Qe():Ue||(Ue=!0,De(Qe))},w.onError,w.requiresObservable);function Qe(){if(Ue=!1,!Xe.isDisposed){var Ge=!1;Xe.track(function(){var it=b(Xe);Ge=xe||!Ve(W,it),W=it}),xe&&w.fireImmediately&&de(W,Xe),xe||Ge!==!0||de(W,Xe),xe&&(xe=!1)}}return Xe.schedule(),Xe.getDisposer()}function ln(b,m,w){return qo("onBecomeUnobserved",b,m,w)}function qo(b,m,w,T){var D=typeof T=="function"?dn(m,w):dn(m),W=typeof T=="function"?T:w,te=D[b];return typeof te!="function"?k(!1):(D[b]=function(){te.call(this),W.call(this)},function(){D[b]=te})}function Ki(b){var m=b.enforceActions,w=b.computedRequiresReaction,T=b.computedConfigurable,D=b.disableErrorBoundaries,W=b.arrayBuffer,te=b.reactionScheduler,de=b.reactionRequiresObservable,Oe=b.observableRequiresReaction;if(b.isolateGlobalState===!0&&((ge.pendingReactions.length||ge.inBatch||ge.isRunningReactions)&&k("isolateGlobalState should be called before MobX is running any reactions"),Vo=!0,Cr&&(--S().__mobxInstanceCount==0&&(S().__mobxGlobals=void 0),ge=new lr)),m!==void 0){var De=void 0;switch(m){case!0:case"observed":De=!0;break;case!1:case"never":De=!1;break;case"strict":case"always":De="strict";break;default:k("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}ge.enforceActions=De,ge.allowStateChanges=De!==!0&&De!=="strict"}w!==void 0&&(ge.computedRequiresReaction=!!w),de!==void 0&&(ge.reactionRequiresObservable=!!de),Oe!==void 0&&(ge.observableRequiresReaction=!!Oe,ge.allowStateReads=!ge.observableRequiresReaction),T!==void 0&&(ge.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),ge.disableErrorBoundaries=!!D),typeof W=="number"&&ni(W),te&&Xi(te)}function qi(b,m,w,T){var D=(T=gt(T)).defaultDecorator||(T.deep===!1?Tr:Zt);Be(b),ri(b,T.name,D.enhancer),Ct();try{for(var W=Object.getOwnPropertyNames(m),te=0,de=W.length;te<de;te++){var Oe=W[te],De=Object.getOwnPropertyDescriptor(m,Oe),xe=(w&&Oe in w?w[Oe]:De.get?sn:D)(b,Oe,De,!0);xe&&Object.defineProperty(b,Oe,xe)}}finally{Qt()}return b}function Zo(b){var m,w,T={name:b.name};return b.observing&&b.observing.length>0&&(T.dependencies=(m=b.observing,w=[],m.forEach(function(D){w.indexOf(D)===-1&&w.push(D)}),w).map(Zo)),T}var Zi=0;function Ji(){this.message="FLOW_CANCELLED"}function Qi(b){arguments.length!==1&&k("Flow expects one 1 argument and cannot be used as decorator");var m=b.name||"<unnamed flow>";return function(){var w,T=this,D=arguments,W=++Zi,te=_n(m+" - runid: "+W+" - init",b).apply(T,D),de=void 0,Oe=new Promise(function(De,xe){var Ue=0;function Ve(Ge){var it;de=void 0;try{it=_n(m+" - runid: "+W+" - yield "+Ue++,te.next).call(te,Ge)}catch(mt){return xe(mt)}Qe(it)}function Xe(Ge){var it;de=void 0;try{it=_n(m+" - runid: "+W+" - yield "+Ue++,te.throw).call(te,Ge)}catch(mt){return xe(mt)}Qe(it)}function Qe(Ge){if(!Ge||typeof Ge.then!="function")return Ge.done?De(Ge.value):(de=Promise.resolve(Ge.value)).then(Ve,Xe);Ge.then(Qe,xe)}w=xe,Ve(void 0)});return Oe.cancel=_n(m+" - runid: "+W+" - cancel",function(){try{de&&Jo(de);var De=te.return(void 0),xe=Promise.resolve(De.value);xe.then(Y,Y),Jo(xe),w(new Ji)}catch(Ue){w(Ue)}}),Oe}}function Jo(b){typeof b.cancel=="function"&&b.cancel()}function ea(b,m){if(b==null)return!1;if(m!==void 0){if(hn(b)===!1||!b.$mobx.values[m])return!1;var w=dn(b,m);return Yn(w)}return Yn(b)}function ta(b){return arguments.length>1?k(!1):ea(b)}function vu(b,m){return typeof m!="string"?k(!1):ea(b,m)}function na(b,m){if(b==null)return!1;if(m!==void 0){if(hn(b)){var w=b.$mobx;return w.values&&!!w.values[m]}return!1}return hn(b)||!!b.$mobx||pe(b)||io(b)||Yn(b)}function Kn(b){return arguments.length!==1&&k(!1),na(b)}function qn(b){return hn(b)?b.$mobx.getKeys():Wt(b)||Lt(b)?I(b.keys()):Xt(b)?b.map(function(m,w){return w}):k(!1)}function Zn(b){return hn(b)?qn(b).map(function(m){return b[m]}):Wt(b)?qn(b).map(function(m){return b.get(m)}):Lt(b)?I(b.values()):Xt(b)?b.slice():k(!1)}function ra(b){return hn(b)?qn(b).map(function(m){return[m,b[m]]}):Wt(b)?qn(b).map(function(m){return[m,b.get(m)]}):Lt(b)?I(b.entries()):Xt(b)?b.map(function(m,w){return[w,m]}):k(!1)}function fr(b,m,w,T){return typeof w=="function"?function(D,W,te,de){return xn(D,W).observe(te,de)}(b,m,w,T):function(D,W,te){return xn(D).observe(W,te)}(b,m,w)}Ji.prototype=Object.create(Error.prototype);var Qo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function On(b,m,w,T){return T.detectCycles&&b.set(m,w),w}function uo(b,m){var w;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Qo),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(w=new Map),function T(D,W,te){if(!W.recurseEverything&&!Kn(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(Vi(D))return T(D.get(),W,te);if(Kn(D)&&qn(D),W.detectCycles===!0&&D!==null&&te.has(D))return te.get(D);if(Xt(D)||Array.isArray(D)){var de=On(te,D,[],W),Oe=D.map(function(mt){return T(mt,W,te)});de.length=Oe.length;for(var De=0,xe=Oe.length;De<xe;De++)de[De]=Oe[De];return de}if(Lt(D)||Object.getPrototypeOf(D)===Set.prototype){if(W.exportMapsAsObjects===!1){var Ue=On(te,D,new Set,W);return D.forEach(function(mt){Ue.add(T(mt,W,te))}),Ue}var Ve=On(te,D,[],W);return D.forEach(function(mt){Ve.push(T(mt,W,te))}),Ve}if(Wt(D)||Object.getPrototypeOf(D)===Map.prototype){if(W.exportMapsAsObjects===!1){var Xe=On(te,D,new Map,W);return D.forEach(function(mt,ai){Xe.set(ai,T(mt,W,te))}),Xe}var Qe=On(te,D,{},W);return D.forEach(function(mt,ai){Qe[ai]=T(mt,W,te)}),Qe}var Ge=On(te,D,{},W);for(var it in D)Ge[it]=T(D[it],W,te);return Ge}(b,m,w)}function oa(b){switch(b.length){case 0:return ge.trackingDerivation;case 1:return dn(b[0]);case 2:return dn(b[0],b[1])}}function pt(b,m){m===void 0&&(m=void 0),Ct();try{return b.apply(m)}finally{Qt()}}function ia(b,m,w){return arguments.length===1||m&&typeof m=="object"?gu(b,m):ei(b,m,w||{})}function ei(b,m,w){var T;typeof w.timeout=="number"&&(T=setTimeout(function(){if(!W.$mobx.isDisposed){W();var te=new Error("WHEN_TIMEOUT");if(!w.onError)throw te;w.onError(te)}},w.timeout)),w.name=w.name||"When@"+P();var D=Tn(w.name+"-effect",m),W=ao(function(te){b()&&(te.dispose(),T&&clearTimeout(T),D())},w);return W}function gu(b,m){var w,T=new Promise(function(D,W){var te=ei(b,D,be(be({},m),{onError:W}));w=function(){te(),W("WHEN_CANCELLED")}});return T.cancel=w,T}function tn(b){return b.interceptors!==void 0&&b.interceptors.length>0}function pr(b,m){var w=b.interceptors||(b.interceptors=[]);return w.push(m),z(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function fn(b,m){var w=Ut();try{var T=b.interceptors;if(T)for(var D=0,W=T.length;D<W&&(O(!(m=T[D](m))||m.type,"Intercept handlers should return nothing or a change object"),m);D++);return m}finally{Jt(w)}}function Rt(b){return b.changeListeners!==void 0&&b.changeListeners.length>0}function hr(b,m){var w=b.changeListeners||(b.changeListeners=[]);return w.push(m),z(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function ht(b,m){var w=Ut(),T=b.changeListeners;if(T){for(var D=0,W=(T=T.slice()).length;D<W;D++)T[D](m);Jt(w)}}var zr,so,dr,Br,aa=(zr=!1,so={},Object.defineProperty(so,"0",{set:function(){zr=!0}}),Object.create(so)[0]=1,zr===!1),ti=0,Fr=function(){};dr=Fr,Br=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(dr.prototype,Br):dr.prototype.__proto__!==void 0?dr.prototype.__proto__=Br:dr.prototype=Br,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(b){Object.defineProperty(Fr.prototype,b,{configurable:!0,writable:!0,value:Array.prototype[b]})});var co=function(){function b(m,w,T,D){this.array=T,this.owned=D,this.values=[],this.lastKnownLength=0,this.atom=new he(m||"ObservableArray@"+P()),this.enhancer=function(W,te){return w(W,te,m+"[..]")}}return b.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},b.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},b.prototype.intercept=function(m){return pr(this,m)},b.prototype.observe=function(m,w){return w===void 0&&(w=!1),w&&m({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),hr(this,m)},b.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},b.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var w=this.values.length;if(m!==w)if(m>w){for(var T=new Array(m-w),D=0;D<m-w;D++)T[D]=void 0;this.spliceWithArray(w,0,T)}else this.spliceWithArray(m,w-m)},b.prototype.updateArrayLength=function(m,w){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=w,w>0&&m+w+1>ti&&ni(m+w+1)},b.prototype.spliceWithArray=function(m,w,T){var D=this;Ie(this.atom);var W=this.values.length;if(m===void 0?m=0:m>W?m=W:m<0&&(m=Math.max(0,W+m)),w=arguments.length===1?W-m:w==null?0:Math.max(0,Math.min(w,W-m)),T===void 0&&(T=y),tn(this)){var te=fn(this,{object:this.array,type:"splice",index:m,removedCount:w,added:T});if(!te)return y;w=te.removedCount,T=te.added}var de=(T=T.length===0?T:T.map(function(De){return D.enhancer(De,void 0)})).length-w;this.updateArrayLength(W,de);var Oe=this.spliceItemsIntoValues(m,w,T);return w===0&&T.length===0||this.notifyArraySplice(m,T,Oe),this.dehanceValues(Oe)},b.prototype.spliceItemsIntoValues=function(m,w,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,Ce([m,w],T));var W=this.values.slice(m,m+w);return this.values=this.values.slice(0,m).concat(T,this.values.slice(m+w)),W},b.prototype.notifyArrayChildUpdate=function(m,w,T){var D=!this.owned&&bt(),W=Rt(this),te=W||D?{object:this.array,type:"update",index:m,newValue:w,oldValue:T}:null;D&&en(be(be({},te),{name:this.atom.name})),this.atom.reportChanged(),W&&ht(this,te),D&&Vt()},b.prototype.notifyArraySplice=function(m,w,T){var D=!this.owned&&bt(),W=Rt(this),te=W||D?{object:this.array,type:"splice",index:m,removed:T,added:w,removedCount:T.length,addedCount:w.length}:null;D&&en(be(be({},te),{name:this.atom.name})),this.atom.reportChanged(),W&&ht(this,te),D&&Vt()},b}(),It=function(b){function m(w,T,D,W){D===void 0&&(D="ObservableArray@"+P()),W===void 0&&(W=!1);var te=b.call(this)||this,de=new co(D,T,te,W);if(L(te,"$mobx",de),w&&w.length){var Oe=Nr(!0);te.spliceWithArray(0,0,w),cr(Oe)}return aa&&Object.defineProperty(de.array,"0",bu),te}return ve(m,b),m.prototype.intercept=function(w){return this.$mobx.intercept(w)},m.prototype.observe=function(w,T){return T===void 0&&(T=!1),this.$mobx.observe(w,T)},m.prototype.clear=function(){return this.splice(0)},m.prototype.concat=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),w.map(function(D){return Xt(D)?D.peek():D}))},m.prototype.replace=function(w){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,w)},m.prototype.toJS=function(){return this.slice()},m.prototype.toJSON=function(){return this.toJS()},m.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},m.prototype.find=function(w,T,D){D===void 0&&(D=0);var W=this.findIndex.apply(this,arguments);return W===-1?void 0:this.get(W)},m.prototype.findIndex=function(w,T,D){D===void 0&&(D=0);for(var W=this.peek(),te=W.length,de=D;de<te;de++)if(w.call(T,W[de],de,this))return de;return-1},m.prototype.splice=function(w,T){for(var D=[],W=2;W<arguments.length;W++)D[W-2]=arguments[W];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(w);case 2:return this.$mobx.spliceWithArray(w,T)}return this.$mobx.spliceWithArray(w,T,D)},m.prototype.spliceWithArray=function(w,T,D){return this.$mobx.spliceWithArray(w,T,D)},m.prototype.push=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=this.$mobx;return D.spliceWithArray(D.values.length,0,w),D.values.length},m.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},m.prototype.shift=function(){return this.splice(0,1)[0]},m.prototype.unshift=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=this.$mobx;return D.spliceWithArray(0,0,w),D.values.length},m.prototype.reverse=function(){var w=this.slice();return w.reverse.apply(w,arguments)},m.prototype.sort=function(w){var T=this.slice();return T.sort.apply(T,arguments)},m.prototype.remove=function(w){var T=this.$mobx.dehanceValues(this.$mobx.values).indexOf(w);return T>-1&&(this.splice(T,1),!0)},m.prototype.move=function(w,T){function D(de){if(de<0)throw new Error("[mobx.array] Index out of bounds: "+de+" is negative");var Oe=this.$mobx.values.length;if(de>=Oe)throw new Error("[mobx.array] Index out of bounds: "+de+" is not smaller than "+Oe)}if(D.call(this,w),D.call(this,T),w!==T){var W,te=this.$mobx.values;W=w<T?Ce(te.slice(0,w),te.slice(w+1,T+1),[te[w]],te.slice(T+1)):Ce(te.slice(0,T),[te[w]],te.slice(T,w),te.slice(w+1)),this.replace(W)}},m.prototype.get=function(w){var T=this.$mobx;if(T){if(w<T.values.length)return T.atom.reportObserved(),T.dehanceValue(T.values[w]);console.warn("[mobx.array] Attempt to read an array index ("+w+") that is out of bounds ("+T.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},m.prototype.set=function(w,T){var D=this.$mobx,W=D.values;if(w<W.length){Ie(D.atom);var te=W[w];if(tn(D)){var de=fn(D,{type:"update",object:this,index:w,newValue:T});if(!de)return;T=de.newValue}(T=D.enhancer(T,te))!==te&&(W[w]=T,D.notifyArrayChildUpdate(w,T,te))}else{if(w!==W.length)throw new Error("[mobx.array] Index out of bounds, "+w+" is larger than "+W.length);D.spliceWithArray(w,0,[T])}},m}(Fr);X(It.prototype,function(){this.$mobx.atom.reportObserved();var b=this,m=0;return K({next:function(){return m<b.length?{value:b[m++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(It.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(b){this.$mobx.setArrayLength(b)}}),V(It.prototype,ne(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(b){var m=Array.prototype[b];O(typeof m=="function","Base function not defined on Array prototype: '"+b+"'"),V(It.prototype,b,function(){return m.apply(this.peek(),arguments)})}),["every","filter","forEach","map","some"].forEach(function(b){O(typeof Array.prototype[b]=="function","Base function not defined on Array prototype: '"+b+"'"),V(It.prototype,b,function(m,w){var T=this,D=this.$mobx;return D.atom.reportObserved(),D.dehanceValues(D.values)[b](function(W,te){return m.call(w,W,te,T)},w)})}),["reduce","reduceRight"].forEach(function(b){V(It.prototype,b,function(){var m=this,w=this.$mobx;w.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,W,te){return W=w.dehanceValue(W),T(D,W,te,m)},w.values[b].apply(w.values,arguments)})}),function(b,m){for(var w=0;w<m.length;w++)V(b,m[w],b[m[w]])}(It.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var bu=ua(0);function ua(b){return{enumerable:!1,configurable:!1,get:function(){return this.get(b)},set:function(m){this.set(b,m)}}}function sa(b){Object.defineProperty(It.prototype,""+b,ua(b))}function ni(b){for(var m=ti;m<b;m++)sa(m);ti=b}ni(1e3);var lo=H("ObservableArrayAdministration",co);function Xt(b){return q(b)&&lo(b.$mobx)}var mu={},Hr=function(){function b(m,w,T){if(w===void 0&&(w=ft),T===void 0&&(T="ObservableMap@"+P()),this.enhancer=w,this.name=T,this.$mobx=mu,this._keysAtom=ie(this.name+".keys()"),typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return b.prototype._has=function(m){return this._data.has(m)},b.prototype.has=function(m){var w=this;if(!ge.trackingDerivation)return this._has(m);var T=this._hasMap.get(m);if(!T){var D=T=new bn(this._has(m),Ht,this.name+"."+fo(m)+"?",!1);this._hasMap.set(m,D),ln(D,function(){return w._hasMap.delete(m)})}return T.get()},b.prototype.set=function(m,w){var T=this._has(m);if(tn(this)){var D=fn(this,{type:T?"update":"add",object:this,newValue:w,name:m});if(!D)return this;w=D.newValue}return T?this._updateValue(m,w):this._addValue(m,w),this},b.prototype.delete=function(m){var w=this;if(Ie(this._keysAtom),tn(this)&&!(W=fn(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var T=bt(),D=Rt(this),W=D||T?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return T&&en(be(be({},W),{name:this.name,key:m})),pt(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(m,!1),w._data.get(m).setNewValue(void 0),w._data.delete(m)}),D&&ht(this,W),T&&Vt(),!0}return!1},b.prototype._updateHasMapEntry=function(m,w){var T=this._hasMap.get(m);T&&T.setNewValue(w)},b.prototype._updateValue=function(m,w){var T=this._data.get(m);if((w=T.prepareNewValue(w))!==ge.UNCHANGED){var D=bt(),W=Rt(this),te=W||D?{type:"update",object:this,oldValue:T.value,name:m,newValue:w}:null;D&&en(be(be({},te),{name:this.name,key:m})),T.setNewValue(w),W&&ht(this,te),D&&Vt()}},b.prototype._addValue=function(m,w){var T=this;Ie(this._keysAtom),pt(function(){var de=new bn(w,T.enhancer,T.name+"."+fo(m),!1);T._data.set(m,de),w=de.value,T._updateHasMapEntry(m,!0),T._keysAtom.reportChanged()});var D=bt(),W=Rt(this),te=W||D?{type:"add",object:this,name:m,newValue:w}:null;D&&en(be(be({},te),{name:this.name,key:m})),W&&ht(this,te),D&&Vt()},b.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},b.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},b.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},b.prototype.values=function(){var m=this,w=this.keys();return K({next:function(){var T=w.next(),D=T.done,W=T.value;return{done:D,value:D?void 0:m.get(W)}}})},b.prototype.entries=function(){var m=this,w=this.keys();return K({next:function(){var T=w.next(),D=T.done,W=T.value;return{done:D,value:D?void 0:[W,m.get(W)]}}})},b.prototype.forEach=function(m,w){var T=this;this._keysAtom.reportObserved(),this._data.forEach(function(D,W){return m.call(w,T.get(W),W,T)})},b.prototype.merge=function(m){var w=this;return Wt(m)&&(m=m.toJS()),pt(function(){var T=Nr(!0);try{G(m)?Object.keys(m).forEach(function(D){return w.set(D,m[D])}):Array.isArray(m)?m.forEach(function(D){var W=we(D,2),te=W[0],de=W[1];return w.set(te,de)}):$(m)?m.constructor!==Map?k("Cannot initialize from classes that inherit from Map: "+m.constructor.name):m.forEach(function(D,W){return w.set(W,D)}):m!=null&&k("Cannot initialize map from "+m)}finally{cr(T)}}),this},b.prototype.clear=function(){var m=this;pt(function(){Mr(function(){m._data.forEach(function(w,T){return m.delete(T)})})})},b.prototype.replace=function(m){var w=this;return pt(function(){var T=function(xe){if($(xe)||Wt(xe))return xe;if(Array.isArray(xe))return new Map(xe);if(G(xe)){var Ue=new Map;for(var Ve in xe)Ue.set(Ve,xe[Ve]);return Ue}return k("Cannot convert to map from '"+xe+"'")}(m),D=new Map,W=!1;if(B(w._data.keys(),function(xe){if(!T.has(xe))if(w.delete(xe))W=!0;else{var Ue=w._data.get(xe);D.set(xe,Ue)}}),B(T.entries(),function(xe){var Ue=we(xe,2),Ve=Ue[0],Xe=Ue[1],Qe=w._data.has(Ve);if(w.set(Ve,Xe),w._data.has(Ve)){var Ge=w._data.get(Ve);D.set(Ve,Ge),Qe||(W=!0)}}),!W)if(w._data.size!==D.size)w._keysAtom.reportChanged();else for(var te=w._data.keys(),de=D.keys(),Oe=te.next(),De=de.next();!Oe.done;){if(Oe.value!==De.value){w._keysAtom.reportChanged();break}Oe=te.next(),De=de.next()}w._data=D}),this},Object.defineProperty(b.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),b.prototype.toPOJO=function(){var m=this,w={};return this.forEach(function(T,D){return w[typeof D=="symbol"?D:fo(D)]=m.get(D)}),w},b.prototype.toJS=function(){return new Map(this)},b.prototype.toJSON=function(){return this.toPOJO()},b.prototype.toString=function(){var m=this;return this.name+"[{ "+I(this.keys()).map(function(w){return fo(w)+": "+m.get(w)}).join(", ")+" }]"},b.prototype.observe=function(m,w){return hr(this,m)},b.prototype.intercept=function(m){return pr(this,m)},b}();function fo(b){return b&&b.toString?b.toString():new String(b).toString()}X(Hr.prototype,function(){return this.entries()}),L(Hr.prototype,ne(),"Map");var Wt=H("ObservableMap",Hr),_u={},wn=function(){function b(m,w,T){if(w===void 0&&(w=ft),T===void 0&&(T="ObservableSet@"+P()),this.name=T,this.$mobx=_u,this._data=new Set,this._atom=ie(this.name),typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,W){return w(D,W,T)},m&&this.replace(m)}return b.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},b.prototype.clear=function(){var m=this;pt(function(){Mr(function(){m._data.forEach(function(w){m.delete(w)})})})},b.prototype.forEach=function(m,w){var T=this;this._atom.reportObserved(),this._data.forEach(function(D){m.call(w,D,D,T)})},Object.defineProperty(b.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),b.prototype.add=function(m){var w=this;if(Ie(this._atom),tn(this)&&!(W=fn(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){pt(function(){w._data.add(w.enhancer(m,void 0)),w._atom.reportChanged()});var T=bt(),D=Rt(this),W=D||T?{type:"add",object:this,newValue:m}:null;D&&ht(this,W)}return this},b.prototype.delete=function(m){var w=this;if(tn(this)&&!(W=fn(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var T=bt(),D=Rt(this),W=D||T?{type:"delete",object:this,oldValue:m}:null;return pt(function(){w._atom.reportChanged(),w._data.delete(m)}),D&&ht(this,W),!0}return!1},b.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},b.prototype.entries=function(){var m=0,w=I(this.keys()),T=I(this.values());return K({next:function(){var D=m;return m+=1,D<T.length?{value:[w[D],T[D]],done:!1}:{done:!0}}})},b.prototype.keys=function(){return this.values()},b.prototype.values=function(){this._atom.reportObserved();var m,w=this,T=0;return this._data.values!==void 0?m=I(this._data.values()):(m=[],this._data.forEach(function(D){return m.push(D)})),K({next:function(){return T<m.length?{value:w.dehanceValue(m[T++]),done:!1}:{done:!0}}})},b.prototype.replace=function(m){var w=this;return Lt(m)&&(m=m.toJS()),pt(function(){var T=Nr(!0);try{Array.isArray(m)||N(m)?(w.clear(),m.forEach(function(D){return w.add(D)})):m!=null&&k("Cannot initialize set from "+m)}finally{cr(T)}}),this},b.prototype.observe=function(m,w){return hr(this,m)},b.prototype.intercept=function(m){return pr(this,m)},b.prototype.toJS=function(){return new Set(this)},b.prototype.toString=function(){return this.name+"[ "+I(this.keys()).join(", ")+" ]"},b}();X(wn.prototype,function(){return this.values()}),L(wn.prototype,ne(),"Set");var Lt=H("ObservableSet",wn),ca=function(){function b(m,w,T){this.target=m,this.name=w,this.defaultEnhancer=T,this.values={}}return b.prototype.read=function(m,w){if(this.target===m||(this.illegalAccess(m,w),this.values[w]))return this.values[w].get()},b.prototype.write=function(m,w,T){var D=this.target;D!==m&&this.illegalAccess(m,w);var W=this.values[w];if(W instanceof mn)W.set(T);else{if(tn(this)){if(!(Oe=fn(this,{type:"update",object:D,name:w,newValue:T})))return;T=Oe.newValue}if((T=W.prepareNewValue(T))!==ge.UNCHANGED){var te=Rt(this),de=bt(),Oe=te||de?{type:"update",object:D,oldValue:W.value,name:w,newValue:T}:null;de&&en(be(be({},Oe),{name:this.name,key:w})),W.setNewValue(T),te&&ht(this,Oe),de&&Vt()}}},b.prototype.remove=function(m){if(this.values[m]){var w=this.target;if(tn(this)&&!(te=fn(this,{object:w,name:m,type:"remove"})))return;try{Ct();var T=Rt(this),D=bt(),W=this.values[m].get();this.keys&&this.keys.remove(m),delete this.values[m],delete this.target[m];var te=T||D?{type:"remove",object:w,oldValue:W,name:m}:null;D&&en(be(be({},te),{name:this.name,key:m})),T&&ht(this,te),D&&Vt()}finally{Qt()}}},b.prototype.illegalAccess=function(m,w){console.warn("Property '"+w+"' of '"+m+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},b.prototype.observe=function(m,w){return hr(this,m)},b.prototype.intercept=function(m){return pr(this,m)},b.prototype.getKeys=function(){var m=this;return this.keys===void 0&&(this.keys=new It(Object.keys(this.values).filter(function(w){return m.values[w]instanceof bn}),Ht,"keys("+this.name+")",!0)),this.keys.slice()},b}();function ri(b,m,w){m===void 0&&(m=""),w===void 0&&(w=ft);var T=b.$mobx;return T||(G(b)||(m=(b.constructor.name||"ObservableObject")+"@"+P()),m||(m="ObservableObject@"+P()),L(b,"$mobx",T=new ca(b,m,w)),T)}function Ou(b,m,w,T){var D=ri(b);if(tn(D)){var W=fn(D,{object:b,name:m,type:"add",newValue:w});if(!W)return;w=W.newValue}w=(D.values[m]=new bn(w,T,D.name+"."+m,!1)).value,Object.defineProperty(b,m,function(te){return la[te]||(la[te]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,te)},set:function(de){this.$mobx.write(this,te,de)}})}(m)),D.keys&&D.keys.push(m),function(te,de,Oe,De){var xe=Rt(te),Ue=bt(),Ve=xe||Ue?{type:"add",object:de,name:Oe,newValue:De}:null;Ue&&en(be(be({},Ve),{name:te.name,key:Oe})),xe&&ht(te,Ve),Ue&&Vt()}(D,b,m,w)}var la=Object.create(null),pn=Object.create(null);function zt(b){var m=b.$mobx;return m||(Be(b),b.$mobx)}var fa=H("ObservableObjectAdministration",ca);function hn(b){return!!q(b)&&(Be(b),fa(b.$mobx))}function dn(b,m){if(typeof b=="object"&&b!==null){if(Xt(b))return m!==void 0&&k(!1),b.$mobx.atom;if(Lt(b))return b.$mobx;if(Wt(b)){var w=b;return m===void 0?w._keysAtom:((T=w._data.get(m)||w._hasMap.get(m))||k(!1),T)}var T;if(Be(b),m&&!b.$mobx&&b[m],hn(b))return m?((T=b.$mobx.values[m])||k(!1),T):k(!1);if(pe(b)||Yn(b)||io(b))return b}else if(typeof b=="function"&&io(b.$mobx))return b.$mobx;return k(!1)}function xn(b,m){return b||k("Expecting some object"),m!==void 0?xn(dn(b,m)):pe(b)||Yn(b)||io(b)||Wt(b)||Lt(b)?b:(Be(b),b.$mobx?b.$mobx:void k(!1))}function pa(b,m){return(m!==void 0?dn(b,m):hn(b)||Wt(b)||Lt(b)?xn(b):dn(b)).name}var ha=Object.prototype.toString;function oi(b,m,w){return w===void 0&&(w=-1),function T(D,W,te,de,Oe){if(D===W)return D!==0||1/D==1/W;if(D==null||W==null)return!1;if(D!=D)return W!=W;var De=typeof D;if(De!=="function"&&De!=="object"&&typeof W!="object")return!1;D=ii(D),W=ii(W);var xe=ha.call(D);if(xe!==ha.call(W))return!1;switch(xe){case"[object RegExp]":case"[object String]":return""+D==""+W;case"[object Number]":return+D!=+D?+W!=+W:+D==0?1/+D==1/W:+D==+W;case"[object Date]":case"[object Boolean]":return+D==+W;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(W)}var Ue=xe==="[object Array]";if(!Ue){if(typeof D!="object"||typeof W!="object")return!1;var Ve=D.constructor,Xe=W.constructor;if(Ve!==Xe&&!(typeof Ve=="function"&&Ve instanceof Ve&&typeof Xe=="function"&&Xe instanceof Xe)&&"constructor"in D&&"constructor"in W)return!1}if(te===0)return!1;te<0&&(te=-1),Oe=Oe||[];for(var Qe=(de=de||[]).length;Qe--;)if(de[Qe]===D)return Oe[Qe]===W;if(de.push(D),Oe.push(W),Ue){if((Qe=D.length)!==W.length)return!1;for(;Qe--;)if(!T(D[Qe],W[Qe],te-1,de,Oe))return!1}else{var Ge=Object.keys(D),it=void 0;if(Qe=Ge.length,Object.keys(W).length!==Qe)return!1;for(;Qe--;)if(it=Ge[Qe],!yr(W,it)||!T(D[it],W[it],te-1,de,Oe))return!1}return de.pop(),Oe.pop(),!0}(b,m,w)}function ii(b){return Xt(b)?b.peek():$(b)||Wt(b)||N(b)||Lt(b)?I(b.entries()):b}function yr(b,m){return Object.prototype.hasOwnProperty.call(b,m)}var Bt="$mobx";typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Wi,extras:{getDebugName:pa},$mobx:Bt})}).call(this,u(85),u(104))},function(c,p,u){var f=u(34),d=u(66),y=u(56),x=u(51),E=u(90),S=x.set,P=x.getterFor("Array Iterator");c.exports=E(Array,"Array",function(k,O){S(this,{type:"Array Iterator",target:f(k),index:0,kind:O})},function(){var k=P(this),O=k.target,z=k.kind,Y=k.index++;return!O||Y>=O.length?(k.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:Y,done:!1}:z=="values"?{value:O[Y],done:!1}:{value:[Y,O[Y]],done:!1}},"values"),y.Arguments=y.Array,d("keys"),d("values"),d("entries")},function(c,p,u){var f=u(14),d=u(23),y=u(45),x=u(68),E=u(28),S=u(88),P=u(16),k=u(27),O=u(80),z=u(24),Y=u(53),q=u(25),G=u(30),V=u(34),L=u(72),H=u(33),$=u(57),N=u(46),I=u(54),C=u(58),F=u(117),B=u(91),R=u(47),X=u(29),K=u(75),ne=u(40),ce=u(43),he=u(67),pe=u(74),ie=u(55),se=u(69),ae=u(21),ue=u(128),ve=u(129),be=u(77),we=u(51),Ce=u(60).forEach,Pe=pe("hidden"),ot=ae("toPrimitive"),xt=we.set,Be=we.getterFor("Symbol"),Te=Object.prototype,We=d.Symbol,ft=y("JSON","stringify"),Ht=R.f,Dt=X.f,ar=F.f,eo=K.f,gt=he("symbols"),qt=he("op-symbols"),Zt=he("string-to-symbol-registry"),Ar=he("symbol-to-string-registry"),Tr=he("wks"),ur=d.QObject,An=!ur||!ur.prototype||!ur.prototype.findChild,tt=E&&P(function(){return N(Dt({},"a",{get:function(){return Dt(this,"a",{value:7}).a}})).a!=7})?function(_e,Ee,Re){var Ie=Ht(Te,Ee);Ie&&delete Te[Ee],Dt(_e,Ee,Re),Ie&&_e!==Te&&Dt(Te,Ee,Ie)}:Dt,Mt=function(_e,Ee){var Re=gt[_e]=N(We.prototype);return xt(Re,{type:"Symbol",tag:_e,description:Ee}),E||(Re.description=Ee),Re},Le=function(_e,Ee,Re){_e===Te&&Le(qt,Ee,Re),q(_e);var Ie=L(Ee);return q(Re),k(gt,Ie)?(Re.enumerable?(k(_e,Pe)&&_e[Pe][Ie]&&(_e[Pe][Ie]=!1),Re=N(Re,{enumerable:$(0,!1)})):(k(_e,Pe)||Dt(_e,Pe,$(1,{})),_e[Pe][Ie]=!0),tt(_e,Ie,Re)):Dt(_e,Ie,Re)},Pt=function(_e,Ee){q(_e);var Re=V(Ee),Ie=I(Re).concat(cn(Re));return Ce(Ie,function(ut){E&&!sn.call(Re,ut)||Le(_e,ut,Re[ut])}),_e},sn=function(_e){var Ee=L(_e),Re=eo.call(this,Ee);return!(this===Te&&k(gt,Ee)&&!k(qt,Ee))&&(!(Re||!k(this,Ee)||!k(gt,Ee)||k(this,Pe)&&this[Pe][Ee])||Re)},Dr=function(_e,Ee){var Re=V(_e),Ie=L(Ee);if(Re!==Te||!k(gt,Ie)||k(qt,Ie)){var ut=Ht(Re,Ie);return!ut||!k(gt,Ie)||k(Re,Pe)&&Re[Pe][Ie]||(ut.enumerable=!0),ut}},sr=function(_e){var Ee=ar(V(_e)),Re=[];return Ce(Ee,function(Ie){k(gt,Ie)||k(ie,Ie)||Re.push(Ie)}),Re},cn=function(_e){var Ee=_e===Te,Re=ar(Ee?qt:V(_e)),Ie=[];return Ce(Re,function(ut){!k(gt,ut)||Ee&&!k(Te,ut)||Ie.push(gt[ut])}),Ie};S||(ce((We=function(){if(this instanceof We)throw TypeError("Symbol is not a constructor");var _e=arguments.length&&arguments[0]!==void 0?H(arguments[0]):void 0,Ee=se(_e),Re=function(Ie){this===Te&&Re.call(qt,Ie),k(this,Pe)&&k(this[Pe],Ee)&&(this[Pe][Ee]=!1),tt(this,Ee,$(1,Ie))};return E&&An&&tt(Te,Ee,{configurable:!0,set:Re}),Mt(Ee,_e)}).prototype,"toString",function(){return Be(this).tag}),ce(We,"withoutSetter",function(_e){return Mt(se(_e),_e)}),K.f=sn,X.f=Le,R.f=Dr,C.f=F.f=sr,B.f=cn,ue.f=function(_e){return Mt(ae(_e),_e)},E&&(Dt(We.prototype,"description",{configurable:!0,get:function(){return Be(this).description}}),x||ce(Te,"propertyIsEnumerable",sn,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!S,sham:!S},{Symbol:We}),Ce(I(Tr),function(_e){ve(_e)}),f({target:"Symbol",stat:!0,forced:!S},{for:function(_e){var Ee=H(_e);if(k(Zt,Ee))return Zt[Ee];var Re=We(Ee);return Zt[Ee]=Re,Ar[Re]=Ee,Re},keyFor:function(_e){if(!Y(_e))throw TypeError(_e+" is not a symbol");if(k(Ar,_e))return Ar[_e]},useSetter:function(){An=!0},useSimple:function(){An=!1}}),f({target:"Object",stat:!0,forced:!S,sham:!E},{create:function(_e,Ee){return Ee===void 0?N(_e):Pt(N(_e),Ee)},defineProperty:Le,defineProperties:Pt,getOwnPropertyDescriptor:Dr}),f({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:sr,getOwnPropertySymbols:cn}),f({target:"Object",stat:!0,forced:P(function(){B.f(1)})},{getOwnPropertySymbols:function(_e){return B.f(G(_e))}}),ft&&f({target:"JSON",stat:!0,forced:!S||P(function(){var _e=We();return ft([_e])!="[null]"||ft({a:_e})!="{}"||ft(Object(_e))!="{}"})},{stringify:function(_e,Ee,Re){for(var Ie,ut=[_e],Gn=1;arguments.length>Gn;)ut.push(arguments[Gn++]);if(Ie=Ee,(z(Ee)||_e!==void 0)&&!Y(_e))return O(Ee)||(Ee=function(Mr,Ut){if(typeof Ie=="function"&&(Ut=Ie.call(this,Mr,Ut)),!Y(Ut))return Ut}),ut[1]=Ee,ft.apply(null,ut)}}),We.prototype[ot]||ne(We.prototype,ot,We.prototype.valueOf),be(We,"Symbol"),ie[Pe]=!0},function(c,p,u){var f=u(95),d=u(43),y=u(153);f||d(Object.prototype,"toString",y,{unsafe:!0})},function(c,p,u){var f=u(23),d=u(127),y=u(1),x=u(40),E=u(21),S=E("iterator"),P=E("toStringTag"),k=y.values;for(var O in d){var z=f[O],Y=z&&z.prototype;if(Y){if(Y[S]!==k)try{x(Y,S,k)}catch{Y[S]=k}if(Y[P]||x(Y,P,O),d[O]){for(var q in y)if(Y[q]!==y[q])try{x(Y,q,y[q])}catch{Y[q]=y[q]}}}}},function(c,p,u){var f=u(126).charAt,d=u(33),y=u(51),x=u(90),E=y.set,S=y.getterFor("String Iterator");x(String,"String",function(P){E(this,{type:"String Iterator",string:d(P),index:0})},function(){var P,k=S(this),O=k.string,z=k.index;return z>=O.length?{value:void 0,done:!0}:(P=f(O,z),k.index+=P.length,{value:P,done:!1})})},function(c,p,u){var f=u(14),d=u(28),y=u(23),x=u(27),E=u(24),S=u(29).f,P=u(112),k=y.Symbol;if(d&&typeof k=="function"&&(!("description"in k.prototype)||k().description!==void 0)){var O={},z=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),H=this instanceof z?new k(L):L===void 0?k():k(L);return L===""&&(O[H]=!0),H};P(z,k);var Y=z.prototype=k.prototype;Y.constructor=z;var q=Y.toString,G=String(k("test"))=="Symbol(test)",V=/^Symbol\((.*)\)[^)]+$/;S(Y,"description",{configurable:!0,get:function(){var L=E(this)?this.valueOf():this,H=q.call(L);if(x(O,L))return"";var $=G?H.slice(7,-1):H.replace(V,"$1");return $===""?void 0:$}}),f({global:!0,forced:!0},{Symbol:z})}},function(c,p,u){u(129)("iterator")},function(c,p,u){var f=u(23),d=u(127),y=u(154),x=u(40);for(var E in d){var S=f[E],P=S&&S.prototype;if(P&&P.forEach!==y)try{x(P,"forEach",y)}catch{P.forEach=y}}},function(c,p,u){u(14)({target:"Object",stat:!0},{setPrototypeOf:u(93)})},function(c,p,u){var f=u(14),d=u(16),y=u(30),x=u(76),E=u(115);f({target:"Object",stat:!0,forced:d(function(){x(1)}),sham:!E},{getPrototypeOf:function(S){return x(y(S))}})},function(c,p,u){var f=u(14),d=u(45),y=u(59),x=u(25),E=u(24),S=u(46),P=u(172),k=u(16),O=d("Reflect","construct"),z=k(function(){function G(){}return!(O(function(){},[],G)instanceof G)}),Y=!k(function(){O(function(){})}),q=z||Y;f({target:"Reflect",stat:!0,forced:q,sham:q},{construct:function(G,V){y(G),x(V);var L=arguments.length<3?G:y(arguments[2]);if(Y&&!z)return O(G,V,L);if(G==L){switch(V.length){case 0:return new G;case 1:return new G(V[0]);case 2:return new G(V[0],V[1]);case 3:return new G(V[0],V[1],V[2]);case 4:return new G(V[0],V[1],V[2],V[3])}var H=[null];return H.push.apply(H,V),new(P.apply(G,H))}var $=L.prototype,N=S(E($)?$:Object.prototype),I=Function.apply.call(G,N,V);return E(I)?I:N}})},function(c,p,u){var f=u(14),d=u(30),y=u(54);f({target:"Object",stat:!0,forced:u(16)(function(){y(1)})},{keys:function(x){return y(d(x))}})},function(c,p,u){var f=u(14),d=u(16),y=u(34),x=u(47).f,E=u(28),S=d(function(){x(1)});f({target:"Object",stat:!0,forced:!E||S,sham:!E},{getOwnPropertyDescriptor:function(P,k){return x(y(P),k)}})},function(c,p,u){var f=u(23),d=u(47).f,y=u(40),x=u(43),E=u(87),S=u(112),P=u(92);c.exports=function(k,O){var z,Y,q,G,V,L=k.target,H=k.global,$=k.stat;if(z=H?f:$?f[L]||E(L,{}):(f[L]||{}).prototype)for(Y in O){if(G=O[Y],q=k.noTargetGet?(V=d(z,Y))&&V.value:z[Y],!P(H?Y:L+($?".":"#")+Y,k.forced)&&q!==void 0){if(typeof G==typeof q)continue;S(G,q)}(k.sham||q&&q.sham)&&y(G,"sham",!0),x(z,Y,G,k)}}},function(c,p,u){var f=u(14),d=u(24),y=u(80),x=u(73),E=u(32),S=u(34),P=u(62),k=u(21),O=u(61)("slice"),z=k("species"),Y=[].slice,q=Math.max;f({target:"Array",proto:!0,forced:!O},{slice:function(G,V){var L,H,$,N=S(this),I=E(N.length),C=x(G,I),F=x(V===void 0?I:V,I);if(y(N)&&(typeof(L=N.constructor)!="function"||L!==Array&&!y(L.prototype)?d(L)&&(L=L[z])===null&&(L=void 0):L=void 0,L===Array||L===void 0))return Y.call(N,C,F);for(H=new(L===void 0?Array:L)(q(F-C,0)),$=0;C<F;C++,$++)C in N&&P(H,$,N[C]);return H.length=$,H}})},function(c,p){c.exports=function(u){try{return!!u()}catch{return!0}}},function(c,p,u){var f=u(28),d=u(29).f,y=Function.prototype,x=y.toString,E=/^\s*function ([^ (]*)/;f&&!("name"in y)&&d(y,"name",{configurable:!0,get:function(){try{return x.call(this).match(E)[1]}catch{return""}}})},function(c,p,u){var f=u(14),d=u(157);f({target:"Array",stat:!0,forced:!u(124)(function(y){Array.from(y)})},{from:d})},function(c,p,u){var f=u(14),d=u(60).filter;f({target:"Array",proto:!0,forced:!u(61)("filter")},{filter:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}})},function(c,p,u){var f=u(14),d=u(28),y=u(113),x=u(34),E=u(47),S=u(62);f({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(P){for(var k,O,z=x(P),Y=E.f,q=y(z),G={},V=0;q.length>V;)(O=Y(z,k=q[V++]))!==void 0&&S(G,k,O);return G}})},function(c,p,u){var f=u(23),d=u(67),y=u(27),x=u(69),E=u(88),S=u(105),P=d("wks"),k=f.Symbol,O=S?k:k&&k.withoutSetter||x;c.exports=function(z){return y(P,z)&&(E||typeof P[z]=="string")||(E&&y(k,z)?P[z]=k[z]:P[z]=O("Symbol."+z)),P[z]}},function(c,p,u){var f=u(84),d=typeof self=="object"&&self&&self.Object===Object&&self,y=f.a||d||Function("return this")();p.a=y},function(c,p,u){(function(f){var d=function(y){return y&&y.Math==Math&&y};c.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,u(85))},function(c,p){c.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},function(c,p,u){var f=u(24);c.exports=function(d){if(!f(d))throw TypeError(String(d)+" is not an object");return d}},,function(c,p,u){var f=u(30),d={}.hasOwnProperty;c.exports=Object.hasOwn||function(y,x){return d.call(f(y),x)}},function(c,p,u){var f=u(16);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p,u){var f=u(28),d=u(106),y=u(25),x=u(72),E=Object.defineProperty;p.f=f?E:function(S,P,k){if(y(S),P=x(P),y(k),d)try{return E(S,P,k)}catch{}if("get"in k||"set"in k)throw TypeError("Accessors not supported");return"value"in k&&(S[P]=k.value),S}},function(c,p,u){var f=u(37);c.exports=function(d){return Object(f(d))}},function(c,p,u){var f=u(14),d=u(16),y=u(80),x=u(24),E=u(30),S=u(32),P=u(62),k=u(96),O=u(61),z=u(21),Y=u(70),q=z("isConcatSpreadable"),G=Y>=51||!d(function(){var H=[];return H[q]=!1,H.concat()[0]!==H}),V=O("concat"),L=function(H){if(!x(H))return!1;var $=H[q];return $!==void 0?!!$:y(H)};f({target:"Array",proto:!0,forced:!G||!V},{concat:function(H){var $,N,I,C,F,B=E(this),R=k(B,0),X=0;for($=-1,I=arguments.length;$<I;$++)if(L(F=$===-1?B:arguments[$])){if(X+(C=S(F.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(N=0;N<C;N++,X++)N in F&&P(R,X,F[N])}else{if(X>=9007199254740991)throw TypeError("Maximum allowed index exceeded");P(R,X++,F)}return R.length=X,R}})},function(c,p,u){var f=u(50),d=Math.min;c.exports=function(y){return y>0?d(f(y),9007199254740991):0}},function(c,p,u){var f=u(53);c.exports=function(d){if(f(d))throw TypeError("Cannot convert a Symbol value to a string");return String(d)}},function(c,p,u){var f=u(65),d=u(37);c.exports=function(y){return f(d(y))}},function(c,p,u){var f=u(14),d=u(60).map;f({target:"Array",proto:!0,forced:!u(61)("map")},{map:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}})},function(c,p,u){var f=u(14),d=u(24),y=u(25),x=u(177),E=u(47),S=u(76);f({target:"Reflect",stat:!0},{get:function P(k,O){var z,Y,q=arguments.length<3?k:arguments[2];return y(k)===q?k[O]:(z=E.f(k,O))?x(z)?z.value:z.get===void 0?void 0:z.get.call(q):d(Y=S(k))?P(Y,O,q):void 0}})},function(c,p){c.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},function(c,p,u){var f=u(14),d=u(173);f({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(c,p,u){var f=u(14),d=u(181),y=u(66);f({target:"Array",proto:!0},{fill:d}),y("fill")},function(c,p,u){var f=u(28),d=u(29),y=u(57);c.exports=f?function(x,E,S){return d.f(x,E,y(1,S))}:function(x,E,S){return x[E]=S,x}},function(c,p,u){var f=u(14),d=u(82);f({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(c,p,u){(function(f){var d=u(84),y=v&&!v.nodeType&&v,x=y&&typeof f=="object"&&f&&!f.nodeType&&f,E=x&&x.exports===y&&d.a.process,S=function(){try{var P=x&&x.require&&x.require("util").types;return P||E&&E.binding&&E.binding("util")}catch{}}();p.a=S}).call(this,u(98)(c))},function(c,p,u){var f=u(23),d=u(40),y=u(27),x=u(87),E=u(111),S=u(51),P=S.get,k=S.enforce,O=String(String).split("String");(c.exports=function(z,Y,q,G){var V,L=!!G&&!!G.unsafe,H=!!G&&!!G.enumerable,$=!!G&&!!G.noTargetGet;typeof q=="function"&&(typeof Y!="string"||y(q,"name")||d(q,"name",Y),(V=k(q)).source||(V.source=O.join(typeof Y=="string"?Y:""))),z!==f?(L?!$&&z[Y]&&(H=!0):delete z[Y],H?z[Y]=q:d(z,Y,q)):H?z[Y]=q:x(Y,q)})(Function.prototype,"toString",function(){return typeof this=="function"&&P(this).source||E(this)})},function(c,p,u){var f=u(14),d=u(180).entries;f({target:"Object",stat:!0},{entries:function(y){return d(y)}})},function(c,p,u){var f=u(23),d=function(y){return typeof y=="function"?y:void 0};c.exports=function(y,x){return arguments.length<2?d(f[y]):f[y]&&f[y][x]}},function(c,p,u){var f,d=u(25),y=u(142),x=u(89),E=u(55),S=u(144),P=u(107),k=u(74),O=k("IE_PROTO"),z=function(){},Y=function(V){return"<script>"+V+"<\/script>"},q=function(V){V.write(Y("")),V.close();var L=V.parentWindow.Object;return V=null,L},G=function(){try{f=new ActiveXObject("htmlfile")}catch{}var V,L;G=typeof document!="undefined"?document.domain&&f?q(f):((L=P("iframe")).style.display="none",S.appendChild(L),L.src=String("javascript:"),(V=L.contentWindow.document).open(),V.write(Y("document.F=Object")),V.close(),V.F):q(f);for(var H=x.length;H--;)delete G.prototype[x[H]];return G()};E[O]=!0,c.exports=Object.create||function(V,L){var H;return V!==null?(z.prototype=d(V),H=new z,z.prototype=null,H[O]=V):H=G(),L===void 0?H:y(H,L)}},function(c,p,u){var f=u(28),d=u(75),y=u(57),x=u(34),E=u(72),S=u(27),P=u(106),k=Object.getOwnPropertyDescriptor;p.f=f?k:function(O,z){if(O=x(O),z=E(z),P)try{return k(O,z)}catch{}if(S(O,z))return y(!d.f.call(O,z),O[z])}},function(c,p,u){(function(f){var d=u(22),y=u(138),x=v&&!v.nodeType&&v,E=x&&typeof f=="object"&&f&&!f.nodeType&&f,S=E&&E.exports===x?d.a.Buffer:void 0,P=(S?S.isBuffer:void 0)||y.a;p.a=P}).call(this,u(98)(c))},function(c,p){var u={}.toString;c.exports=function(f){return u.call(f).slice(8,-1)}},function(c,p){var u=Math.ceil,f=Math.floor;c.exports=function(d){return isNaN(d=+d)?0:(d>0?f:u)(d)}},function(c,p,u){var f,d,y,x=u(145),E=u(23),S=u(24),P=u(40),k=u(27),O=u(86),z=u(74),Y=u(55),q=E.WeakMap;if(x||O.state){var G=O.state||(O.state=new q),V=G.get,L=G.has,H=G.set;f=function(N,I){if(L.call(G,N))throw new TypeError("Object already initialized");return I.facade=N,H.call(G,N,I),I},d=function(N){return V.call(G,N)||{}},y=function(N){return L.call(G,N)}}else{var $=z("state");Y[$]=!0,f=function(N,I){if(k(N,$))throw new TypeError("Object already initialized");return I.facade=N,P(N,$,I),I},d=function(N){return k(N,$)?N[$]:{}},y=function(N){return k(N,$)}}c.exports={set:f,get:d,has:y,enforce:function(N){return y(N)?d(N):f(N,{})},getterFor:function(N){return function(I){var C;if(!S(I)||(C=d(I)).type!==N)throw TypeError("Incompatible receiver, "+N+" required");return C}}}},function(c,p,u){var f=u(99),d=u(132),y=u(25),x=u(37),E=u(170),S=u(100),P=u(32),k=u(33),O=u(101),z=u(82),Y=u(133),q=u(16),G=Y.UNSUPPORTED_Y,V=[].push,L=Math.min;f("split",function(H,$,N){var I;return I="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(C,F){var B=k(x(this)),R=F===void 0?4294967295:F>>>0;if(R===0)return[];if(C===void 0)return[B];if(!d(C))return $.call(B,C,R);for(var X,K,ne,ce=[],he=(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")+(C.sticky?"y":""),pe=0,ie=new RegExp(C.source,he+"g");(X=z.call(ie,B))&&!((K=ie.lastIndex)>pe&&(ce.push(B.slice(pe,X.index)),X.length>1&&X.index<B.length&&V.apply(ce,X.slice(1)),ne=X[0].length,pe=K,ce.length>=R));)ie.lastIndex===X.index&&ie.lastIndex++;return pe===B.length?!ne&&ie.test("")||ce.push(""):ce.push(B.slice(pe)),ce.length>R?ce.slice(0,R):ce}:"0".split(void 0,0).length?function(C,F){return C===void 0&&F===0?[]:$.call(this,C,F)}:$,[function(C,F){var B=x(this),R=C==null?void 0:C[H];return R!==void 0?R.call(C,B,F):I.call(k(B),C,F)},function(C,F){var B=y(this),R=k(C),X=N(I,B,R,F,I!==$);if(X.done)return X.value;var K=E(B,RegExp),ne=B.unicode,ce=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(G?"g":"y"),he=new K(G?"^(?:"+B.source+")":B,ce),pe=F===void 0?4294967295:F>>>0;if(pe===0)return[];if(R.length===0)return O(he,R)===null?[R]:[];for(var ie=0,se=0,ae=[];se<R.length;){he.lastIndex=G?0:se;var ue,ve=O(he,G?R.slice(se):R);if(ve===null||(ue=L(P(he.lastIndex+(G?se:0)),R.length))===ie)se=S(R,se,ne);else{if(ae.push(R.slice(ie,se)),ae.length===pe)return ae;for(var be=1;be<=ve.length-1;be++)if(ae.push(ve[be]),ae.length===pe)return ae;se=ie=ue}}return ae.push(R.slice(ie)),ae}]},!!q(function(){var H=/(?:)/,$=H.exec;H.exec=function(){return $.apply(this,arguments)};var N="ab".split(H);return N.length!==2||N[0]!=="a"||N[1]!=="b"}),G)},function(c,p,u){var f=u(45),d=u(105);c.exports=d?function(y){return typeof y=="symbol"}:function(y){var x=f("Symbol");return typeof x=="function"&&Object(y)instanceof x}},function(c,p,u){var f=u(109),d=u(89);c.exports=Object.keys||function(y){return f(y,d)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(u,f){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:f}}},function(c,p,u){var f=u(109),d=u(89).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(y){return f(y,d)}},function(c,p){c.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},function(c,p,u){var f=u(79),d=u(65),y=u(30),x=u(32),E=u(96),S=[].push,P=function(k){var O=k==1,z=k==2,Y=k==3,q=k==4,G=k==6,V=k==7,L=k==5||G;return function(H,$,N,I){for(var C,F,B=y(H),R=d(B),X=f($,N,3),K=x(R.length),ne=0,ce=I||E,he=O?ce(H,K):z||V?ce(H,0):void 0;K>ne;ne++)if((L||ne in R)&&(F=X(C=R[ne],ne,B),k))if(O)he[ne]=F;else if(F)switch(k){case 3:return!0;case 5:return C;case 6:return ne;case 2:S.call(he,C)}else switch(k){case 4:return!1;case 7:S.call(he,C)}return G?-1:Y||q?q:he}};c.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},function(c,p,u){var f=u(16),d=u(21),y=u(70),x=d("species");c.exports=function(E){return y>=51||!f(function(){var S=[];return(S.constructor={})[x]=function(){return{foo:1}},S[E](Boolean).foo!==1})}},function(c,p,u){var f=u(72),d=u(29),y=u(57);c.exports=function(x,E,S){var P=f(E);P in x?d.f(x,P,y(0,S)):x[P]=S}},function(c,p,u){var f=u(28),d=u(23),y=u(92),x=u(43),E=u(27),S=u(49),P=u(125),k=u(53),O=u(108),z=u(16),Y=u(46),q=u(58).f,G=u(47).f,V=u(29).f,L=u(134).trim,H=d.Number,$=H.prototype,N=S(Y($))=="Number",I=function(X){if(k(X))throw TypeError("Cannot convert a Symbol value to a number");var K,ne,ce,he,pe,ie,se,ae,ue=O(X,"number");if(typeof ue=="string"&&ue.length>2){if((K=(ue=L(ue)).charCodeAt(0))===43||K===45){if((ne=ue.charCodeAt(2))===88||ne===120)return NaN}else if(K===48){switch(ue.charCodeAt(1)){case 66:case 98:ce=2,he=49;break;case 79:case 111:ce=8,he=55;break;default:return+ue}for(ie=(pe=ue.slice(2)).length,se=0;se<ie;se++)if((ae=pe.charCodeAt(se))<48||ae>he)return NaN;return parseInt(pe,ce)}}return+ue};if(y("Number",!H(" 0o1")||!H("0b1")||H("+0x1"))){for(var C,F=function(X){var K=arguments.length<1?0:X,ne=this;return ne instanceof F&&(N?z(function(){$.valueOf.call(ne)}):S(ne)!="Number")?P(new H(I(K)),ne,F):I(K)},B=f?q(H):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),R=0;B.length>R;R++)E(H,C=B[R])&&!E(F,C)&&V(F,C,G(H,C));F.prototype=$,$.constructor=F,x(d,"Number",F)}},function(c,p,u){u(14)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,u){var f=u(16),d=u(49),y="".split;c.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return d(x)=="String"?y.call(x,""):Object(x)}:Object},function(c,p,u){var f=u(21),d=u(46),y=u(29),x=f("unscopables"),E=Array.prototype;E[x]==null&&y.f(E,x,{configurable:!0,value:d(null)}),c.exports=function(S){E[x][S]=!0}},function(c,p,u){var f=u(68),d=u(86);(c.exports=function(y,x){return d[y]||(d[y]=x!==void 0?x:{})})("versions",[]).push({version:"3.17.2",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p){c.exports=!1},function(c,p){var u=0,f=Math.random();c.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++u+f).toString(36)}},function(c,p,u){var f,d,y=u(23),x=u(71),E=y.process,S=y.Deno,P=E&&E.versions||S&&S.version,k=P&&P.v8;k?d=(f=k.split("."))[0]<4?1:f[0]+f[1]:x&&(!(f=x.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=x.match(/Chrome\/(\d+)/))&&(d=f[1]),c.exports=d&&+d},function(c,p,u){var f=u(45);c.exports=f("navigator","userAgent")||""},function(c,p,u){var f=u(108),d=u(53);c.exports=function(y){var x=f(y,"string");return d(x)?x:String(x)}},function(c,p,u){var f=u(50),d=Math.max,y=Math.min;c.exports=function(x,E){var S=f(x);return S<0?d(S+E,0):y(S,E)}},function(c,p,u){var f=u(67),d=u(69),y=f("keys");c.exports=function(x){return y[x]||(y[x]=d(x))}},function(c,p,u){var f={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,y=d&&!f.call({1:2},1);p.f=y?function(x){var E=d(this,x);return!!E&&E.enumerable}:f},function(c,p,u){var f=u(27),d=u(30),y=u(74),x=u(115),E=y("IE_PROTO"),S=Object.prototype;c.exports=x?Object.getPrototypeOf:function(P){return P=d(P),f(P,E)?P[E]:typeof P.constructor=="function"&&P instanceof P.constructor?P.constructor.prototype:P instanceof Object?S:null}},function(c,p,u){var f=u(29).f,d=u(27),y=u(21)("toStringTag");c.exports=function(x,E,S){x&&!d(x=S?x:x.prototype,y)&&f(x,y,{configurable:!0,value:E})}},function(c,p,u){var f=u(148),d=u(150);c.exports=f("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},d)},function(c,p,u){var f=u(59);c.exports=function(d,y,x){if(f(d),y===void 0)return d;switch(x){case 0:return function(){return d.call(y)};case 1:return function(E){return d.call(y,E)};case 2:return function(E,S){return d.call(y,E,S)};case 3:return function(E,S,P){return d.call(y,E,S,P)}}return function(){return d.apply(y,arguments)}}},function(c,p,u){var f=u(49);c.exports=Array.isArray||function(d){return f(d)=="Array"}},function(c,p,u){var f=u(14),d=u(73),y=u(50),x=u(32),E=u(30),S=u(96),P=u(62),k=u(61)("splice"),O=Math.max,z=Math.min;f({target:"Array",proto:!0,forced:!k},{splice:function(Y,q){var G,V,L,H,$,N,I=E(this),C=x(I.length),F=d(Y,C),B=arguments.length;if(B===0?G=V=0:B===1?(G=0,V=C-F):(G=B-2,V=z(O(y(q),0),C-F)),C+G-V>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(L=S(I,V),H=0;H<V;H++)($=F+H)in I&&P(L,H,I[$]);if(L.length=V,G<V){for(H=F;H<C-V;H++)N=H+G,($=H+V)in I?I[N]=I[$]:delete I[N];for(H=C;H>C-V+G;H--)delete I[H-1]}else if(G>V)for(H=C-V;H>F;H--)N=H+G-1,($=H+V-1)in I?I[N]=I[$]:delete I[N];for(H=0;H<G;H++)I[H+F]=arguments[H+2];return I.length=C-V+G,L}})},function(c,p,u){var f,d,y=u(33),x=u(167),E=u(133),S=u(67),P=u(46),k=u(51).get,O=u(168),z=u(169),Y=RegExp.prototype.exec,q=S("native-string-replace",String.prototype.replace),G=Y,V=(f=/a/,d=/b*/g,Y.call(f,"a"),Y.call(d,"a"),f.lastIndex!==0||d.lastIndex!==0),L=E.UNSUPPORTED_Y||E.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(V||H||L||O||z)&&(G=function($){var N,I,C,F,B,R,X,K=this,ne=k(K),ce=y($),he=ne.raw;if(he)return he.lastIndex=K.lastIndex,N=G.call(he,ce),K.lastIndex=he.lastIndex,N;var pe=ne.groups,ie=L&&K.sticky,se=x.call(K),ae=K.source,ue=0,ve=ce;if(ie&&((se=se.replace("y","")).indexOf("g")===-1&&(se+="g"),ve=ce.slice(K.lastIndex),K.lastIndex>0&&(!K.multiline||K.multiline&&ce.charAt(K.lastIndex-1)!==`
`)&&(ae="(?: "+ae+")",ve=" "+ve,ue++),I=new RegExp("^(?:"+ae+")",se)),H&&(I=new RegExp("^"+ae+"$(?!\\s)",se)),V&&(C=K.lastIndex),F=Y.call(ie?I:K,ve),ie?F?(F.input=F.input.slice(ue),F[0]=F[0].slice(ue),F.index=K.lastIndex,K.lastIndex+=F[0].length):K.lastIndex=0:V&&F&&(K.lastIndex=K.global?F.index+F[0].length:C),H&&F&&F.length>1&&q.call(F[0],I,function(){for(B=1;B<arguments.length-2;B++)arguments[B]===void 0&&(F[B]=void 0)}),F&&pe)for(F.groups=R=P(null),B=0;B<pe.length;B++)R[(X=pe[B])[0]]=F[X[1]];return F}),c.exports=G},function(c,p,u){var f=u(14),d=u(65),y=u(34),x=u(97),E=[].join,S=d!=Object,P=x("join",",");f({target:"Array",proto:!0,forced:S||!P},{join:function(k){return E.call(y(this),k===void 0?",":k)}})},function(c,p,u){(function(f){var d=typeof f=="object"&&f&&f.Object===Object&&f;p.a=d}).call(this,u(85))},function(c,p){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}c.exports=u},function(c,p,u){var f=u(23),d=u(87),y=f["__core-js_shared__"]||d("__core-js_shared__",{});c.exports=y},function(c,p,u){var f=u(23);c.exports=function(d,y){try{Object.defineProperty(f,d,{value:y,configurable:!0,writable:!0})}catch{f[d]=y}return y}},function(c,p,u){var f=u(70),d=u(16);c.exports=!!Object.getOwnPropertySymbols&&!d(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,u){var f=u(14),d=u(146),y=u(76),x=u(93),E=u(77),S=u(40),P=u(43),k=u(21),O=u(68),z=u(56),Y=u(114),q=Y.IteratorPrototype,G=Y.BUGGY_SAFARI_ITERATORS,V=k("iterator"),L=function(){return this};c.exports=function(H,$,N,I,C,F,B){d(N,$,I);var R,X,K,ne=function(ue){if(ue===C&&se)return se;if(!G&&ue in pe)return pe[ue];switch(ue){case"keys":case"values":case"entries":return function(){return new N(this,ue)}}return function(){return new N(this)}},ce=$+" Iterator",he=!1,pe=H.prototype,ie=pe[V]||pe["@@iterator"]||C&&pe[C],se=!G&&ie||ne(C),ae=$=="Array"&&pe.entries||ie;if(ae&&(R=y(ae.call(new H)),q!==Object.prototype&&R.next&&(O||y(R)===q||(x?x(R,q):typeof R[V]!="function"&&S(R,V,L)),E(R,ce,!0,!0),O&&(z[ce]=L))),C=="values"&&ie&&ie.name!=="values"&&(he=!0,se=function(){return ie.call(this)}),O&&!B||pe[V]===se||S(pe,V,se),z[$]=se,C)if(X={values:ne("values"),keys:F?se:ne("keys"),entries:ne("entries")},B)for(K in X)(G||he||!(K in pe))&&P(pe,K,X[K]);else f({target:$,proto:!0,forced:G||he},X);return X}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,u){var f=u(16),d=/#|\.prototype\./,y=function(k,O){var z=E[x(k)];return z==P||z!=S&&(typeof O=="function"?f(O):!!O)},x=y.normalize=function(k){return String(k).replace(d,".").toLowerCase()},E=y.data={},S=y.NATIVE="N",P=y.POLYFILL="P";c.exports=y},function(c,p,u){var f=u(25),d=u(147);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,x=!1,E={};try{(y=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),x=E instanceof Array}catch{}return function(S,P){return f(S),d(P),x?y.call(S,P):S.__proto__=P,S}}():void 0)},function(c,p,u){var f=u(121),d=u(56),y=u(21)("iterator");c.exports=function(x){if(x!=null)return x[y]||x["@@iterator"]||d[f(x)]}},function(c,p,u){var f={};f[u(21)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,u){var f=u(155);c.exports=function(d,y){return new(f(d))(y===0?0:y)}},function(c,p,u){var f=u(16);c.exports=function(d,y){var x=[][d];return!!x&&f(function(){x.call(null,y||function(){throw 1},1)})}},function(c,p){c.exports=function(u){if(!u.webpackPolyfill){var f=Object.create(u);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,u){u(41);var f=u(43),d=u(82),y=u(16),x=u(21),E=u(40),S=x("species"),P=RegExp.prototype;c.exports=function(k,O,z,Y){var q=x(k),G=!y(function(){var $={};return $[q]=function(){return 7},""[k]($)!=7}),V=G&&!y(function(){var $=!1,N=/a/;return k==="split"&&((N={}).constructor={},N.constructor[S]=function(){return N},N.flags="",N[q]=/./[q]),N.exec=function(){return $=!0,null},N[q](""),!$});if(!G||!V||z){var L=/./[q],H=O(q,""[k],function($,N,I,C,F){var B=N.exec;return B===d||B===P.exec?G&&!F?{done:!0,value:L.call(N,I,C)}:{done:!0,value:$.call(I,N,C)}:{done:!1}});f(String.prototype,k,H[0]),f(P,q,H[1])}Y&&E(P[q],"sham",!0)}},function(c,p,u){var f=u(126).charAt;c.exports=function(d,y,x){return y+(x?f(d,y).length:1)}},function(c,p,u){var f=u(49),d=u(82);c.exports=function(y,x){var E=y.exec;if(typeof E=="function"){var S=E.call(y,x);if(typeof S!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return S}if(f(y)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(y,x)}},function(c,p,u){var f=u(14),d=u(174);f({target:"String",proto:!0,forced:u(175)("anchor")},{anchor:function(y){return d(this,"a","name",y)}})},function(c,p,u){u(14)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p){var u,f,d=c.exports={};function y(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function E(V){if(u===setTimeout)return setTimeout(V,0);if((u===y||!u)&&setTimeout)return u=setTimeout,setTimeout(V,0);try{return u(V,0)}catch{try{return u.call(null,V,0)}catch{return u.call(this,V,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:y}catch{u=y}try{f=typeof clearTimeout=="function"?clearTimeout:x}catch{f=x}})();var S,P=[],k=!1,O=-1;function z(){k&&S&&(k=!1,S.length?P=S.concat(P):O=-1,P.length&&Y())}function Y(){if(!k){var V=E(z);k=!0;for(var L=P.length;L;){for(S=P,P=[];++O<L;)S&&S[O].run();O=-1,L=P.length}S=null,k=!1,function(H){if(f===clearTimeout)return clearTimeout(H);if((f===x||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(H);try{f(H)}catch{try{return f.call(null,H)}catch{return f.call(this,H)}}}(V)}}function q(V,L){this.fun=V,this.array=L}function G(){}d.nextTick=function(V){var L=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)L[H-1]=arguments[H];P.push(new q(V,L)),P.length!==1||k||E(Y)},q.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=G,d.addListener=G,d.once=G,d.off=G,d.removeListener=G,d.removeAllListeners=G,d.emit=G,d.prependListener=G,d.prependOnceListener=G,d.listeners=function(V){return[]},d.binding=function(V){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(V){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(c,p,u){var f=u(88);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,u){var f=u(28),d=u(16),y=u(107);c.exports=!f&&!d(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,u){var f=u(23),d=u(24),y=f.document,x=d(y)&&d(y.createElement);c.exports=function(E){return x?y.createElement(E):{}}},function(c,p,u){var f=u(24),d=u(53),y=u(143),x=u(21)("toPrimitive");c.exports=function(E,S){if(!f(E)||d(E))return E;var P,k=E[x];if(k!==void 0){if(S===void 0&&(S="default"),P=k.call(E,S),!f(P)||d(P))return P;throw TypeError("Can't convert object to primitive value")}return S===void 0&&(S="number"),y(E,S)}},function(c,p,u){var f=u(27),d=u(34),y=u(110).indexOf,x=u(55);c.exports=function(E,S){var P,k=d(E),O=0,z=[];for(P in k)!f(x,P)&&f(k,P)&&z.push(P);for(;S.length>O;)f(k,P=S[O++])&&(~y(z,P)||z.push(P));return z}},function(c,p,u){var f=u(34),d=u(32),y=u(73),x=function(E){return function(S,P,k){var O,z=f(S),Y=d(z.length),q=y(k,Y);if(E&&P!=P){for(;Y>q;)if((O=z[q++])!=O)return!0}else for(;Y>q;q++)if((E||q in z)&&z[q]===P)return E||q||0;return!E&&-1}};c.exports={includes:x(!0),indexOf:x(!1)}},function(c,p,u){var f=u(86),d=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(y){return d.call(y)}),c.exports=f.inspectSource},function(c,p,u){var f=u(27),d=u(113),y=u(47),x=u(29);c.exports=function(E,S){for(var P=d(S),k=x.f,O=y.f,z=0;z<P.length;z++){var Y=P[z];f(E,Y)||k(E,Y,O(S,Y))}}},function(c,p,u){var f=u(45),d=u(58),y=u(91),x=u(25);c.exports=f("Reflect","ownKeys")||function(E){var S=d.f(x(E)),P=y.f;return P?S.concat(P(E)):S}},function(c,p,u){var f,d,y,x=u(16),E=u(76),S=u(40),P=u(27),k=u(21),O=u(68),z=k("iterator"),Y=!1;[].keys&&("next"in(y=[].keys())?(d=E(E(y)))!==Object.prototype&&(f=d):Y=!0);var q=f==null||x(function(){var G={};return f[z].call(G)!==G});q&&(f={}),O&&!q||P(f,z)||S(f,z,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:Y}},function(c,p,u){var f=u(16);c.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(c,p,u){var f=u(14),d=u(55),y=u(24),x=u(27),E=u(29).f,S=u(58),P=u(117),k=u(69),O=u(149),z=!1,Y=k("meta"),q=0,G=Object.isExtensible||function(){return!0},V=function(H){E(H,Y,{value:{objectID:"O"+q++,weakData:{}}})},L=c.exports={enable:function(){L.enable=function(){},z=!0;var H=S.f,$=[].splice,N={};N[Y]=1,H(N).length&&(S.f=function(I){for(var C=H(I),F=0,B=C.length;F<B;F++)if(C[F]===Y){$.call(C,F,1);break}return C},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(H,$){if(!y(H))return typeof H=="symbol"?H:(typeof H=="string"?"S":"P")+H;if(!x(H,Y)){if(!G(H))return"F";if(!$)return"E";V(H)}return H[Y].objectID},getWeakData:function(H,$){if(!x(H,Y)){if(!G(H))return!0;if(!$)return!1;V(H)}return H[Y].weakData},onFreeze:function(H){return O&&z&&G(H)&&!x(H,Y)&&V(H),H}};d[Y]=!0},function(c,p,u){var f=u(34),d=u(58).f,y={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(E){return x&&y.call(E)=="[object Window]"?function(S){try{return d(S)}catch{return x.slice()}}(E):d(f(E))}},function(c,p,u){var f=u(25),d=u(119),y=u(32),x=u(79),E=u(120),S=u(94),P=u(122),k=function(O,z){this.stopped=O,this.result=z};c.exports=function(O,z,Y){var q,G,V,L,H,$,N,I=Y&&Y.that,C=!(!Y||!Y.AS_ENTRIES),F=!(!Y||!Y.IS_ITERATOR),B=!(!Y||!Y.INTERRUPTED),R=x(z,I,1+C+B),X=function(ne){return q&&P(q,"normal",ne),new k(!0,ne)},K=function(ne){return C?(f(ne),B?R(ne[0],ne[1],X):R(ne[0],ne[1])):B?R(ne,X):R(ne)};if(F)q=O;else{if(typeof(G=S(O))!="function")throw TypeError("Target is not iterable");if(d(G)){for(V=0,L=y(O.length);L>V;V++)if((H=K(O[V]))&&H instanceof k)return H;return new k(!1)}q=E(O,G)}for($=q.next;!(N=$.call(q)).done;){try{H=K(N.value)}catch(ne){P(q,"throw",ne)}if(typeof H=="object"&&H&&H instanceof k)return H}return new k(!1)}},function(c,p,u){var f=u(21),d=u(56),y=f("iterator"),x=Array.prototype;c.exports=function(E){return E!==void 0&&(d.Array===E||x[y]===E)}},function(c,p,u){var f=u(25),d=u(94);c.exports=function(y,x){var E=arguments.length<2?d(y):x;if(typeof E!="function")throw TypeError(String(y)+" is not iterable");return f(E.call(y))}},function(c,p,u){var f=u(95),d=u(49),y=u(21)("toStringTag"),x=d(function(){return arguments}())=="Arguments";c.exports=f?d:function(E){var S,P,k;return E===void 0?"Undefined":E===null?"Null":typeof(P=function(O,z){try{return O[z]}catch{}}(S=Object(E),y))=="string"?P:x?d(S):(k=d(S))=="Object"&&typeof S.callee=="function"?"Arguments":k}},function(c,p,u){var f=u(25);c.exports=function(d,y,x){var E,S;f(d);try{if((E=d.return)===void 0){if(y==="throw")throw x;return x}E=E.call(d)}catch(P){S=!0,E=P}if(y==="throw")throw x;if(S)throw E;return f(E),x}},function(c,p){c.exports=function(u,f,d){if(!(u instanceof f))throw TypeError("Incorrect "+(d?d+" ":"")+"invocation");return u}},function(c,p,u){var f=u(21)("iterator"),d=!1;try{var y=0,x={next:function(){return{done:!!y++}},return:function(){d=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch{}c.exports=function(E,S){if(!S&&!d)return!1;var P=!1;try{var k={};k[f]=function(){return{next:function(){return{done:P=!0}}}},E(k)}catch{}return P}},function(c,p,u){var f=u(24),d=u(93);c.exports=function(y,x,E){var S,P;return d&&typeof(S=x.constructor)=="function"&&S!==E&&f(P=S.prototype)&&P!==E.prototype&&d(y,P),y}},function(c,p,u){var f=u(50),d=u(33),y=u(37),x=function(E){return function(S,P){var k,O,z=d(y(S)),Y=f(P),q=z.length;return Y<0||Y>=q?E?"":void 0:(k=z.charCodeAt(Y))<55296||k>56319||Y+1===q||(O=z.charCodeAt(Y+1))<56320||O>57343?E?z.charAt(Y):k:E?z.slice(Y,Y+2):O-56320+(k-55296<<10)+65536}};c.exports={codeAt:x(!1),charAt:x(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,u){var f=u(21);p.f=f},function(c,p,u){var f=u(156),d=u(27),y=u(128),x=u(29).f;c.exports=function(E){var S=f.Symbol||(f.Symbol={});d(S,E)||x(S,E,{value:y.f(E)})}},function(c,p,u){var f=u(14),d=u(110).includes,y=u(66);f({target:"Array",proto:!0},{includes:function(x){return d(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(c,p,u){var f=u(14),d=u(165),y=u(37),x=u(33);f({target:"String",proto:!0,forced:!u(166)("includes")},{includes:function(E){return!!~x(y(this)).indexOf(x(d(E)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,u){var f=u(24),d=u(49),y=u(21)("match");c.exports=function(x){var E;return f(x)&&((E=x[y])!==void 0?!!E:d(x)=="RegExp")}},function(c,p,u){var f=u(16),d=u(23).RegExp;p.UNSUPPORTED_Y=f(function(){var y=d("a","y");return y.lastIndex=2,y.exec("abcd")!=null}),p.BROKEN_CARET=f(function(){var y=d("^r","gy");return y.lastIndex=2,y.exec("str")!=null})},function(c,p,u){var f=u(37),d=u(33),y="["+u(135)+"]",x=RegExp("^"+y+y+"*"),E=RegExp(y+y+"*$"),S=function(P){return function(k){var O=d(f(k));return 1&P&&(O=O.replace(x,"")),2&P&&(O=O.replace(E,"")),O}};c.exports={start:S(1),end:S(2),trim:S(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,u){var f=u(99),d=u(25),y=u(32),x=u(33),E=u(37),S=u(100),P=u(101);f("match",function(k,O,z){return[function(Y){var q=E(this),G=Y==null?void 0:Y[k];return G!==void 0?G.call(Y,q):new RegExp(Y)[k](x(q))},function(Y){var q=d(this),G=x(Y),V=z(O,q,G);if(V.done)return V.value;if(!q.global)return P(q,G);var L=q.unicode;q.lastIndex=0;for(var H,$=[],N=0;(H=P(q,G))!==null;){var I=x(H[0]);$[N]=I,I===""&&(q.lastIndex=S(G,y(q.lastIndex),L)),N++}return N===0?null:$}]})},function(c,p,u){var f=u(99),d=u(16),y=u(25),x=u(50),E=u(32),S=u(33),P=u(37),k=u(100),O=u(171),z=u(101),Y=u(21)("replace"),q=Math.max,G=Math.min,V="a".replace(/./,"$0")==="$0",L=!!/./[Y]&&/./[Y]("a","$0")==="";f("replace",function(H,$,N){var I=L?"$":"$0";return[function(C,F){var B=P(this),R=C==null?void 0:C[Y];return R!==void 0?R.call(C,B,F):$.call(S(B),C,F)},function(C,F){var B=y(this),R=S(C);if(typeof F=="string"&&F.indexOf(I)===-1&&F.indexOf("$<")===-1){var X=N($,B,R,F);if(X.done)return X.value}var K=typeof F=="function";K||(F=S(F));var ne=B.global;if(ne){var ce=B.unicode;B.lastIndex=0}for(var he=[];;){var pe=z(B,R);if(pe===null||(he.push(pe),!ne))break;S(pe[0])===""&&(B.lastIndex=k(R,E(B.lastIndex),ce))}for(var ie,se="",ae=0,ue=0;ue<he.length;ue++){pe=he[ue];for(var ve=S(pe[0]),be=q(G(x(pe.index),R.length),0),we=[],Ce=1;Ce<pe.length;Ce++)we.push((ie=pe[Ce])===void 0?ie:String(ie));var Pe=pe.groups;if(K){var ot=[ve].concat(we,be,R);Pe!==void 0&&ot.push(Pe);var xt=S(F.apply(void 0,ot))}else xt=O(ve,R,be,we,Pe,F);be>=ae&&(se+=R.slice(ae,be)+xt,ae=be+ve.length)}return se+R.slice(ae)}]},!!d(function(){var H=/./;return H.exec=function(){var $=[];return $.groups={a:"7"},$},"".replace(H,"$<a>")!=="7"})||!V||L)},function(c,p,u){p.a=function(){return!1}},function(c,p,u){(function(f){var d=u(22),y=v&&!v.nodeType&&v,x=y&&typeof f=="object"&&f&&!f.nodeType&&f,E=x&&x.exports===y?d.a.Buffer:void 0,S=E?E.allocUnsafe:void 0;p.a=function(P,k){if(k)return P.slice();var O=P.length,z=S?S(O):new P.constructor(O);return P.copy(z),z}}).call(this,u(98)(c))},function(c,p,u){(function(f){u.d(p,"a",function(){return L});var d=u(0);function y(N){throw new Error("[mobx-utils] "+N)}function x(N,I){I===void 0&&(I="Illegal state"),N||y(I)}var E=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(E(Object.getPrototypeOf(N))||[])},S=function(N){return function(I){var C=E(I);return C.filter(function(F,B){return C.indexOf(F)===B})}(N).filter(function(I){return I!=="constructor"&&!~I.indexOf("__")})};function P(N){switch(this.state){case"pending":return N.pending&&N.pending(this.value);case"rejected":return N.rejected&&N.rejected(this.value);case"fulfilled":return N.fulfilled?N.fulfilled(this.value):this.value}}function k(N,I){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var C=N;N.then(Object(d.i)("observableFromPromise-resolve",function(B){C.value=B,C.state="fulfilled"}),Object(d.i)("observableFromPromise-reject",function(B){C.value=B,C.state="rejected"})),C.isPromiseBasedObservable=!0,C.case=P;var F=I&&I.state==="fulfilled"?I.value:void 0;return Object(d.o)(C,{value:F,state:"pending"},{},{deep:!1}),C}(function(N){N.reject=Object(d.i)("fromPromise.reject",function(I){var C=N(Promise.reject(I));return C.state="rejected",C.value=I,C}),N.resolve=Object(d.i)("fromPromise.resolve",function(I){I===void 0&&(I=void 0);var C=N(Promise.resolve(I));return C.state="fulfilled",C.value=I,C})})(k||(k={}));var O=function(N,I,C,F){var B,R=arguments.length,X=R<3?I:F===null?F=Object.getOwnPropertyDescriptor(I,C):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(N,I,C,F);else for(var K=N.length-1;K>=0;K--)(B=N[K])&&(X=(R<3?B(X):R>3?B(I,C,X):B(I,C))||X);return R>3&&X&&Object.defineProperty(I,C,X),X};(function(){function N(I,C){var F=this;Object(d.E)(function(){F.current=C,F.subscription=I.subscribe(F)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(I){this.current=I},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(I){this.current=I,this.dispose()},O([d.A.ref],N.prototype,"current",void 0),O([d.i.bound],N.prototype,"next",null),O([d.i.bound],N.prototype,"complete",null),O([d.i.bound],N.prototype,"error",null)})();var z=function(){return(z=Object.assign||function(N){for(var I,C=1,F=arguments.length;C<F;C++)for(var B in I=arguments[C])Object.prototype.hasOwnProperty.call(I,B)&&(N[B]=I[B]);return N}).apply(this,arguments)},Y=function(N,I,C,F){var B,R=arguments.length,X=R<3?I:F===null?F=Object.getOwnPropertyDescriptor(I,C):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(N,I,C,F);else for(var K=N.length-1;K>=0;K--)(B=N[K])&&(X=(R<3?B(X):R>3?B(I,C,X):B(I,C))||X);return R>3&&X&&Object.defineProperty(I,C,X),X},q=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(I){var C=this;this.model=I,this.localValues=d.A.map({}),this.localComputedValues=d.A.map({}),this.isPropertyDirty=function(F){return C.localValues.has(F)},x(Object(d.y)(I),"createViewModel expects an observable object"),S(I).forEach(function(F){if(F!==d.a&&F!=="__mobxDidRunLazyInitializers"){if(x(q.indexOf(F)===-1,"The propertyname "+F+" is reserved and cannot be used with viewModels"),Object(d.u)(I,F)){var B=Object(d.f)(I,F).derivation;C.localComputedValues.set(F,Object(d.k)(B.bind(C)))}var R=Object.getOwnPropertyDescriptor(I,F),X=R?{enumerable:R.enumerable}:{};Object.defineProperty(C,F,z(z({},X),{configurable:!0,get:function(){return Object(d.u)(I,F)?C.localComputedValues.get(F).get():C.isPropertyDirty(F)?C.localValues.get(F):C.model[F]},set:Object(d.i)(function(K){K!==C.model[F]?C.localValues.set(F,K):C.localValues.delete(F)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var I=this;Object(d.z)(this.localValues).forEach(function(C){var F=I.localValues.get(C),B=I.model[C];Object(d.w)(B)?B.replace(F):Object(d.x)(B)?(B.clear(),B.merge(F)):Object(d.t)(F)||(I.model[C]=F)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(I){this.localValues.delete(I)},Y([d.k],N.prototype,"isDirty",null),Y([d.k],N.prototype,"changedValues",null),Y([d.i.bound],N.prototype,"submit",null),Y([d.i.bound],N.prototype,"reset",null),Y([d.i.bound],N.prototype,"resetProperty",null)})();function G(N){if(!N)return"ROOT";for(var I=[];N.parent;)I.push(N.path),N=N.parent;return I.reverse().join("/")}function V(N){return Object(d.y)(N)||Object(d.w)(N)||Object(d.x)(N)}function L(N,I){var C=new WeakMap;function F(X){var K=C.get(X.object);(function(ne,ce){switch(ne.type){case"add":B(ne.newValue,ce,ne.name);break;case"update":R(ne.oldValue),B(ne.newValue,ce,ne.name||""+ne.index);break;case"remove":case"delete":R(ne.oldValue);break;case"splice":ne.removed.map(R),ne.added.forEach(function(ie,se){return B(ie,ce,""+(ne.index+se))});for(var he=ne.index+ne.addedCount;he<ne.object.length;he++)if(V(ne.object[he])){var pe=C.get(ne.object[he]);pe&&(pe.path=""+he)}}})(X,K),I(X,G(K),N)}function B(X,K,ne){if(V(X)){var ce=C.get(X);if(ce){if(ce.parent!==K||ce.path!==ne)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+G(K)+"/"+ne+"', but it already exists at '"+G(ce.parent)+"/"+ce.path+"'")}else{var he={parent:K,path:ne,dispose:Object(d.B)(X,F)};C.set(X,he),Object(d.n)(X).forEach(function(pe){var ie=pe[0];return B(pe[1],he,ie)})}}}function R(X){if(V(X)){var K=C.get(X);if(!K)return;C.delete(X),K.dispose(),Object(d.J)(X).forEach(R)}}return B(N,void 0,""),function(){R(N)}}var H,$=(H=function(N,I){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,F){C.__proto__=F}||function(C,F){for(var B in F)F.hasOwnProperty(B)&&(C[B]=F[B])})(N,I)},function(N,I){function C(){this.constructor=N}H(N,I),N.prototype=I===null?Object.create(I):(C.prototype=I.prototype,new C)});(function(N){function I(C,F,B){var R=B===void 0?{}:B,X=R.name,K=X===void 0?"ogm"+(1e3*Math.random()|0):X,ne=R.keyToName,ce=ne===void 0?function(ie){return""+ie}:ne,he=N.call(this)||this;he._keyToName=ce,he._groupBy=F,he._ogmInfoKey=Symbol("ogmInfo"+K),he._base=C;for(var pe=0;pe<C.length;pe++)he._addItem(C[pe]);return he._disposeBaseObserver=Object(d.B)(he._base,function(ie){if(ie.type==="splice")Object(d.H)(function(){for(var se=0,ae=ie.removed;se<ae.length;se++){var ue=ae[se];he._removeItem(ue)}for(var ve=0,be=ie.added;ve<be.length;ve++){var we=be[ve];he._addItem(we)}});else{if(ie.type!=="update")throw new Error("illegal state");Object(d.H)(function(){he._removeItem(ie.oldValue),he._addItem(ie.newValue)})}}),he}$(I,N),I.prototype.clear=function(){throw new Error("not supported")},I.prototype.delete=function(C){throw new Error("not supported")},I.prototype.set=function(C,F){throw new Error("not supported")},I.prototype.dispose=function(){this._disposeBaseObserver();for(var C=0;C<this._base.length;C++){var F=this._base[C];F[this._ogmInfoKey].reaction(),delete F[this._ogmInfoKey]}},I.prototype._getGroupArr=function(C){var F=N.prototype.get.call(this,C);return F===void 0&&(F=Object(d.A)([],{name:"GroupArray["+this._keyToName(C)+"]",deep:!1}),N.prototype.set.call(this,C,F)),F},I.prototype._removeFromGroupArr=function(C,F){var B=N.prototype.get.call(this,C);B.length===1?N.prototype.delete.call(this,C):(F===B.length-1||(B[F]=B[B.length-1],B[F][this._ogmInfoKey].groupArrIndex=F),B.length--)},I.prototype._addItem=function(C){var F=this,B=this._groupBy(C),R=this._getGroupArr(B),X={groupByValue:B,groupArrIndex:R.length,reaction:Object(d.D)(function(){return F._groupBy(C)},function(K,ne){var ce=C[F._ogmInfoKey];F._removeFromGroupArr(ce.groupByValue,ce.groupArrIndex);var he=F._getGroupArr(K),pe=he.length;he.push(C),ce.groupByValue=K,ce.groupArrIndex=pe})};Object.defineProperty(C,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:X}),R.push(C)},I.prototype._removeItem=function(C){var F=C[this._ogmInfoKey];this._removeFromGroupArr(F.groupByValue,F.groupArrIndex),F.reaction(),delete C[this._ogmInfoKey]}})(d.b),function(){function N(I,C){this.base=I,this.args=C,this.closestIdx=0,this.isDisposed=!1;for(var F=this.closest=this.root=I,B=0;B<this.args.length-1&&(F=F.get(C[B]));B++)this.closest=F;this.closestIdx=B}return N.prototype.exists=function(){this.assertNotDisposed();var I=this.args.length;return this.closestIdx>=I-1&&this.closest.has(this.args[I-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(I){this.assertNotDisposed();for(var C=this.args.length,F=this.closest,B=this.closestIdx;B<C-1;B++){var R=new Map;F.set(this.args[B],R),F=R}this.closestIdx=C-1,this.closest=F,F.set(this.args[C-1],I)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var I=this.args.length;this.closest.delete(this.args[I-1]);for(var C=this.root,F=[C],B=0;B<I-1;B++)C=C.get(this.args[B]),F.push(C);for(B=F.length-1;B>0;B--)F[B].size===0&&F[B-1].delete(this.args[B-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,u(104))},function(c,p,u){var f;(function(d,y,x){if(d){for(var E,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},P={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},O={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},z=1;z<20;++z)S[111+z]="f"+z;for(z=0;z<=9;++z)S[z+96]=z.toString();H.prototype.bind=function($,N,I){return $=$ instanceof Array?$:[$],this._bindMultiple.call(this,$,N,I),this},H.prototype.unbind=function($,N){return this.bind.call(this,$,function(){},N)},H.prototype.trigger=function($,N){return this._directMap[$+":"+N]&&this._directMap[$+":"+N]({},$),this},H.prototype.reset=function(){return this._callbacks={},this._directMap={},this},H.prototype.stopCallback=function($,N){if((" "+N.className+" ").indexOf(" mousetrap ")>-1||function C(F,B){return F!==null&&F!==y&&(F===B||C(F.parentNode,B))}(N,this.target))return!1;if("composedPath"in $&&typeof $.composedPath=="function"){var I=$.composedPath()[0];I!==$.target&&(N=I)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},H.prototype.handleKey=function(){var $=this;return $._handleKey.apply($,arguments)},H.addKeycodes=function($){for(var N in $)$.hasOwnProperty(N)&&(S[N]=$[N]);E=null},H.init=function(){var $=H(y);for(var N in $)N.charAt(0)!=="_"&&(H[N]=function(I){return function(){return $[I].apply($,arguments)}}(N))},H.init(),d.Mousetrap=H,c.exports&&(c.exports=H),(f=function(){return H}.call(p,u,p,c))===void 0||(c.exports=f)}function Y($,N,I){$.addEventListener?$.addEventListener(N,I,!1):$.attachEvent("on"+N,I)}function q($){if($.type=="keypress"){var N=String.fromCharCode($.which);return $.shiftKey||(N=N.toLowerCase()),N}return S[$.which]?S[$.which]:P[$.which]?P[$.which]:String.fromCharCode($.which).toLowerCase()}function G($){return $=="shift"||$=="ctrl"||$=="alt"||$=="meta"}function V($,N,I){return I||(I=function(){if(!E)for(var C in E={},S)C>95&&C<112||S.hasOwnProperty(C)&&(E[S[C]]=C);return E}()[$]?"keydown":"keypress"),I=="keypress"&&N.length&&(I="keydown"),I}function L($,N){var I,C,F,B=[];for(I=function(R){return R==="+"?["+"]:(R=R.replace(/\+{2}/g,"+plus")).split("+")}($),F=0;F<I.length;++F)C=I[F],O[C]&&(C=O[C]),N&&N!="keypress"&&k[C]&&(C=k[C],B.push("shift")),G(C)&&B.push(C);return{key:C,modifiers:B,action:N=V(C,B,N)}}function H($){var N=this;if($=$||y,!(N instanceof H))return new H($);N.target=$,N._callbacks={},N._directMap={};var I,C={},F=!1,B=!1,R=!1;function X(ie){ie=ie||{};var se,ae=!1;for(se in C)ie[se]?ae=!0:C[se]=0;ae||(R=!1)}function K(ie,se,ae,ue,ve,be){var we,Ce,Pe,ot,xt=[],Be=ae.type;if(!N._callbacks[ie])return[];for(Be=="keyup"&&G(ie)&&(se=[ie]),we=0;we<N._callbacks[ie].length;++we)if(Ce=N._callbacks[ie][we],(ue||!Ce.seq||C[Ce.seq]==Ce.level)&&Be==Ce.action&&(Be=="keypress"&&!ae.metaKey&&!ae.ctrlKey||(Pe=se,ot=Ce.modifiers,Pe.sort().join(",")===ot.sort().join(",")))){var Te=!ue&&Ce.combo==ve,We=ue&&Ce.seq==ue&&Ce.level==be;(Te||We)&&N._callbacks[ie].splice(we,1),xt.push(Ce)}return xt}function ne(ie,se,ae,ue){N.stopCallback(se,se.target||se.srcElement,ae,ue)||ie(se,ae)===!1&&(function(ve){ve.preventDefault?ve.preventDefault():ve.returnValue=!1}(se),function(ve){ve.stopPropagation?ve.stopPropagation():ve.cancelBubble=!0}(se))}function ce(ie){typeof ie.which!="number"&&(ie.which=ie.keyCode);var se=q(ie);se&&(ie.type!="keyup"||F!==se?N.handleKey(se,function(ae){var ue=[];return ae.shiftKey&&ue.push("shift"),ae.altKey&&ue.push("alt"),ae.ctrlKey&&ue.push("ctrl"),ae.metaKey&&ue.push("meta"),ue}(ie),ie):F=!1)}function he(ie,se,ae,ue){function ve(Pe){return function(){R=Pe,++C[ie],clearTimeout(I),I=setTimeout(X,1e3)}}function be(Pe){ne(ae,Pe,ie),ue!=="keyup"&&(F=q(Pe)),setTimeout(X,10)}C[ie]=0;for(var we=0;we<se.length;++we){var Ce=we+1===se.length?be:ve(ue||L(se[we+1]).action);pe(se[we],Ce,ue,ie,we)}}function pe(ie,se,ae,ue,ve){N._directMap[ie+":"+ae]=se;var be,we=(ie=ie.replace(/\s+/g," ")).split(" ");we.length>1?he(ie,we,se,ae):(be=L(ie,ae),N._callbacks[be.key]=N._callbacks[be.key]||[],K(be.key,be.modifiers,{type:be.action},ue,ie,ve),N._callbacks[be.key][ue?"unshift":"push"]({callback:se,modifiers:be.modifiers,action:be.action,seq:ue,level:ve,combo:ie}))}N._handleKey=function(ie,se,ae){var ue,ve=K(ie,se,ae),be={},we=0,Ce=!1;for(ue=0;ue<ve.length;++ue)ve[ue].seq&&(we=Math.max(we,ve[ue].level));for(ue=0;ue<ve.length;++ue)if(ve[ue].seq){if(ve[ue].level!=we)continue;Ce=!0,be[ve[ue].seq]=1,ne(ve[ue].callback,ae,ve[ue].combo,ve[ue].seq)}else Ce||ne(ve[ue].callback,ae,ve[ue].combo);var Pe=ae.type=="keypress"&&B;ae.type!=R||G(ie)||Pe||X(be),B=Ce&&ae.type=="keydown"},N._bindMultiple=function(ie,se,ae){for(var ue=0;ue<ie.length;++ue)pe(ie[ue],se,ae)},Y($,"keypress",ce),Y($,"keydown",ce),Y($,"keyup",ce)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,u){var f=u(28),d=u(29),y=u(25),x=u(54);c.exports=f?Object.defineProperties:function(E,S){y(E);for(var P,k=x(S),O=k.length,z=0;O>z;)d.f(E,P=k[z++],S[P]);return E}},function(c,p,u){var f=u(24);c.exports=function(d,y){var x,E;if(y==="string"&&typeof(x=d.toString)=="function"&&!f(E=x.call(d))||typeof(x=d.valueOf)=="function"&&!f(E=x.call(d))||y!=="string"&&typeof(x=d.toString)=="function"&&!f(E=x.call(d)))return E;throw TypeError("Can't convert object to primitive value")}},function(c,p,u){var f=u(45);c.exports=f("document","documentElement")},function(c,p,u){var f=u(23),d=u(111),y=f.WeakMap;c.exports=typeof y=="function"&&/native code/.test(d(y))},function(c,p,u){var f=u(114).IteratorPrototype,d=u(46),y=u(57),x=u(77),E=u(56),S=function(){return this};c.exports=function(P,k,O){var z=k+" Iterator";return P.prototype=d(f,{next:y(1,O)}),x(P,z,!1,!0),E[z]=S,P}},function(c,p,u){var f=u(24);c.exports=function(d){if(!f(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype");return d}},function(c,p,u){var f=u(14),d=u(23),y=u(92),x=u(43),E=u(116),S=u(118),P=u(123),k=u(24),O=u(16),z=u(124),Y=u(77),q=u(125);c.exports=function(G,V,L){var H=G.indexOf("Map")!==-1,$=G.indexOf("Weak")!==-1,N=H?"set":"add",I=d[G],C=I&&I.prototype,F=I,B={},R=function(pe){var ie=C[pe];x(C,pe,pe=="add"?function(se){return ie.call(this,se===0?0:se),this}:pe=="delete"?function(se){return!($&&!k(se))&&ie.call(this,se===0?0:se)}:pe=="get"?function(se){return $&&!k(se)?void 0:ie.call(this,se===0?0:se)}:pe=="has"?function(se){return!($&&!k(se))&&ie.call(this,se===0?0:se)}:function(se,ae){return ie.call(this,se===0?0:se,ae),this})};if(y(G,typeof I!="function"||!($||C.forEach&&!O(function(){new I().entries().next()}))))F=L.getConstructor(V,G,H,N),E.enable();else if(y(G,!0)){var X=new F,K=X[N]($?{}:-0,1)!=X,ne=O(function(){X.has(1)}),ce=z(function(pe){new I(pe)}),he=!$&&O(function(){for(var pe=new I,ie=5;ie--;)pe[N](ie,ie);return!pe.has(-0)});ce||((F=V(function(pe,ie){P(pe,F,G);var se=q(new I,pe,F);return ie!=null&&S(ie,se[N],{that:se,AS_ENTRIES:H}),se})).prototype=C,C.constructor=F),(ne||he)&&(R("delete"),R("has"),H&&R("get")),(he||K)&&R(N),$&&C.clear&&delete C.clear}return B[G]=F,f({global:!0,forced:F!=I},B),Y(F,G),$||L.setStrong(F,G,H),F}},function(c,p,u){var f=u(16);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,u){var f=u(29).f,d=u(46),y=u(151),x=u(79),E=u(123),S=u(118),P=u(90),k=u(152),O=u(28),z=u(116).fastKey,Y=u(51),q=Y.set,G=Y.getterFor;c.exports={getConstructor:function(V,L,H,$){var N=V(function(B,R){E(B,N,L),q(B,{type:L,index:d(null),first:void 0,last:void 0,size:0}),O||(B.size=0),R!=null&&S(R,B[$],{that:B,AS_ENTRIES:H})}),I=G(L),C=function(B,R,X){var K,ne,ce=I(B),he=F(B,R);return he?he.value=X:(ce.last=he={index:ne=z(R,!0),key:R,value:X,previous:K=ce.last,next:void 0,removed:!1},ce.first||(ce.first=he),K&&(K.next=he),O?ce.size++:B.size++,ne!=="F"&&(ce.index[ne]=he)),B},F=function(B,R){var X,K=I(B),ne=z(R);if(ne!=="F")return K.index[ne];for(X=K.first;X;X=X.next)if(X.key==R)return X};return y(N.prototype,{clear:function(){for(var B=I(this),R=B.index,X=B.first;X;)X.removed=!0,X.previous&&(X.previous=X.previous.next=void 0),delete R[X.index],X=X.next;B.first=B.last=void 0,O?B.size=0:this.size=0},delete:function(B){var R=I(this),X=F(this,B);if(X){var K=X.next,ne=X.previous;delete R.index[X.index],X.removed=!0,ne&&(ne.next=K),K&&(K.previous=ne),R.first==X&&(R.first=K),R.last==X&&(R.last=ne),O?R.size--:this.size--}return!!X},forEach:function(B){for(var R,X=I(this),K=x(B,arguments.length>1?arguments[1]:void 0,3);R=R?R.next:X.first;)for(K(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(B){return!!F(this,B)}}),y(N.prototype,H?{get:function(B){var R=F(this,B);return R&&R.value},set:function(B,R){return C(this,B===0?0:B,R)}}:{add:function(B){return C(this,B=B===0?0:B,B)}}),O&&f(N.prototype,"size",{get:function(){return I(this).size}}),N},setStrong:function(V,L,H){var $=L+" Iterator",N=G(L),I=G($);P(V,L,function(C,F){q(this,{type:$,target:C,state:N(C),kind:F,last:void 0})},function(){for(var C=I(this),F=C.kind,B=C.last;B&&B.removed;)B=B.previous;return C.target&&(C.last=B=B?B.next:C.state.first)?F=="keys"?{value:B.key,done:!1}:F=="values"?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:(C.target=void 0,{value:void 0,done:!0})},H?"entries":"values",!H,!0),k(L)}}},function(c,p,u){var f=u(43);c.exports=function(d,y,x){for(var E in y)f(d,E,y[E],x);return d}},function(c,p,u){var f=u(45),d=u(29),y=u(21),x=u(28),E=y("species");c.exports=function(S){var P=f(S),k=d.f;x&&P&&!P[E]&&k(P,E,{configurable:!0,get:function(){return this}})}},function(c,p,u){var f=u(95),d=u(121);c.exports=f?{}.toString:function(){return"[object "+d(this)+"]"}},function(c,p,u){var f=u(60).forEach,d=u(97)("forEach");c.exports=d?[].forEach:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}},function(c,p,u){var f=u(24),d=u(80),y=u(21)("species");c.exports=function(x){var E;return d(x)&&(typeof(E=x.constructor)!="function"||E!==Array&&!d(E.prototype)?f(E)&&(E=E[y])===null&&(E=void 0):E=void 0),E===void 0?Array:E}},function(c,p,u){var f=u(23);c.exports=f},function(c,p,u){var f=u(79),d=u(30),y=u(158),x=u(119),E=u(32),S=u(62),P=u(120),k=u(94);c.exports=function(O){var z,Y,q,G,V,L,H=d(O),$=typeof this=="function"?this:Array,N=arguments.length,I=N>1?arguments[1]:void 0,C=I!==void 0,F=k(H),B=0;if(C&&(I=f(I,N>2?arguments[2]:void 0,2)),F==null||$==Array&&x(F))for(Y=new $(z=E(H.length));z>B;B++)L=C?I(H[B],B):H[B],S(Y,B,L);else for(V=(G=P(H,F)).next,Y=new $;!(q=V.call(G)).done;B++)L=C?y(G,I,[q.value,B],!0):q.value,S(Y,B,L);return Y.length=B,Y}},function(c,p,u){var f=u(25),d=u(122);c.exports=function(y,x,E,S){try{return S?x(f(E)[0],E[1]):x(E)}catch(P){d(y,"throw",P)}}},function(c,p,u){var f=u(14),d=u(59),y=u(30),x=u(32),E=u(33),S=u(16),P=u(160),k=u(97),O=u(161),z=u(162),Y=u(70),q=u(163),G=[],V=G.sort,L=S(function(){G.sort(void 0)}),H=S(function(){G.sort(null)}),$=k("sort"),N=!S(function(){if(Y)return Y<70;if(!(O&&O>3)){if(z)return!0;if(q)return q<603;var I,C,F,B,R="";for(I=65;I<76;I++){switch(C=String.fromCharCode(I),I){case 66:case 69:case 70:case 72:F=3;break;case 68:case 71:F=4;break;default:F=2}for(B=0;B<47;B++)G.push({k:C+B,v:F})}for(G.sort(function(X,K){return K.v-X.v}),B=0;B<G.length;B++)C=G[B].k.charAt(0),R.charAt(R.length-1)!==C&&(R+=C);return R!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:L||!H||!$||!N},{sort:function(I){I!==void 0&&d(I);var C=y(this);if(N)return I===void 0?V.call(C):V.call(C,I);var F,B,R=[],X=x(C.length);for(B=0;B<X;B++)B in C&&R.push(C[B]);for(F=(R=P(R,function(K){return function(ne,ce){return ce===void 0?-1:ne===void 0?1:K!==void 0?+K(ne,ce)||0:E(ne)>E(ce)?1:-1}}(I))).length,B=0;B<F;)C[B]=R[B++];for(;B<X;)delete C[B++];return C}})},function(c,p){var u=Math.floor,f=function(x,E){var S=x.length,P=u(S/2);return S<8?d(x,E):y(f(x.slice(0,P),E),f(x.slice(P),E),E)},d=function(x,E){for(var S,P,k=x.length,O=1;O<k;){for(P=O,S=x[O];P&&E(x[P-1],S)>0;)x[P]=x[--P];P!==O++&&(x[P]=S)}return x},y=function(x,E,S){for(var P=x.length,k=E.length,O=0,z=0,Y=[];O<P||z<k;)O<P&&z<k?Y.push(S(x[O],E[z])<=0?x[O++]:E[z++]):Y.push(O<P?x[O++]:E[z++]);return Y};c.exports=f},function(c,p,u){var f=u(71).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,u){var f=u(71);c.exports=/MSIE|Trident/.test(f)},function(c,p,u){var f=u(71).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,u){var f=u(14),d=u(60).find,y=u(66),x=!0;"find"in[]&&Array(1).find(function(){x=!1}),f({target:"Array",proto:!0,forced:x},{find:function(E){return d(this,E,arguments.length>1?arguments[1]:void 0)}}),y("find")},function(c,p,u){var f=u(132);c.exports=function(d){if(f(d))throw TypeError("The method doesn't accept regular expressions");return d}},function(c,p,u){var f=u(21)("match");c.exports=function(d){var y=/./;try{"/./"[d](y)}catch{try{return y[f]=!1,"/./"[d](y)}catch{}}return!1}},function(c,p,u){var f=u(25);c.exports=function(){var d=f(this),y="";return d.global&&(y+="g"),d.ignoreCase&&(y+="i"),d.multiline&&(y+="m"),d.dotAll&&(y+="s"),d.unicode&&(y+="u"),d.sticky&&(y+="y"),y}},function(c,p,u){var f=u(16),d=u(23).RegExp;c.exports=f(function(){var y=d(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},function(c,p,u){var f=u(16),d=u(23).RegExp;c.exports=f(function(){var y=d("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},function(c,p,u){var f=u(25),d=u(59),y=u(21)("species");c.exports=function(x,E){var S,P=f(x).constructor;return P===void 0||(S=f(P)[y])==null?E:d(S)}},function(c,p,u){var f=u(30),d=Math.floor,y="".replace,x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;c.exports=function(S,P,k,O,z,Y){var q=k+S.length,G=O.length,V=E;return z!==void 0&&(z=f(z),V=x),y.call(Y,V,function(L,H){var $;switch(H.charAt(0)){case"$":return"$";case"&":return S;case"`":return P.slice(0,k);case"'":return P.slice(q);case"<":$=z[H.slice(1,-1)];break;default:var N=+H;if(N===0)return L;if(N>G){var I=d(N/10);return I===0?L:I<=G?O[I-1]===void 0?H.charAt(1):O[I-1]+H.charAt(1):L}$=O[N-1]}return $===void 0?"":$})}},function(c,p,u){var f=u(59),d=u(24),y=[].slice,x={},E=function(S,P,k){if(!(P in x)){for(var O=[],z=0;z<P;z++)O[z]="a["+z+"]";x[P]=Function("C,a","return new C("+O.join(",")+")")}return x[P](S,k)};c.exports=Function.bind||function(S){var P=f(this),k=y.call(arguments,1),O=function(){var z=k.concat(y.call(arguments));return this instanceof O?E(P,z.length,z):P.apply(S,z)};return d(P.prototype)&&(O.prototype=P.prototype),O}},function(c,p,u){var f=u(28),d=u(16),y=u(54),x=u(91),E=u(75),S=u(30),P=u(65),k=Object.assign,O=Object.defineProperty;c.exports=!k||d(function(){if(f&&k({b:1},k(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},Y={},q=Symbol();return z[q]=7,"abcdefghijklmnopqrst".split("").forEach(function(G){Y[G]=G}),k({},z)[q]!=7||y(k({},Y)).join("")!="abcdefghijklmnopqrst"})?function(z,Y){for(var q=S(z),G=arguments.length,V=1,L=x.f,H=E.f;G>V;)for(var $,N=P(arguments[V++]),I=L?y(N).concat(L(N)):y(N),C=I.length,F=0;C>F;)$=I[F++],f&&!H.call(N,$)||(q[$]=N[$]);return q}:k},function(c,p,u){var f=u(37),d=u(33),y=/"/g;c.exports=function(x,E,S,P){var k=d(f(x)),O="<"+E;return S!==""&&(O+=" "+S+'="'+d(P).replace(y,"&quot;")+'"'),O+">"+k+"</"+E+">"}},function(c,p,u){var f=u(16);c.exports=function(d){return f(function(){var y=""[d]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(c,p,u){var f=u(14),d=Math.hypot,y=Math.abs,x=Math.sqrt;f({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,S){for(var P,k,O=0,z=0,Y=arguments.length,q=0;z<Y;)q<(P=y(arguments[z++]))?(O=O*(k=q/P)*k+1,q=P):O+=P>0?(k=P/q)*k:P;return q===1/0?1/0:q*x(O)}})},function(c,p,u){var f=u(27);c.exports=function(d){return d!==void 0&&(f(d,"value")||f(d,"writable"))}},function(c,p,u){u(14)({target:"String",proto:!0},{repeat:u(179)})},function(c,p,u){var f=u(50),d=u(33),y=u(37);c.exports=function(x){var E=d(y(this)),S="",P=f(x);if(P<0||P==1/0)throw RangeError("Wrong number of repetitions");for(;P>0;(P>>>=1)&&(E+=E))1&P&&(S+=E);return S}},function(c,p,u){var f=u(28),d=u(54),y=u(34),x=u(75).f,E=function(S){return function(P){for(var k,O=y(P),z=d(O),Y=z.length,q=0,G=[];Y>q;)k=z[q++],f&&!x.call(O,k)||G.push(S?[k,O[k]]:O[k]);return G}};c.exports={entries:E(!0),values:E(!1)}},function(c,p,u){var f=u(30),d=u(73),y=u(32);c.exports=function(x){for(var E=f(this),S=y(E.length),P=arguments.length,k=d(P>1?arguments[1]:void 0,S),O=P>2?arguments[2]:void 0,z=O===void 0?S:d(O,S);z>k;)E[k++]=x;return E}},function(c,p,u){var f=u(14),d=u(134).trim;f({target:"String",proto:!0,forced:u(183)("trim")},{trim:function(){return d(this)}})},function(c,p,u){var f=u(16),d=u(135);c.exports=function(y){return f(function(){return!!d[y]()||"\u200B\x85\u180E"[y]()!="\u200B\x85\u180E"||d[y].name!==y})}},function(c,p,u){u.r(p),u.d(p,"observer",function(){return Un}),u.d(p,"LogicFlow",function(){return vc}),u.d(p,"h",function(){return L}),u.d(p,"LogicFlowUtil",function(){return f}),u.d(p,"BaseNode",function(){return nr}),u.d(p,"RectNode",function(){return Xs}),u.d(p,"CircleNode",function(){return Gs}),u.d(p,"PolygonNode",function(){return $s}),u.d(p,"DiamondNode",function(){return qs}),u.d(p,"EllipseNode",function(){return Zs}),u.d(p,"TextNode",function(){return Qs}),u.d(p,"HtmlNode",function(){return nc}),u.d(p,"BaseEdge",function(){return ji}),u.d(p,"LineEdge",function(){return sc}),u.d(p,"PolylineEdge",function(){return cc}),u.d(p,"BezierEdge",function(){return lc}),u.d(p,"Arrow",function(){return Iy}),u.d(p,"BaseEdgeModel",function(){return Ju}),u.d(p,"BezierEdgeModel",function(){return Os}),u.d(p,"LineEdgeModel",function(){return ts}),u.d(p,"PolylineEdgeModel",function(){return rs}),u.d(p,"BaseNodeModel",function(){return er}),u.d(p,"CircleNodeModel",function(){return xs}),u.d(p,"DiamondNodeModel",function(){return Ss}),u.d(p,"EllipseNodeModel",function(){return Ps}),u.d(p,"PolygonNodeModel",function(){return Ts}),u.d(p,"RectNodeModel",function(){return Ms}),u.d(p,"TextNodeModel",function(){return Rs}),u.d(p,"HtmlNodeModel",function(){return Ls}),u.d(p,"EditConfigModel",function(){return Ml}),u.d(p,"GraphModel",function(){return xp}),u.d(p,"SnaplineModel",function(){return zd}),u.d(p,"Keyboard",function(){return Ov}),u.d(p,"get",function(){return vh}),u.d(p,"defaults",function(){return bh});var f={};u.r(f),u.d(f,"createUuid",function(){return _o}),u.d(f,"refreshGraphId",function(){return Wm}),u.d(f,"createDrag",function(){return La}),u.d(f,"StepDrag",function(){return vi});var d,y,x,E,S,P,k,O=u(0),z={},Y=[],q=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function G(t,e){for(var n in e)t[n]=e[n];return t}function V(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?d.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return H(t,a,r,i,null)}function H(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++x:i};return y.vnode!=null&&y.vnode(o),o}function $(){return{current:null}}function N(t){return t.children}function I(t,e){this.props=t,this.context=e}function C(t,e){if(e==null)return t.__?C(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?C(t):null}function F(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return F(t)}}function B(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!R.__r++||P!==y.debounceRendering)&&((P=y.debounceRendering)||S)(R)}function R(){for(var t;R.__r=E.length;)t=E.sort(function(e,n){return e.__v.__b-n.__v.__b}),E=[],t.some(function(e){var n,r,i,o,a,s;e.__d&&(a=(o=(n=e).__v).__e,(s=n.__P)&&(r=[],(i=G({},o)).__v=o.__v+1,ae(s,o,i,n.__n,s.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a==null?C(o):a,o.__h),ue(r,o),o.__e!=a&&F(o)))})}function X(t,e,n,r,i,o,a,s,l,h){var _,j,A,M,U,J,Z,ee=r&&r.__k||Y,Q=ee.length;for(n.__k=[],_=0;_<e.length;_++)if((M=n.__k[_]=(M=e[_])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?H(null,M,null,null,M):Array.isArray(M)?H(N,{children:M},null,null,null):M.__b>0?H(M.type,M.props,M.key,null,M.__v):M)!=null){if(M.__=n,M.__b=n.__b+1,(A=ee[_])===null||A&&M.key==A.key&&M.type===A.type)ee[_]=void 0;else for(j=0;j<Q;j++){if((A=ee[j])&&M.key==A.key&&M.type===A.type){ee[j]=void 0;break}A=null}ae(t,M,A=A||z,i,o,a,s,l,h),U=M.__e,(j=M.ref)&&A.ref!=j&&(Z||(Z=[]),A.ref&&Z.push(A.ref,null,M),Z.push(j,M.__c||U,M)),U!=null?(J==null&&(J=U),typeof M.type=="function"&&M.__k!=null&&M.__k===A.__k?M.__d=l=K(M,l,t):l=ce(t,M,A,ee,U,l),h||n.type!=="option"?typeof n.type=="function"&&(n.__d=l):t.value=""):l&&A.__e==l&&l.parentNode!=t&&(l=C(A))}for(n.__e=J,_=Q;_--;)ee[_]!=null&&(typeof n.type=="function"&&ee[_].__e!=null&&ee[_].__e==n.__d&&(n.__d=C(r,_+1)),we(ee[_],ee[_]));if(Z)for(_=0;_<Z.length;_++)be(Z[_],Z[++_],Z[++_])}function K(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?K(i,e,n):ce(n,i,i,t.__k,i.__e,e));return e}function ne(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){ne(n,e)}):e.push(t)),e}function ce(t,e,n,r,i,o){var a,s,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function he(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||q.test(e)?n:n+"px"}function pe(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||he(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||he(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?se:ie,o):t.removeEventListener(e,o?se:ie,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function ie(t){this.l[t.type+!1](y.event?y.event(t):t)}function se(t){this.l[t.type+!0](y.event?y.event(t):t)}function ae(t,e,n,r,i,o,a,s,l){var h,_,j,A,M,U,J,Z,ee,Q,oe,fe=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,s=e.__e=n.__e,e.__h=null,o=[s]),(h=y.__b)&&h(e);try{e:if(typeof fe=="function"){if(Z=e.props,ee=(h=fe.contextType)&&r[h.__c],Q=h?ee?ee.props.value:h.__:r,n.__c?J=(_=e.__c=n.__c).__=_.__E:("prototype"in fe&&fe.prototype.render?e.__c=_=new fe(Z,Q):(e.__c=_=new I(Z,Q),_.constructor=fe,_.render=Ce),ee&&ee.sub(_),_.props=Z,_.state||(_.state={}),_.context=Q,_.__n=r,j=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),fe.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=G({},_.__s)),G(_.__s,fe.getDerivedStateFromProps(Z,_.__s))),A=_.props,M=_.state,j)fe.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(fe.getDerivedStateFromProps==null&&Z!==A&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(Z,Q),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(Z,_.__s,Q)===!1||e.__v===n.__v){_.props=Z,_.state=_.__s,e.__v!==n.__v&&(_.__d=!1),_.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(le){le&&(le.__=e)}),_.__h.length&&a.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(Z,_.__s,Q),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(A,M,U)})}_.context=Q,_.props=Z,_.state=_.__s,(h=y.__r)&&h(e),_.__d=!1,_.__v=e,_.__P=t,h=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(r=G(G({},r),_.getChildContext())),j||_.getSnapshotBeforeUpdate==null||(U=_.getSnapshotBeforeUpdate(A,M)),oe=h!=null&&h.type===N&&h.key==null?h.props.children:h,X(t,Array.isArray(oe)?oe:[oe],e,n,r,i,o,a,s,l),_.base=e.__e,e.__h=null,_.__h.length&&a.push(_),J&&(_.__E=_.__=null),_.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ve(n.__e,e,n,r,i,o,a,l);(h=y.diffed)&&h(e)}catch(le){e.__v=null,(l||o!=null)&&(e.__e=s,e.__h=!!l,o[o.indexOf(s)]=null),y.__e(le,e,n)}}function ue(t,e){y.__c&&y.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){y.__e(r,n.__v)}})}function ve(t,e,n,r,i,o,a,s){var l,h,_,j=n.props,A=e.props,M=e.type,U=0;if(M==="svg"&&(i=!0),o!=null){for(;U<o.length;U++)if((l=o[U])&&(l===t||(M?l.localName==M:l.nodeType==3))){t=l,o[U]=null;break}}if(t==null){if(M===null)return document.createTextNode(A);t=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,A.is&&A),o=null,s=!1}if(M===null)j===A||s&&t.data===A||(t.data=A);else{if(o=o&&d.call(t.childNodes),h=(j=n.props||z).dangerouslySetInnerHTML,_=A.dangerouslySetInnerHTML,!s){if(o!=null)for(j={},U=0;U<t.attributes.length;U++)j[t.attributes[U].name]=t.attributes[U].value;(_||h)&&(_&&(h&&_.__html==h.__html||_.__html===t.innerHTML)||(t.innerHTML=_&&_.__html||""))}if(function(J,Z,ee,Q,oe){var fe;for(fe in ee)fe==="children"||fe==="key"||fe in Z||pe(J,fe,null,ee[fe],Q);for(fe in Z)oe&&typeof Z[fe]!="function"||fe==="children"||fe==="key"||fe==="value"||fe==="checked"||ee[fe]===Z[fe]||pe(J,fe,Z[fe],ee[fe],Q)}(t,A,j,i,s),_)e.__k=[];else if(U=e.props.children,X(t,Array.isArray(U)?U:[U],e,n,r,i&&M!=="foreignObject",o,a,o?o[0]:n.__k&&C(n,0),s),o!=null)for(U=o.length;U--;)o[U]!=null&&V(o[U]);s||("value"in A&&(U=A.value)!==void 0&&(U!==t.value||M==="progress"&&!U)&&pe(t,"value",U,j.value,!1),"checked"in A&&(U=A.checked)!==void 0&&U!==t.checked&&pe(t,"checked",U,j.checked,!1))}return t}function be(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){y.__e(r,n)}}function we(t,e,n){var r,i;if(y.unmount&&y.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||be(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){y.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&we(r[i],e,typeof t.type!="function");n||t.__e==null||V(t.__e),t.__e=t.__d=void 0}function Ce(t,e,n){return this.constructor(t,n)}function Pe(t,e,n){var r,i,o;y.__&&y.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],ae(e,t=(!r&&n||e).__k=L(N,null,[t]),i||z,z,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?d.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),ue(o,t)}function ot(t,e){Pe(t,e,ot)}function xt(t,e,n){var r,i,o,a=G({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];return arguments.length>2&&(a.children=arguments.length>3?d.call(arguments,2):n),H(t.type,a,r||t.key,i||t.ref,null)}d=Y.slice,y={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t}},x=0,I.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=G({},this.state),typeof t=="function"&&(t=t(G({},n),this.props)),t&&G(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),B(this))},I.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),B(this))},I.prototype.render=N,E=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R.__r=0,k=0;var Be,Te,We,ft=0,Ht=[],Dt=y.__b,ar=y.__r,eo=y.diffed,gt=y.__c,qt=y.unmount;function Zt(t,e){y.__h&&y.__h(Te,t,ft||e),ft=0;var n=Te.__H||(Te.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Ar(t){return ft=1,Tr(Dr,t)}function Tr(t,e,n){var r=Zt(Be++,2);return r.t=t,r.__c||(r.__=[n?n(e):Dr(void 0,e),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=Te),r.__}function ur(t,e){var n=Zt(Be++,4);!y.__s&&sn(n.__H,e)&&(n.__=t,n.__H=e,Te.__h.push(n))}function An(t,e){var n=Zt(Be++,7);return sn(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function tt(){Ht.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(Le),t.__H.__h.forEach(Pt),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}),Ht=[]}y.__b=function(t){Te=null,Dt&&Dt(t)},y.__r=function(t){ar&&ar(t),Be=0;var e=(Te=t.__c).__H;e&&(e.__h.forEach(Le),e.__h.forEach(Pt),e.__h=[])},y.diffed=function(t){eo&&eo(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(Ht.push(e)!==1&&We===y.requestAnimationFrame||((We=y.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Mt&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Mt&&(r=requestAnimationFrame(i))})(tt)),Te=void 0},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Le),n.__h=n.__h.filter(function(r){return!r.__||Pt(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],y.__e(r,n.__v)}}),gt&&gt(t,e)},y.unmount=function(t){qt&&qt(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(Le)}catch(n){y.__e(n,e.__v)}};var Mt=typeof requestAnimationFrame=="function";function Le(t){var e=Te;typeof t.__c=="function"&&t.__c(),Te=e}function Pt(t){var e=Te;t.__c=t.__(),Te=e}function sn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Dr(t,e){return typeof e=="function"?e(t):e}function sr(t,e){for(var n in e)t[n]=e[n];return t}function cn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function _e(t){this.props=t}(_e.prototype=new I).isPureReactComponent=!0,_e.prototype.shouldComponentUpdate=function(t,e){return cn(this.props,t)||cn(this.state,e)};var Ee=y.__b;y.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ee&&Ee(t)};var Re=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ie(t){function e(n,r){var i=sr({},n);return delete i.ref,t(i,(r=n.ref||r)&&(typeof r!="object"||"current"in r)?r:null)}return e.$$typeof=Re,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var ut=function(t,e){return t==null?null:ne(ne(t).map(e))},Gn={map:ut,forEach:ut,count:function(t){return t?ne(t).length:0},only:function(t){var e=ne(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ne},Mr=y.__e;y.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}Mr(t,e,n)};var Ut=y.unmount;function Jt(){this.__u=0,this.t=null,this.__b=null}function to(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function gn(){this.u=null,this.o=null}y.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ut&&Ut(t)},(Jt.prototype=new I).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=to(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var h=r.state.__e;r.__v.__k[0]=function j(A,M,U){return A&&(A.__v=null,A.__k=A.__k&&A.__k.map(function(J){return j(J,M,U)}),A.__c&&A.__c.__P===M&&(A.__e&&U.insertBefore(A.__e,A.__d),A.__c.__e=!0,A.__c.__P=U)),A}(h,h.__c.__P,h.__c.__O)}var _;for(r.setState({__e:r.__b=null});_=r.t.pop();)_.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},Jt.prototype.componentWillUnmount=function(){this.t=[]},Jt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,s,l){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(h){typeof h.__c=="function"&&h.__c()}),a.__c.__H=null),(a=sr({},a)).__c!=null&&(a.__c.__P===l&&(a.__c.__P=s),a.__c=null),a.__k=a.__k&&a.__k.map(function(h){return o(h,s,l)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&L(N,null,t.fallback);return i&&(i.__h=null),[L(N,null,e.__e?null:t.children),i]};var Fo=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function no(t){return this.getChildContext=function(){return t.context},t.children}function pu(t){var e=this,n=t.i;e.componentWillUnmount=function(){Pe(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Pe(L(no,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(gn.prototype=new I).__e=function(t){var e=this,n=to(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),Fo(e,t,r)):i()};n?n(o):o()}},gn.prototype.render=function(t){this.u=null,this.o=new Map;var e=ne(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},gn.prototype.componentDidUpdate=gn.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Fo(t,n,e)})};var Ho=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Tn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Hi=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};I.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(I.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Uo=y.event;function Ui(){}function hu(){return this.cancelBubble}function Nr(){return this.defaultPrevented}y.event=function(t){return Uo&&(t=Uo(t)),t.persist=Ui,t.isPropagationStopped=hu,t.isDefaultPrevented=Nr,t.nativeEvent=t};var cr,bn={configurable:!0,get:function(){return this.class}},Vi=y.vnode;y.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!Hi(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():Tn.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=ne(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=ne(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(bn.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",bn)),t.$$typeof=Ho,Vi&&Vi(t)};var mn=y.__r;y.__r=function(t){mn&&mn(t),cr=t.__c};function Yn(t){return!!t&&t.$$typeof===Ho}function lr(t){return t&&(t.base||t.nodeType===1&&t)||null}var Cr=function(t,e){return t(e)},Vo={useState:Ar,useReducer:Tr,useEffect:function(t,e){var n=Zt(Be++,3);!y.__s&&sn(n.__H,e)&&(n.__=t,n.__H=e,Te.__H.__h.push(n))},useLayoutEffect:ur,useRef:function(t){return ft=5,An(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){ft=6,ur(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))},useMemo:An,useCallback:function(t,e){return ft=8,An(function(){return t},e)},useContext:function(t){var e=Te.context[t.__c],n=Zt(Be++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Te)),e.props.value):t.__},useDebugValue:function(t,e){y.useDebugValue&&y.useDebugValue(e?e(t):t)},version:"17.0.2",Children:Gn,render:function(t,e,n){return e.__k==null&&(e.textContent=""),Pe(t,e),typeof n=="function"&&n(),t?t.__c:null},hydrate:function(t,e,n){return ot(t,e),typeof n=="function"&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Pe(null,t),!0)},createPortal:function(t,e){return L(pu,{__v:t,i:e})},createElement:L,createContext:function(t,e){var n={__c:e="__cC"+k++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(B)},this.sub=function(a){i.push(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),s&&s.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(t){return L.bind(null,t)},cloneElement:function(t){return Yn(t)?xt.apply(null,arguments):t},createRef:$,Fragment:N,isValidElement:Yn,findDOMNode:lr,Component:I,PureComponent:_e,memo:function(t,e){function n(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!a:cn(this.props,i)}function r(i){return this.shouldComponentUpdate=n,L(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:Ie,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:Cr,StrictMode:N,Suspense:Jt,SuspenseList:gn,lazy:function(t){var e,n,r;function i(o){if(e||(e=t()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw e;return L(n,o)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return cr.__n[t.__c].props.value}}}}};/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ge(t){return(ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rr(t,e,n){return e&&Xo(t.prototype,e),n&&Xo(t,n),t}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wo(t,e)}function Ir(t){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Wo(t,e){return(Wo=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function $n(t,e){return!e||typeof e!="object"&&typeof e!="function"?function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t):e}function oo(t,e){return t(e={exports:{}},e.exports),e.exports}var Lr,Ke=oo(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,_=n?Symbol.for("react.async_mode"):60111,j=n?Symbol.for("react.concurrent_mode"):60111,A=n?Symbol.for("react.forward_ref"):60112,M=n?Symbol.for("react.suspense"):60113,U=n?Symbol.for("react.memo"):60115,J=n?Symbol.for("react.lazy"):60116;function Z(Q){if(typeof Q=="object"&&Q!==null){var oe=Q.$$typeof;switch(oe){case r:switch(Q=Q.type){case _:case j:case o:case s:case a:return Q;default:switch(Q=Q&&Q.$$typeof){case h:case A:case l:return Q;default:return oe}}case i:return oe}}}function ee(Q){return Z(Q)===j}e.typeOf=Z,e.AsyncMode=_,e.ConcurrentMode=j,e.ContextConsumer=h,e.ContextProvider=l,e.Element=r,e.ForwardRef=A,e.Fragment=o,e.Profiler=s,e.Portal=i,e.StrictMode=a,e.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===o||Q===j||Q===s||Q===a||Q===M||typeof Q=="object"&&Q!==null&&(Q.$$typeof===J||Q.$$typeof===U||Q.$$typeof===l||Q.$$typeof===h||Q.$$typeof===A)},e.isAsyncMode=function(Q){return ee(Q)||Z(Q)===_},e.isConcurrentMode=ee,e.isContextConsumer=function(Q){return Z(Q)===h},e.isContextProvider=function(Q){return Z(Q)===l},e.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===r},e.isForwardRef=function(Q){return Z(Q)===A},e.isFragment=function(Q){return Z(Q)===o},e.isProfiler=function(Q){return Z(Q)===s},e.isPortal=function(Q){return Z(Q)===i},e.isStrictMode=function(Q){return Z(Q)===a}});(Lr=Ke)&&Lr.__esModule&&Object.prototype.hasOwnProperty.call(Lr,"default")&&Lr.default,Ke.typeOf,Ke.AsyncMode,Ke.ConcurrentMode,Ke.ContextConsumer,Ke.ContextProvider,Ke.Element,Ke.ForwardRef,Ke.Fragment,Ke.Profiler,Ke.Portal,Ke.StrictMode,Ke.isValidElementType,Ke.isAsyncMode,Ke.isConcurrentMode,Ke.isContextConsumer,Ke.isContextProvider,Ke.isElement,Ke.isForwardRef,Ke.isFragment,Ke.isProfiler,Ke.isPortal,Ke.isStrictMode;var io=oo(function(t){t.exports=Ke}),Xi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Dn={};Dn[io.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var en=Object.defineProperty,du=Object.getOwnPropertyNames,Vt=Object.getOwnPropertySymbols,Wi=Object.getOwnPropertyDescriptor,yu=Object.getPrototypeOf,Go=Object.prototype,Gi=function t(e,n,r){if(typeof n!="string"){if(Go){var i=yu(n);i&&i!==Go&&t(e,i,r)}var o=du(n);Vt&&(o=o.concat(Vt(n)));for(var a=Dn[e.$$typeof]||Xi,s=Dn[n.$$typeof]||Xi,l=0;l<o.length;++l){var h=o[l];if(!(bt[h]||r&&r[h]||s&&s[h]||a&&a[h])){var _=Wi(n,h);try{en(e,h,_)}catch{}}}return e}return e},_n=function(){function t(){ro(this,t),this.listeners=[]}return Rr(t,[{key:"on",value:function(e){var n=this;return this.listeners.push(e),function(){var r=n.listeners.indexOf(e);r!==-1&&n.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(n){return n(e)})}}]),t}();function Yi(t){function e(r,i,o,a,s,l){for(var h=arguments.length,_=new Array(h>6?h-6:0),j=6;j<h;j++)_[j-6]=arguments[j];return Object(O.I)(function(){if(a=a||"<<anonymous>>",l=l||o,i[o]==null){if(r){var A=i[o]===null?"null":"undefined";return new Error("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `"+A+"`.")}return null}return t.apply(void 0,[i,o,a,s,l].concat(_))})}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function $i(t){var e=ge(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(n,r){return n==="symbol"||r["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&r instanceof Symbol}(e,t)?"symbol":e}function Mn(t,e){return Yi(function(n,r,i,o,a){return Object(O.I)(function(){if(t&&$i(n[r])===e.toLowerCase())return null;var s;switch(e){case"Array":s=O.w;break;case"Object":s=O.y;break;case"Map":s=O.x;break;default:throw new Error("Unexpected mobxType: ".concat(e))}var l=n[r];if(!s(l)){var h=function(j){var A=$i(j);if(A==="object"){if(j instanceof Date)return"date";if(j instanceof RegExp)return"regexp"}return A}(l),_=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+h+"` supplied to `"+i+"`, expected `mobx.Observable"+e+"`"+_+".")}return null})})}function ao(t,e){return Yi(function(n,r,i,o,a){for(var s=arguments.length,l=new Array(s>5?s-5:0),h=5;h<s;h++)l[h-5]=arguments[h];return Object(O.I)(function(){if(typeof e!="function")return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var _=Mn(t,"Array")(n,r,i);if(_ instanceof Error)return _;for(var j=n[r],A=0;A<j.length;A++)if((_=e.apply(void 0,[j,A,i,o,a+"["+A+"]"].concat(l)))instanceof Error)return _;return null})})}Mn(!1,"Array"),ao.bind(null,!1),Mn(!1,"Map"),Mn(!1,"Object"),Mn(!0,"Array"),ao.bind(null,!0);var Yo=Mn(!0,"Object"),$o=0,Ko={};function ln(t){return Ko[t]||(Ko[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react ".concat(e," (").concat($o,")");return $o++,n}(t)),Ko[t]}var qo=ln("patchMixins"),Ki=ln("patchedDefinition");function qi(t,e){var n=t[qo]=t[qo]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Zo(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var a;return t!=null&&(a=t.apply(this,i)),a}finally{e.locks--,e.locks===0&&e.methods.forEach(function(s){s.apply(n,i)})}}function Zi(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Zo.call.apply(Zo,[this,t,e].concat(r))}}function Ji(t,e){for(var n=qi(t,e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];for(var a=0;a<i.length;a++){var s=i[a];n.methods.indexOf(s)<0&&n.methods.push(s)}var l=Object.getOwnPropertyDescriptor(t,e);if(!l||!l[Ki]){var h=t[e],_=Qi(t,e,l?l.enumerable:void 0,n,h);Object.defineProperty(t,e,_)}}function Qi(t,e,n,r,i){var o,a=Zi(i,r);return Ct(o={},Ki,!0),Ct(o,"get",function(){return a}),Ct(o,"set",function(s){if(this===t)a=Zi(s,r);else{var l=Qi(this,e,n,r,s);Object.defineProperty(this,e,l)}}),Ct(o,"configurable",!0),Ct(o,"enumerable",n),o}var Jo={mobxStores:Yo};Object.seal(Jo);var ea={contextTypes:{get:function(){return Jo},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function ta(t,e,n){var r="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");n&&(r+="-with-"+n);var i=function(o){function a(){var s,l;ro(this,a);for(var h=arguments.length,_=new Array(h),j=0;j<h;j++)_[j]=arguments[j];return(l=$n(this,(s=Ir(a)).call.apply(s,[this].concat(_)))).storeRef=function(A){l.wrappedInstance=A},l}return Qt(a,o),Rr(a,[{key:"render",value:function(){var s={};for(var l in this.props)this.props.hasOwnProperty(l)&&(s[l]=this.props[l]);var h=t(this.context.mobxStores||{},s,this.context)||{};for(var _ in h)s[_]=h[_];return function(j){return!(j.prototype&&j.prototype.render)}(e)||(s.ref=this.storeRef),L(e,s)}}]),a}(I);return i.displayName=r,Gi(i,e),i.wrappedComponent=e,Object.defineProperties(i,ea),i}function vu(t){return function(e,n){return t.forEach(function(r){if(!(r in n)){if(!(r in e))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");n[r]=e[r]}}),n}}function na(){var t;if(typeof arguments[0]=="function")return t=arguments[0],function(r){var i=ta(t,r);return i.isMobxInjector=!1,(i=ht(i)).isMobxInjector=!0,i};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=vu(e),function(r){return ta(t,r,e.join("-"))}}var Kn=O.a||"$mobx",qn=ln("isUnmounted"),Zn=!1,ra=!1,fr=typeof WeakMap!="undefined"?new WeakMap:void 0,Qo=new _n,On=ln("skipRender"),uo=ln("isForcingUpdate"),oa=Ie(function(t,e){}).$$typeof;function pt(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function ia(t){if(lr)try{return lr(t)}catch{return null}return null}function ei(t){var e=ia(t);e&&fr&&fr.set(e,t),Qo.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}var gu=new _n;function tn(t,e){if(pr(t,e))return!0;if(ge(t)!=="object"||t===null||ge(e)!=="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(e,n[i])||!pr(t[n[i]],e[n[i]]))return!1;return!0}function pr(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function fn(t){var e=this;function n(){var l=this;a=!1;var h=void 0,_=void 0;if(s.track(function(){Zn&&(l.__$mobRenderStart=Date.now());try{_=Object(O.d)(!1,o)}catch(j){h=j}Zn&&(l.__$mobRenderEnd=Date.now())}),h)throw gu.emit(h),h;return _}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;pt(this,On,!1),pt(this,uo,!1);var o=t.bind(this),a=!1,s=new O.c("".concat(r,"#").concat(i,".render()"),function(){if(!a&&(a=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e[qn]!==!0)){var l=!0;try{pt(e,uo,!0),e[On]||I.prototype.forceUpdate.call(e),l=!1}finally{pt(e,uo,!1),l&&s.dispose()}}});return s.reactComponent=this,n[Kn]=s,this.render=n,n.call(this)}var Rt={componentWillUnmount:function(){if(this.render[Kn]&&this.render[Kn].dispose(),this[qn]=!0,Zn){var t=ia(this);t&&fr&&fr.delete(t),Qo.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){Zn&&ei(this)},componentDidUpdate:function(){Zn&&ei(this)},shouldComponentUpdate:function(t,e){return this.state!==e||!tn(this.props,t)}};function hr(t,e){var n=ln("reactProp_".concat(e,"_valueHolder")),r=ln("reactProp_".concat(e,"_atomHolder"));function i(){return this[r]||pt(this,r,Object(O.m)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(o){this[uo]||tn(this[n],o)?pt(this,n,o):(pt(this,n,o),pt(this,On,!0),i.call(this).reportChanged(),pt(this,On,!1))}})}function ht(t,e){if(typeof t=="string")throw new Error("Store names should be provided as array");if(Array.isArray(t))return ra||(ra=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?na.apply(null,t)(ht(e)):function(h){return ht(t,h)};var n=t;if(n.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===_e&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),oa&&n.$$typeof===oa){var r=n.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Ie(function(){var h=arguments;return Vo.createElement(zr,null,function(){return r.apply(void 0,h)})})}if(!(typeof n!="function"||n.prototype&&n.prototype.render||n.isReactClass||I.isPrototypeOf(n))){var i,o,a=ht((o=i=function(h){function _(){return ro(this,_),$n(this,Ir(_).apply(this,arguments))}return Qt(_,h),Rr(_,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),_}(I),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,o));return Gi(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var s=n.prototype||n;(function(h){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(_){(function(j,A){Ji(j,A,Rt[A])})(h,_)}),h.shouldComponentUpdate?h.shouldComponentUpdate!==Rt.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):h.shouldComponentUpdate=Rt.shouldComponentUpdate})(s),n.isMobXReactObserver=!0,hr(s,"props"),hr(s,"state");var l=s.render;return s.render=function(){return fn.call(this,l)},n}var zr=ht(function(t){var e=t.children,n=t.inject,r=t.render,i=e||r;if(i===void 0)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var o=na(n)(i);return Vo.createElement(o,null)});zr.displayName="Observer";var so=function(t,e,n,r,i){var o=e==="children"?"render":"children";return typeof t[e]=="function"&&typeof t[o]=="function"?new Error("Invalid prop,do not use children and render in the same time in`"+n):typeof t[e]!="function"&&typeof t[o]!="function"?new Error("Invalid prop `"+i+"` of type `"+ge(t[e])+"` supplied to `"+n+"`, expected `function`."):void 0};function dr(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Br(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return n!=null?n:null}.bind(this))}function aa(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}zr.propTypes={render:so,children:so},dr.__suppressDeprecationWarning=!0,Br.__suppressDeprecationWarning=!0,aa.__suppressDeprecationWarning=!0;var ti={children:!0,key:!0,ref:!0},Fr=function(t){function e(n,r){var i;return ro(this,e),(i=$n(this,Ir(e).call(this,n,r))).state={},co(n,i.state),i}return Qt(e,t),Rr(e,[{key:"render",value:function(){return Gn.only(this.props.children)}},{key:"getChildContext",value:function(){var n={};return co(this.context.mobxStores,n),co(this.props,n),{mobxStores:n}}}],[{key:"getDerivedStateFromProps",value:function(n,r){if(!n)return null;if(!r)return n;if(Object.keys(n).filter(It).length!==Object.keys(r).filter(It).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!n.suppressChangedStoreWarning)for(var i in n)It(i)&&r[i]!==n[i]&&console.warn("MobX Provider: Provided store '"+i+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return n}}]),e}(I);function co(t,e){if(t)for(var n in t)It(n)&&(e[n]=t[n])}function It(t){return!ti[t]&&t!=="suppressChangedStoreWarning"}if(Fr.contextTypes={mobxStores:Yo},Fr.childContextTypes={mobxStores:Yo.isRequired},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=dr,e.componentWillReceiveProps=Br),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=aa;var s=e.componentDidUpdate;e.componentDidUpdate=function(l,h,_){var j=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;s.call(this,l,h,j)}}}(Fr),ln("disposeOnUnmount"),!I)throw new Error("mobx-react requires React to be available");if(!O.F)throw new Error("mobx-react requires mobx to be available");if(Object(O.l)({reactionScheduler:Cr}),(typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="undefined"?"undefined":ge(__MOBX_DEVTOOLS_GLOBAL_HOOK__))==="object"){var bu={spy:O.F,extras:{getDebugName:O.r}},ua={renderReporter:Qo,componentByNodeRegistry:fr,componentByNodeRegistery:fr,trackComponents:function(){if(typeof WeakMap=="undefined")throw new Error("[mobx-react] tracking components is not supported in this browser.");Zn||(Zn=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(ua,bu)}u(1),u(78),u(3),u(5),u(4),u(8),u(17),u(35),u(12),u(2),u(19),u(13),u(20),u(6),u(7),u(15),u(18),u(159),u(164),u(81),u(130),u(131);var sa=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},ni=function(){this.__data__=[],this.size=0},lo=function(t,e){return t===e||t!=t&&e!=e},Xt=function(t,e){for(var n=t.length;n--;)if(lo(t[n][0],e))return n;return-1},mu=Array.prototype.splice,Hr=function(t){var e=this.__data__,n=Xt(e,t);return!(n<0)&&(n==e.length-1?e.pop():mu.call(e,n,1),--this.size,!0)},fo=function(t){var e=this.__data__,n=Xt(e,t);return n<0?void 0:e[n][1]},Wt=function(t){return Xt(this.__data__,t)>-1},_u=function(t,e){var n=this.__data__,r=Xt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function wn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wn.prototype.clear=ni,wn.prototype.delete=Hr,wn.prototype.get=fo,wn.prototype.has=Wt,wn.prototype.set=_u;var Lt=wn,ca=function(){this.__data__=new Lt,this.size=0},ri=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ou=function(t){return this.__data__.get(t)},la=function(t){return this.__data__.has(t)},pn=u(22),zt=pn.a.Symbol,fa=Object.prototype,hn=fa.hasOwnProperty,dn=fa.toString,xn=zt?zt.toStringTag:void 0,pa=function(t){var e=hn.call(t,xn),n=t[xn];try{t[xn]=void 0;var r=!0}catch{}var i=dn.call(t);return r&&(e?t[xn]=n:delete t[xn]),i},ha=Object.prototype.toString,oi=function(t){return ha.call(t)},ii=zt?zt.toStringTag:void 0,yr=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ii&&ii in Object(t)?pa(t):oi(t)},Bt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},b,m=function(t){if(!Bt(t))return!1;var e=yr(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},w=pn.a["__core-js_shared__"],T=(b=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",D=function(t){return!!T&&T in t},W=Function.prototype.toString,te=function(t){if(t!=null){try{return W.call(t)}catch{}try{return t+""}catch{}}return""},de=/^\[object .+?Constructor\]$/,Oe=Function.prototype,De=Object.prototype,xe=Oe.toString,Ue=De.hasOwnProperty,Ve=RegExp("^"+xe.call(Ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xe=function(t){return!(!Bt(t)||D(t))&&(m(t)?Ve:de).test(te(t))},Qe=function(t,e){return t==null?void 0:t[e]},Ge=function(t,e){var n=Qe(t,e);return Xe(n)?n:void 0},it=Ge(pn.a,"Map"),mt=Ge(Object,"create"),ai=function(){this.__data__=mt?mt(null):{},this.size=0},Tg=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Dg=Object.prototype.hasOwnProperty,Mg=function(t){var e=this.__data__;if(mt){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Dg.call(e,t)?e[t]:void 0},Ng=Object.prototype.hasOwnProperty,Cg=function(t){var e=this.__data__;return mt?e[t]!==void 0:Ng.call(e,t)},Rg=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mt&&e===void 0?"__lodash_hash_undefined__":e,this};function po(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}po.prototype.clear=ai,po.prototype.delete=Tg,po.prototype.get=Mg,po.prototype.has=Cg,po.prototype.set=Rg;var Gc=po,Ig=function(){this.size=0,this.__data__={hash:new Gc,map:new(it||Lt),string:new Gc}},Lg=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},da=function(t,e){var n=t.__data__;return Lg(e)?n[typeof e=="string"?"string":"hash"]:n.map},zg=function(t){var e=da(this,t).delete(t);return this.size-=e?1:0,e},Bg=function(t){return da(this,t).get(t)},Fg=function(t){return da(this,t).has(t)},Hg=function(t,e){var n=da(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ho(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ho.prototype.clear=Ig,ho.prototype.delete=zg,ho.prototype.get=Bg,ho.prototype.has=Fg,ho.prototype.set=Hg;var ya=ho,Ug=function(t,e){var n=this.__data__;if(n instanceof Lt){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ya(r)}return n.set(t,e),this.size=n.size,this};function yo(t){var e=this.__data__=new Lt(t);this.size=e.size}yo.prototype.clear=ca,yo.prototype.delete=ri,yo.prototype.get=Ou,yo.prototype.has=la,yo.prototype.set=Ug;var ui=yo,Vg=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Xg=function(t){return this.__data__.has(t)};function va(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ya;++e<n;)this.add(t[e])}va.prototype.add=va.prototype.push=Vg,va.prototype.has=Xg;var Wg=va,Gg=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Yg=function(t,e){return t.has(e)},Yc=function(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var h=o.get(t),_=o.get(e);if(h&&_)return h==e&&_==t;var j=-1,A=!0,M=2&n?new Wg:void 0;for(o.set(t,e),o.set(e,t);++j<s;){var U=t[j],J=e[j];if(r)var Z=a?r(J,U,j,e,t,o):r(U,J,j,t,e,o);if(Z!==void 0){if(Z)continue;A=!1;break}if(M){if(!Gg(e,function(ee,Q){if(!Yg(M,Q)&&(U===ee||i(U,ee,n,r,o)))return M.push(Q)})){A=!1;break}}else if(U!==J&&!i(U,J,n,r,o)){A=!1;break}}return o.delete(t),o.delete(e),A},ga=pn.a.Uint8Array,$g=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Kg=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},$c=zt?zt.prototype:void 0,wu=$c?$c.valueOf:void 0,qg=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new ga(t),new ga(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lo(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=$g;case"[object Set]":var l=1&r;if(s||(s=Kg),t.size!=e.size&&!l)return!1;var h=a.get(t);if(h)return h==e;r|=2,a.set(t,e);var _=Yc(s(t),s(e),r,i,o,a);return a.delete(t),_;case"[object Symbol]":if(wu)return wu.call(t)==wu.call(e)}return!1},xu=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},nn=Array.isArray,Kc=function(t,e,n){var r=e(t);return nn(t)?r:xu(r,n(t))},Zg=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},qc=function(){return[]},Jg=Object.prototype.propertyIsEnumerable,Zc=Object.getOwnPropertySymbols,Eu=Zc?function(t){return t==null?[]:(t=Object(t),Zg(Zc(t),function(e){return Jg.call(t,e)}))}:qc,Qg=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},vr=function(t){return t!=null&&typeof t=="object"},Jc=function(t){return vr(t)&&yr(t)=="[object Arguments]"},Qc=Object.prototype,eb=Qc.hasOwnProperty,tb=Qc.propertyIsEnumerable,Su=Jc(function(){return arguments}())?Jc:function(t){return vr(t)&&eb.call(t,"callee")&&!tb.call(t,"callee")},ba=u(48),nb=/^(?:0|[1-9]\d*)$/,ma=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&nb.test(t))&&t>-1&&t%1==0&&t<e},ju=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var rb=function(t){return vr(t)&&ju(t.length)&&!!et[yr(t)]},Pu=function(t){return function(e){return t(e)}},vo=u(42),el=vo.a&&vo.a.isTypedArray,tl=el?Pu(el):rb,ob=Object.prototype.hasOwnProperty,nl=function(t,e){var n=nn(t),r=!n&&Su(t),i=!n&&!r&&Object(ba.a)(t),o=!n&&!r&&!i&&tl(t),a=n||r||i||o,s=a?Qg(t.length,String):[],l=s.length;for(var h in t)!e&&!ob.call(t,h)||a&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||ma(h,l))||s.push(h);return s},ib=Object.prototype,_a=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||ib)},rl=function(t,e){return function(n){return t(e(n))}},ab=rl(Object.keys,Object),ub=Object.prototype.hasOwnProperty,sb=function(t){if(!_a(t))return ab(t);var e=[];for(var n in Object(t))ub.call(t,n)&&n!="constructor"&&e.push(n);return e},go=function(t){return t!=null&&ju(t.length)&&!m(t)},bo=function(t){return go(t)?nl(t):sb(t)},ku=function(t){return Kc(t,bo,Eu)},cb=Object.prototype.hasOwnProperty,lb=function(t,e,n,r,i,o){var a=1&n,s=ku(t),l=s.length;if(l!=ku(e).length&&!a)return!1;for(var h=l;h--;){var _=s[h];if(!(a?_ in e:cb.call(e,_)))return!1}var j=o.get(t),A=o.get(e);if(j&&A)return j==e&&A==t;var M=!0;o.set(t,e),o.set(e,t);for(var U=a;++h<l;){var J=t[_=s[h]],Z=e[_];if(r)var ee=a?r(Z,J,_,e,t,o):r(J,Z,_,t,e,o);if(!(ee===void 0?J===Z||i(J,Z,n,r,o):ee)){M=!1;break}U||(U=_=="constructor")}if(M&&!U){var Q=t.constructor,oe=e.constructor;Q==oe||!("constructor"in t)||!("constructor"in e)||typeof Q=="function"&&Q instanceof Q&&typeof oe=="function"&&oe instanceof oe||(M=!1)}return o.delete(t),o.delete(e),M},Au=Ge(pn.a,"DataView"),Tu=Ge(pn.a,"Promise"),Du=Ge(pn.a,"Set"),Mu=Ge(pn.a,"WeakMap"),fb=te(Au),pb=te(it),hb=te(Tu),db=te(Du),yb=te(Mu),Ur=yr;(Au&&Ur(new Au(new ArrayBuffer(1)))!="[object DataView]"||it&&Ur(new it)!="[object Map]"||Tu&&Ur(Tu.resolve())!="[object Promise]"||Du&&Ur(new Du)!="[object Set]"||Mu&&Ur(new Mu)!="[object WeakMap]")&&(Ur=function(t){var e=yr(t),n=e=="[object Object]"?t.constructor:void 0,r=n?te(n):"";if(r)switch(r){case fb:return"[object DataView]";case pb:return"[object Map]";case hb:return"[object Promise]";case db:return"[object Set]";case yb:return"[object WeakMap]"}return e});var si=Ur,ol=Object.prototype.hasOwnProperty,vb=function(t,e,n,r,i,o){var a=nn(t),s=nn(e),l=a?"[object Array]":si(t),h=s?"[object Array]":si(e),_=(l=l=="[object Arguments]"?"[object Object]":l)=="[object Object]",j=(h=h=="[object Arguments]"?"[object Object]":h)=="[object Object]",A=l==h;if(A&&Object(ba.a)(t)){if(!Object(ba.a)(e))return!1;a=!0,_=!1}if(A&&!_)return o||(o=new ui),a||tl(t)?Yc(t,e,n,r,i,o):qg(t,e,l,n,r,i,o);if(!(1&n)){var M=_&&ol.call(t,"__wrapped__"),U=j&&ol.call(e,"__wrapped__");if(M||U){var J=M?t.value():t,Z=U?e.value():e;return o||(o=new ui),i(J,Z,n,r,o)}}return!!A&&(o||(o=new ui),lb(t,e,n,r,i,o))},Nu=function t(e,n,r,i,o){return e===n||(e==null||n==null||!vr(e)&&!vr(n)?e!=e&&n!=n:vb(e,n,r,i,t,o))},gb=function(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],h=t[l],_=s[1];if(a&&s[2]){if(h===void 0&&!(l in t))return!1}else{var j=new ui;if(r)var A=r(h,_,l,t,e,j);if(!(A===void 0?Nu(_,h,3,r,j):A))return!1}}return!0},il=function(t){return t==t&&!Bt(t)},bb=function(t){for(var e=bo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,il(i)]}return e},al=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},mb=function(t){var e=bb(t);return e.length==1&&e[0][2]?al(e[0][0],e[0][1]):function(n){return n===t||gb(n,t,e)}},Oa=function(t){return typeof t=="symbol"||vr(t)&&yr(t)=="[object Symbol]"},_b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ob=/^\w*$/,Cu=function(t,e){if(nn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Oa(t))||Ob.test(t)||!_b.test(t)||e!=null&&t in Object(e)};function Ru(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ru.Cache||ya),n}Ru.Cache=ya;var wb=Ru,xb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eb=/\\(\\)?/g,Sb=function(t){var e=wb(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(xb,function(n,r,i,o){e.push(i?o.replace(Eb,"$1"):r||n)}),e}),ul=zt?zt.prototype:void 0,sl=ul?ul.toString:void 0,jb=function t(e){if(typeof e=="string")return e;if(nn(e))return sa(e,t)+"";if(Oa(e))return sl?sl.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Pb=function(t){return t==null?"":jb(t)},wa=function(t,e){return nn(t)?t:Cu(t,e)?[t]:Sb(Pb(t))},ci=function(t){if(typeof t=="string"||Oa(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Iu=function(t,e){for(var n=0,r=(e=wa(e,t)).length;t!=null&&n<r;)t=t[ci(e[n++])];return n&&n==r?t:void 0},cl=function(t,e,n){var r=t==null?void 0:Iu(t,e);return r===void 0?n:r},kb=function(t,e){return t!=null&&e in Object(t)},Ab=function(t,e,n){for(var r=-1,i=(e=wa(e,t)).length,o=!1;++r<i;){var a=ci(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&ju(i)&&ma(a,i)&&(nn(t)||Su(t))},ll=function(t,e){return t!=null&&Ab(t,e,kb)},Tb=function(t,e){return Cu(t)&&il(e)?al(ci(t),e):function(n){var r=cl(n,t);return r===void 0&&r===e?ll(n,t):Nu(e,r,3)}},Lu=function(t){return t},Db=function(t){return function(e){return e==null?void 0:e[t]}},Mb=function(t){return function(e){return Iu(e,t)}},Nb=function(t){return Cu(t)?Db(ci(t)):Mb(t)},Cb=function(t){return typeof t=="function"?t:t==null?Lu:typeof t=="object"?nn(t)?Tb(t[0],t[1]):mb(t):Nb(t)},Rb=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}(),Ib=function(t,e){return function(n,r){if(n==null)return n;if(!go(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}(function(t,e){return t&&Rb(t,e,bo)}),Lb=function(t,e){var n=-1,r=go(t)?Array(t.length):[];return Ib(t,function(i,o,a){r[++n]=e(i,o,a)}),r},xa=function(t,e){return(nn(t)?sa:Lb)(t,Cb(e))},Ea=function(){try{var t=Ge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fl=function(t,e,n){e=="__proto__"&&Ea?Ea(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},zb=Object.prototype.hasOwnProperty,Sa=function(t,e,n){var r=t[e];zb.call(t,e)&&lo(r,n)&&(n!==void 0||e in t)||fl(t,e,n)},li=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),i?fl(n,s,l):Sa(n,s,l)}return n},Bb=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},pl=Math.max,hl=function(t,e,n){return e=pl(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=pl(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Bb(t,this,s)}},Fb=function(t){return function(){return t}},Hb=Ea?function(t,e){return Ea(t,"toString",{configurable:!0,enumerable:!1,value:Fb(e),writable:!0})}:Lu,Ub=Date.now,dl=function(t){var e=0,n=0;return function(){var r=Ub(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Hb),Vb=function(t,e){return dl(hl(t,e,Lu),t+"")},Xb=function(t,e,n){if(!Bt(n))return!1;var r=typeof e;return!!(r=="number"?go(n)&&ma(e,n.length):r=="string"&&e in n)&&lo(n[e],t)},Wb=function(t){return Vb(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Xb(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})},Gb=Object.prototype.hasOwnProperty,st=Wb(function(t,e){if(_a(e)||go(e))li(e,bo(e),t);else for(var n in e)Gb.call(e,n)&&Sa(t,n,e[n])}),Yb=function(t,e,n,r){if(!Bt(t))return t;for(var i=-1,o=(e=wa(e,t)).length,a=o-1,s=t;s!=null&&++i<o;){var l=ci(e[i]),h=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var _=s[l];(h=r?r(_,l,s):void 0)===void 0&&(h=Bt(_)?_:ma(e[i+1])?[]:{})}Sa(s,l,h),s=s[l]}return t},$b=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Iu(t,a);n(s,a)&&Yb(o,wa(a,t),s)}return o},Kb=function(t,e){return $b(t,e,function(n,r){return ll(t,r)})},yl=zt?zt.isConcatSpreadable:void 0,qb=function(t){return nn(t)||Su(t)||!!(yl&&t&&t[yl])},Zb=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=qb),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):xu(o,l):i||(o[o.length]=l)}return o},Jb=function(t){return t!=null&&t.length?Zb(t,1):[]},Et,vl,gl,bl,ml,_l,Ol,wl,xl,El,Sl,jl,Pl,kl,Al,Nn=function(t){return dl(hl(t,void 0,Jb),t+"")}(function(t,e){return t==null?{}:Kb(t,e)});function Gt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ft(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var $e,Dl,He,_t,Fe,ct,em={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},zu=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"],Ml=(vl=Ft((Et=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Gt(this,"stopZoomGraph",vl,this),Gt(this,"stopScrollGraph",gl,this),Gt(this,"stopMoveGraph",bl,this),Gt(this,"adjustEdge",ml,this),Gt(this,"adjustNodePosition",_l,this),Gt(this,"hideAnchors",Ol,this),Gt(this,"hoverOutline",wl,this),Gt(this,"nodeSelectedOutline",xl,this),Gt(this,"edgeSelectedOutline",El,this),Gt(this,"nodeTextEdit",Sl,this),Gt(this,"edgeTextEdit",jl,this),Gt(this,"nodeTextDraggable",Pl,this),Gt(this,"edgeTextDraggable",kl,this),Gt(this,"metaKeyMultipleSelected",Al,this),Tl(this,"extraConf",{}),Tl(this,"defaultConfig",{}),st(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);st(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,a={};if(i===!1&&st(a,this.defaultConfig),i===!0){var s=Nn(em,zu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},st(a,s)}o===!1&&st(a,{nodeTextEdit:!1,edgeTextEdit:!1});var l=Nn(r,zu);return st(a,l)}},{key:"getConfig",value:function(){return Nn(this,zu)}}])&&Qb(e.prototype,n),t}()).prototype,"stopZoomGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gl=Ft(Et.prototype,"stopScrollGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=Ft(Et.prototype,"stopMoveGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ml=Ft(Et.prototype,"adjustEdge",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_l=Ft(Et.prototype,"adjustNodePosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=Ft(Et.prototype,"hideAnchors",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wl=Ft(Et.prototype,"hoverOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xl=Ft(Et.prototype,"nodeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),El=Ft(Et.prototype,"edgeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sl=Ft(Et.prototype,"nodeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jl=Ft(Et.prototype,"edgeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pl=Ft(Et.prototype,"nodeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kl=Ft(Et.prototype,"edgeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Al=Ft(Et.prototype,"metaKeyMultipleSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ft(Et.prototype,"updateEditConfig",[O.i],Object.getOwnPropertyDescriptor(Et.prototype,"updateEditConfig"),Et.prototype),Et);(function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})($e||($e={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(Dl||(Dl={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(He||(He={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(_t||(_t={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(Fe||(Fe={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ct||(ct={}));var Cn,dt,Nl,Cl,Rl,Il,Ll,zl,Bl;function ja(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Fl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Cn||(Cn={}));var nm=(Nl=En((dt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Bu(this,"MINI_SCALE_SIZE",.2),Bu(this,"MAX_SCALE_SIZE",16),Vr(this,"SCALE_X",Nl,this),Vr(this,"SKEW_Y",Cl,this),Vr(this,"SKEW_X",Rl,this),Vr(this,"SCALE_Y",Il,this),Vr(this,"TRANSLATE_X",Ll,this),Vr(this,"TRANSLATE_Y",zl,this),Vr(this,"ZOOM_SIZE",Bl,this),Bu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=ja(r,2),o=i[0],a=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=ja(r,2),o=i[0],a=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var a=ja(r,2),s=a[0],l=a[1];return[s+i/this.SCALE_X,l+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=r?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(o<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||o>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=o,this.SCALE_Y+=o,i&&(this.TRANSLATE_X-=o*i[0],this.TRANSLATE_Y-=o*i[1]),this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Fe.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,a){var s=ja(this.CanvasPointToHtmlPoint([r,i]),2),l=o/2-s[0],h=a/2-s[1];this.TRANSLATE_X+=l,this.TRANSLATE_Y+=h,this.emitGraphTransform("focusOn")}}])&&tm(e.prototype,n),t}()).prototype,"SCALE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cl=En(dt.prototype,"SKEW_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Rl=En(dt.prototype,"SKEW_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Il=En(dt.prototype,"SCALE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ll=En(dt.prototype,"TRANSLATE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zl=En(dt.prototype,"TRANSLATE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bl=En(dt.prototype,"ZOOM_SIZE",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),En(dt.prototype,"zoom",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"zoom"),dt.prototype),En(dt.prototype,"resetZoom",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"resetZoom"),dt.prototype),En(dt.prototype,"translate",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"translate"),dt.prototype),En(dt.prototype,"focusOn",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"focusOn"),dt.prototype),dt),rm=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},om=function(t,e){return t&&li(e,bo(e),t)},im=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},am=Object.prototype.hasOwnProperty,um=function(t){if(!Bt(t))return im(t);var e=_a(t),n=[];for(var r in t)(r!="constructor"||!e&&am.call(t,r))&&n.push(r);return n},Fu=function(t){return go(t)?nl(t,!0):um(t)},sm=function(t,e){return t&&li(e,Fu(e),t)},cm=u(139),lm=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},fm=function(t,e){return li(t,Eu(t),e)},Hl=rl(Object.getPrototypeOf,Object),Ul=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)xu(e,Eu(t)),t=Hl(t);return e}:qc,pm=function(t,e){return li(t,Ul(t),e)},hm=function(t){return Kc(t,Fu,Ul)},dm=Object.prototype.hasOwnProperty,ym=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&dm.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Hu=function(t){var e=new t.constructor(t.byteLength);return new ga(e).set(new ga(t)),e},vm=function(t,e){var n=e?Hu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},gm=/\w*$/,bm=function(t){var e=new t.constructor(t.source,gm.exec(t));return e.lastIndex=t.lastIndex,e},Vl=zt?zt.prototype:void 0,Xl=Vl?Vl.valueOf:void 0,mm=function(t){return Xl?Object(Xl.call(t)):{}},_m=function(t,e){var n=e?Hu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Om=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Hu(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return vm(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _m(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return bm(t);case"[object Set]":return new r;case"[object Symbol]":return mm(t)}},Wl=Object.create,wm=function(){function t(){}return function(e){if(!Bt(e))return{};if(Wl)return Wl(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),xm=function(t){return typeof t.constructor!="function"||_a(t)?{}:wm(Hl(t))},Em=function(t){return vr(t)&&si(t)=="[object Map]"},Gl=vo.a&&vo.a.isMap,Sm=Gl?Pu(Gl):Em,jm=function(t){return vr(t)&&si(t)=="[object Set]"},Yl=vo.a&&vo.a.isSet,Pm=Yl?Pu(Yl):jm,qe={};qe["[object Arguments]"]=qe["[object Array]"]=qe["[object ArrayBuffer]"]=qe["[object DataView]"]=qe["[object Boolean]"]=qe["[object Date]"]=qe["[object Float32Array]"]=qe["[object Float64Array]"]=qe["[object Int8Array]"]=qe["[object Int16Array]"]=qe["[object Int32Array]"]=qe["[object Map]"]=qe["[object Number]"]=qe["[object Object]"]=qe["[object RegExp]"]=qe["[object Set]"]=qe["[object String]"]=qe["[object Symbol]"]=qe["[object Uint8Array]"]=qe["[object Uint8ClampedArray]"]=qe["[object Uint16Array]"]=qe["[object Uint32Array]"]=!0,qe["[object Error]"]=qe["[object Function]"]=qe["[object WeakMap]"]=!1;var km=function t(e,n,r,i,o,a){var s,l=1&n,h=2&n,_=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),s!==void 0)return s;if(!Bt(e))return e;var j=nn(e);if(j){if(s=ym(e),!l)return lm(e,s)}else{var A=si(e),M=A=="[object Function]"||A=="[object GeneratorFunction]";if(Object(ba.a)(e))return Object(cm.a)(e,l);if(A=="[object Object]"||A=="[object Arguments]"||M&&!o){if(s=h||M?{}:xm(e),!l)return h?pm(e,sm(s,e)):fm(e,om(s,e))}else{if(!qe[A])return o?e:{};s=Om(e,A,l)}}a||(a=new ui);var U=a.get(e);if(U)return U;a.set(e,s),Pm(e)?e.forEach(function(Z){s.add(t(Z,n,r,Z,e,a))}):Sm(e)&&e.forEach(function(Z,ee){s.set(ee,t(Z,n,r,ee,e,a))});var J=j?void 0:(_?h?hm:ku:h?Fu:bo)(e);return rm(J||e,function(Z,ee){J&&(Z=e[ee=Z]),Sa(s,ee,t(Z,n,r,ee,e,a))}),s},Uu=function(t){return km(t,5)};function $l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$l(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Am(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mo={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},Tm=St(St({},mo),{},{width:100,height:80,radius:0}),Dm=St(St({},mo),{},{r:50}),Mm=St(St({},mo),{},{rx:55,ry:45}),Nm=St(St({},mo),{},{rx:50,ry:50}),Cm=St({},mo),Rm=St(St({},mo),{},{stroke:"#000000",strokeWidth:1,r:4}),Vu={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},Im=St({},Vu),Lm=St(St({},Vu),{},{offset:30}),zm=St(St({},Vu),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Kl={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},Yt={rect:Tm,circle:Dm,diamond:Nm,ellipse:Mm,polygon:Cm,anchor:Rm,text:Kl,nodeText:St(St({},Kl),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:Im,polyline:Lm,bezier:zm,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1}};function ql(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ql(Object(n),!0).forEach(function(r){Bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jl=function(t){var e=Uu(Yt);return t&&Object.keys(t).forEach(function(n){e[n]=Zl(Zl({},e[n]),t[n])}),e};function Pa(t,e){return e*Math.round(t/e)||t}function Ql(t,e){return t%e}function Xu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ef(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ef(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ef(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wu,Gu=function(t,e,n){var r=Xu(t,2),i=r[0],o=r[1],a=Xu(e,2),s=a[0],l=a[1],h=Xu(n,2),_=h[0],j=h[1];return i>s&&i<_&&o>l&&o<j},Fm=(u(31),u(41),u(52),u(63),u(136),u(137),u(64),u(9),u(10),u(11),u(38),new Uint8Array(16));function Hm(){if(!Wu&&!(Wu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wu(Fm)}for(var Um=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Vm=function(t){return typeof t=="string"&&Um.test(t)},kt=[],Yu=0;Yu<256;++Yu)kt.push((Yu+256).toString(16).substr(1));var Xm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kt[t[e+0]]+kt[t[e+1]]+kt[t[e+2]]+kt[t[e+3]]+"-"+kt[t[e+4]]+kt[t[e+5]]+"-"+kt[t[e+6]]+kt[t[e+7]]+"-"+kt[t[e+8]]+kt[t[e+9]]+"-"+kt[t[e+10]]+kt[t[e+11]]+kt[t[e+12]]+kt[t[e+13]]+kt[t[e+14]]+kt[t[e+15]]).toLowerCase();if(!Vm(n))throw TypeError("Stringified UUID is invalid");return n},$u=function(t,e,n){var r=(t=t||{}).random||(t.rng||Hm)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Xm(r)},_o=function(){return $u()},Wm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+$u(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+$u(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},fi=(u(102),u(176),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function tf(t){return(tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var ye,nf,rf,of,af,uf,sf,cf,lf,ff,pf,hf,df,yf,vf,gf,bf,mf,_f,Of,wf,xf,Ef,Sf,Ku=function(t){return t.anchors},jf=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(Ym(t,e[r])){var i=Gm(t,e[r]);if(i){n={node:e[r],anchorIndex:i.index,anchor:i.anchor};break}}return n},Gm=function(t,e){for(var n,r=Ku(e),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var a=Rn(t.x,t.y,r[o].x,r[o].y);a<i&&(i=a,n={index:o,anchor:{x:r[o].x,y:r[o].y,id:r[o].id}})}return n},Rn=function(t,e,n,r){return Math.hypot(t-n,e-r)},gr=function(t,e){var n=!1,r=rn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Ym=function(t,e){var n=!1,r=rn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},rn=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},Pf=function(t,e,n){var r,i=function(a){var s=a,l=s.x,h=s.y,_=s.width,j=s.height,A=s.radius;return[{x:l-_/2+A,y:h-j/2+A,r:A},{x:l+_/2-A,y:h-j/2+A,r:A},{x:l-_/2+A,y:h+j/2-A,r:A},{x:l+_/2-A,y:h+j/2-A,r:A}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(a){var s=Rn(t.x,t.y,a.x,a.y);s<o&&(o=s,r=a)}),qu(t,e,r)},qu=function(t,e,n){var r,i=n,o=i.x,a=i.y,s=i.r;if(e===ct.HORIZONTAL){var l=o-Math.sqrt(s*s-(t.y-a)*(t.y-a)),h=o+Math.sqrt(s*s-(t.y-a)*(t.y-a));r={x:Math.abs(l-t.x)<Math.abs(h-t.x)?l:h,y:t.y}}else if(e===ct.VERTICAL){var _=a-Math.sqrt(s*s-(t.x-o)*(t.x-o)),j=a+Math.sqrt(s*s-(t.x-o)*(t.x-o)),A=Math.abs(_-t.y)<Math.abs(j-t.y)?_:j;r={x:t.x,y:A}}return r},kf=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,s=n.y+n.height/2-n.radius,l=n.x,h=n.y,_=n.width,j=n.height;return t.y===h+j/2||t.y===h-j/2?r=t.x>i&&t.x<o:t.x!==l+_/2&&t.x!==l-_/2||(r=t.y>a&&t.y<s),r},Af=function(t,e,n){var r,i=n,o=i.x,a=i.y,s=i.rx,l=i.ry;if(e===ct.HORIZONTAL){var h=o-Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l)),_=o+Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l));r={x:Math.abs(h-t.x)<Math.abs(_-t.x)?h:_,y:t.y}}else if(e===ct.VERTICAL){var j=a-Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(s*s)),A=a+Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(s*s)),M=Math.abs(j-t.y)<Math.abs(A-t.y)?j:A;r={x:t.x,y:M}}return r},Tf=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,a=[],s=0;s<i.length;s++)a.push({start:i[s],end:i[(s+1)%i.length]});return a.forEach(function(l){var h=l.start,_=l.end,j=h,A=_;h.x>_.x&&(j=_,A=h);var M,U=(A.y-j.y)/(A.x-j.x),J=(j.x*A.y-A.x*j.y)/(j.x-A.x);if(U>Number.MAX_SAFE_INTEGER||J>Number.MAX_SAFE_INTEGER?M={x:t.x,y:t.y}:e===ct.HORIZONTAL?M={x:(t.y-J)/U,y:t.y}:e===ct.VERTICAL&&(M={x:t.x,y:U*t.x+J}),fi(M,h,_)){var Z=Rn(M.x,M.y,t.x,t.y);Z<o&&(o=Z,r=M)}}),r},Df=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},Mf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(s){var l=document.createElement("div");l.textContent=s,o.appendChild(l)}):o.textContent=e,document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},ka=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var a=cs(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},Nf=function(t){return tf(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},Sn=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},$m=1e3,Km=999,Zu=function(){return++$m};function Cf(t){return(Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}function Rf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lt=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rf(Object(n),!0).forEach(function(r){In(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},Yt.line),Ju=(nf=Me((ye=function(){function t(r,i,o){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),In(this,"id",_o()),In(this,"BaseType",_t.EDGE),rt(this,"state",nf,this),In(this,"modelType",He.EDGE),In(this,"additionStateData",void 0),In(this,"graphModel",void 0),In(this,"menu",void 0),In(this,"sourceAnchorId",lt.sourceAnchorId),In(this,"targetAnchorId",lt.targetAnchorId),In(this,"customTextPosition",!1),rt(this,"text",rf,this),rt(this,"type",of,this),rt(this,"properties",af,this),rt(this,"sourceNodeId",uf,this),rt(this,"targetNodeId",sf,this),rt(this,"startPoint",cf,this),rt(this,"endPoint",lf,this),rt(this,"strokeWidth",ff,this),rt(this,"stroke",pf,this),rt(this,"strokeDashArray",hf,this),rt(this,"outlineColor",df,this),rt(this,"outlineStrokeDashArray",yf,this),rt(this,"strokeOpacity",vf,this),rt(this,"zIndex",gf,this),rt(this,"isSelected",bf,this),rt(this,"isHovered",mf,this),rt(this,"isHitable",_f,this),rt(this,"hoverStroke",Of,this),rt(this,"selectedStroke",wf,this),rt(this,"points",xf,this),rt(this,"pointsList",Ef,this),rt(this,"draggable",Sf,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var e,n;return e=t,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o);var a=this.createId();a&&(r.id=a)}st(this,l0(r)),this.graphModel.overlapMode===Cn.INCREASE&&(this.zIndex=r.zIndex||Zu())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(r,i){var o,a;return Ku(r).forEach(function(s){var l=np(s,i);a?l<a&&(a=l,o=s):(a=l,o=s)}),o}},{key:"getEndAnchor",value:function(r){var i,o,a=this;return Ku(r).forEach(function(s){var l=np(s,a.startPoint);o?l<o&&(o=l,i=s):(o=l,i=s)}),i}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(O.G)(this.properties)};return a&&(s.text={x:i,y:o,value:a}),this.graphModel.overlapMode===Cn.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"setProperty",value:function(r,i){this.properties[r]=Sn(i)}},{key:"setProperties",value:function(r){this.properties=Object.assign(this.properties,r)}},{key:"updateData",value:function(r){var i=Sn(Nn(r,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),o=this.text,a=o.x,s=o.y,l=o.draggable,h=o.editable;if(i.text&&typeof i.text=="string"){var _={value:i.text,draggable:l,editable:h},j=this.textPosition;i.text=a||s?Object.assign({},_,{x:a,y:s}):Object.assign({},_,j)}else if(Cf(i.text)==="object"){var A=Object.assign({},this.text,i.text);i.text=Nn(A,"x","y","value","draggable","editable")}st(this,i)}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,a=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||a,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,a=o.x,s=o.y,l=o.value,h=o.draggable,_=o.editable;this.text={value:l,draggable:h,x:a+r,y:s+i,editable:_}}}},{key:"setText",value:function(r){r&&(this.text=st(this.text,r))}},{key:"updateText",value:function(r){var i=this.text,o=i.x,a=i.y,s=i.draggable,l=i.editable;this.text={x:o,y:a,draggable:s,editable:l,value:r}}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateStrokeWidth",value:function(r){this.strokeWidth=r}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&st(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lt.zIndex;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){st(this,r)}}])&&qm(e.prototype,n),t}()).prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rf=Me(ye.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.text}}),of=Me(ye.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),af=Me(ye.prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),uf=Me(ye.prototype,"sourceNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.sourceNodeId}}),sf=Me(ye.prototype,"targetNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.targetNodeId}}),cf=Me(ye.prototype,"startPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.startPoint}}),lf=Me(ye.prototype,"endPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.endPoint}}),ff=Me(ye.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.strokeWidth}}),pf=Me(ye.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.stroke}}),hf=Me(ye.prototype,"strokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.strokeDashArray}}),df=Me(ye.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.outlineColor}}),yf=Me(ye.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.outlineStrokeDashArray}}),vf=Me(ye.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.strokeOpacity}}),gf=Me(ye.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.zIndex}}),bf=Me(ye.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.isSelected}}),mf=Me(ye.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.isHovered}}),_f=Me(ye.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Of=Me(ye.prototype,"hoverStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.hoverStroke}}),wf=Me(ye.prototype,"selectedStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.selectedStroke}}),xf=Me(ye.prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.points}}),Ef=Me(ye.prototype,"pointsList",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.pointsList}}),Sf=Me(ye.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Me(ye.prototype,"sourceNode",[O.k],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),Me(ye.prototype,"targetNode",[O.k],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),Me(ye.prototype,"textPosition",[O.k],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),Me(ye.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),Me(ye.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),Me(ye.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateData"),ye.prototype),Me(ye.prototype,"formatText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),Me(ye.prototype,"resetTextPosition",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),Me(ye.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),Me(ye.prototype,"setText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),Me(ye.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),Me(ye.prototype,"setAnchors",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),Me(ye.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),Me(ye.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),Me(ye.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),Me(ye.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),Me(ye.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateStroke"),ye.prototype),Me(ye.prototype,"updateStrokeWidth",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateStrokeWidth"),ye.prototype),Me(ye.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),Me(ye.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),Me(ye.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setStyleFromTheme"),ye.prototype),Me(ye.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),Me(ye.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),Me(ye.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),ye),Qu=Ju;function If(t){return(If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lf(t,e){return(Lf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Jm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=es(t);if(e){var i=es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zf(t)}function zf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function es(t){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ze,Bf,ts=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Lf(o,a)})(i,t);var e,n,r=Jm(i);function i(o,a){var s,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"line"),l=zf(s),h="modelType",_=He.LINE_EDGE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,s}return e=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Zm(e.prototype,n),i}(Qu);u(36),u(83);function Ff(t){return(Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function e0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Hf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uf(t,e,n){return(Uf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=pi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function Vf(t,e){return(Vf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function n0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pi(t);if(e){var i=pi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return r0(this,n)}}function r0(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oo(t)}function Oo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pi(t){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ns(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var rs=(Bf=Jn((Ze=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Vf(o,a)})(i,t);var e,n,r=n0(i);function i(o,a){var s;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),ns(Oo(s=r.call(this,o,a,"polyline")),"modelType",He.POLYLINE_EDGE),ns(Oo(s),"offset",Yt.polyline.offset),ns(Oo(s),"draginngPointList",void 0),function(l,h,_,j){_&&Object.defineProperty(l,h,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(Oo(s),"dbClickPosition",Bf,Oo(s)),s}return e=i,(n=[{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var s=this.dbClickPosition;return{x:s.x,y:s.y}}var l=wo(this.points),h=e0(s0(l),2),_=h[0],j=h[1];return{x:(_.x+j.x)/2,y:(_.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,a,s){var l,h;return s.forEach(function(_){var j;o===ct.HORIZONTAL?j=Math.abs(a.y-_.y):o===ct.VERTICAL&&(j=Math.abs(a.x-_.x)),(!h||h>j)&&(h=j,l=_)}),l}},{key:"getCorssPoint",value:function(o,a,s){var l;return o===ct.HORIZONTAL?l={x:s.x,y:a.y}:o===ct.VERTICAL&&(l={x:a.x,y:s.y}),l}},{key:"removeCrossPoints",value:function(o,a,s){var l=s.map(function(ee){return ee});if(o===1){var h=l[o],_=l[a],j=l[o-1];if(Zf(j,h,this.sourceNode)){if(Jf(h,_,this.sourceNode)){var A=Qf(h,_,this.sourceNode);A&&(l[o]=A,l.splice(o-1,1),o--,a--)}}else this.sourceNode.anchors.forEach(function(ee){(ee.x===j.x&&ee.x===h.x||ee.y===j.y&&ee.y===h.y)&&Rn(ee.x,ee.y,h.x,h.y)<Rn(j.x,j.y,h.x,h.y)&&(l[o-1]=ee)})}if(a===s.length-2){var M=l[o],U=l[a],J=l[a+1];if(Zf(U,J,this.targetNode)){if(Jf(M,U,this.targetNode)){var Z=Qf(M,U,this.targetNode);Z&&(l[a]=Z,l.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(ee){(ee.x===J.x&&ee.x===U.x||ee.y===J.y&&ee.y===U.y)&&Rn(ee.x,ee.y,U.x,U.y)<Rn(J.x,J.y,U.x,U.y)&&(l[a+1]=ee)})}return l}},{key:"getDragingPoints",value:function(o,a,s,l,h){var _=h.map(function(M){return M}),j=this.getAfterAnchor(o,s,l),A=this.getCorssPoint(o,s,j);return a==="start"?(_.unshift(A),_.unshift(j)):(_.push(A),_.push(j)),_}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(oe){return oe}),s=o[0],l=o[1],h=o[a.length-2],_=o[a.length-1],j=this.sourceNode,A=this.targetNode,M=j.modelType,U=A.modelType,J=Ca(s,l),Z=a[0];switch(M){case He.RECT_NODE:j.radius!==0&&(kf(s,j)||(Z=Pf(s,J,j)));break;case He.CIRCLE_NODE:Z=qu(s,J,j);break;case He.ELLIPSE_NODE:Z=Af(s,J,j);break;case He.DIAMOND_NODE:case He.POLYGON_NODE:Z=Tf(s,J,j)}a[0]=Z;var ee=Ca(h,_),Q=a[a.length-1];switch(U){case He.RECT_NODE:A.radius!==0&&(kf(_,A)||(Q=Pf(_,ee,A)));break;case He.CIRCLE_NODE:Q=qu(_,ee,A);break;case He.ELLIPSE_NODE:Q=Af(_,ee,A);break;case He.DIAMOND_NODE:case He.POLYGON_NODE:Q=Tf(_,ee,A)}return a[a.length-1]=Q,a}},{key:"getData",value:function(){var o=Uf(pi(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=u0({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppend",value:function(o,a){var s=o.start,l=o.end,h=o.startIndex,_=o.endIndex,j=o.direction,A=this.pointsList;if(j===ct.HORIZONTAL){A[h]={x:s.x,y:s.y+a.y},A[_]={x:l.x,y:l.y+a.y};var M=this.pointsList.map(function(ke){return ke});if(h!==0&&_!==this.pointsList.length-1&&(M=this.removeCrossPoints(h,_,M)),h===0){var U={x:s.x,y:s.y+a.y};if(!gr(U,this.sourceNode)){var J=this.sourceNode.anchors;M=this.getDragingPoints(j,"start",U,J,M)}}if(_===this.pointsList.length-1){var Z={x:l.x,y:l.y+a.y};if(!gr(Z,this.targetNode)){var ee=this.targetNode.anchors;M=this.getDragingPoints(j,"end",Z,ee,M)}}M=ss(M),this.updatePointsAfterDrage(M),this.draginngPointList=M}else if(j===ct.VERTICAL){A[h]={x:s.x+a.x,y:s.y},A[_]={x:l.x+a.x,y:l.y};var Q=this.pointsList.map(function(ke){return ke});if(h!==0&&_!==this.pointsList.length-1&&(Q=this.removeCrossPoints(h,_,Q)),h===0){var oe={x:s.x+a.x,y:s.y};if(!gr(oe,this.sourceNode)){var fe=this.sourceNode.anchors;Q=this.getDragingPoints(j,"start",oe,fe,Q)}}if(_===this.pointsList.length-1){var le={x:l.x+a.x,y:l.y};if(!gr(le,this.targetNode)){var je=this.targetNode.anchors;Q=this.getDragingPoints(j,"end",le,je,Q)}}Q=ss(Q),this.updatePointsAfterDrage(Q),this.draginngPointList=Q}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},A[h]),end:Object.assign({},A[_]),startIndex:h,endIndex:_,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=wo(this.points);this.pointsList=o.map(function(l){return l}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var s=o[o.length-1];this.endPoint=Object.assign({},s)}}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}}])&&t0(e.prototype,n),i}(Qu)).prototype,"dbClickPosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn(Ze.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"initPoints"),Ze.prototype),Jn(Ze.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updatePoints"),Ze.prototype),Jn(Ze.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updateStartPoint"),Ze.prototype),Jn(Ze.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updateEndPoint"),Ze.prototype),Jn(Ze.prototype,"dragAppendStart",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"dragAppendStart"),Ze.prototype),Jn(Ze.prototype,"dragAppend",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"dragAppend"),Ze.prototype),Jn(Ze.prototype,"dragAppendEnd",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"dragAppendEnd"),Ze.prototype),Jn(Ze.prototype,"updatePointsAfterDrage",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updatePointsAfterDrage"),Ze.prototype),Ze),hi=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-e.y)/(n.x-e.x)),l=Math.atan(r/i),h=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(a.leftX=e.x+h*Math.sin(s+l),a.leftY=e.y-h*Math.cos(s+l),a.rightX=e.x-h*Math.sin(s-l),a.rightY=e.y+h*Math.cos(s-l)):(a.leftX=e.x-h*Math.sin(s+l),a.leftY=e.y+h*Math.cos(s+l),a.rightX=e.x+h*Math.sin(s-l),a.rightY=e.y-h*Math.cos(s-l)):o==="end"&&(n.x>=e.x?(a.leftX=n.x+h*Math.sin(s-l),a.leftY=n.y-h*Math.cos(s-l),a.rightX=n.x-h*Math.sin(s+l),a.rightY=n.y+h*Math.cos(s+l)):(a.leftX=n.x-h*Math.sin(s-l),a.leftY=n.y+h*Math.cos(s-l),a.rightX=n.x+h*Math.sin(s+l),a.rightY=n.y-h*Math.cos(s+l))),a};function Xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xf(Object(n),!0).forEach(function(r){o0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i0(t){return function(e){if(Array.isArray(e))return is(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Gf(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wf(t){return(Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function os(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||Gf(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gf(t,e){if(t){if(typeof t=="string")return is(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?is(t,e):void 0}}function is(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var as=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Ta=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Da=function(t,e){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?ct.HORIZONTAL:ct.VERTICAL}(e,t)===ct.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Yf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},di=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(_){n.push(_.x),r.push(_.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),a=Math.min.apply(Math,r),s=Math.max.apply(Math,r),l=o-i,h=s-a;return e&&(l+=e,h+=e),{centerX:(i+o)/2,centerY:(a+s)/2,maxX:o,maxY:s,minX:i,minY:a,x:(i+o)/2,y:(a+s)/2,height:h,width:l}},Ma=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},Na=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},us=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},$f=function(t,e,n,r,i){return us(t,e)+us(t,n)+function(o,a){var s=0;return a.forEach(function(l){l&&(o.x===l.x&&(s+=-2),o.y===l.y&&(s+=-2))}),s}(t,[e,n,r,i])},yi=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,s=r.y-n.y,l=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*s),h=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*o+i*s);return l>=0&&l<=1&&h>=0&&h<=1},Kf=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=os(Ma(n),4),i=r[0],o=r[1],a=r[2],s=r[3];return yi(t,e,i,o)||yi(t,e,i,s)||yi(t,e,o,a)||yi(t,e,a,s)},a0=function(t,e,n,r,i,o,a){var s=[],l=[e],h={},_={},j={};_[e.id]=0,j[e.id]=$f(e,n,e);var A={};t.forEach(function(J){A[J.id]=J});for(var M=function(){var J,Z,ee,Q=void 0,oe=1/0;if(l.forEach(function(le){j[le.id]<oe&&(oe=j[le.id],Q=le)}),Q===n){var fe=[];return function le(je,ke,Ne,Ye,Je){Je||(Je=0),je.unshift(ke[Ye]),Ne[Ye]&&Ne[Ye]!==Ye&&Je<=100&&le(je,ke,Ne,Ne[Ye],Je+1)}(fe,A,h,n.id),{v:fe}}Z=Q,(ee=(J=l).indexOf(Z))>-1&&J.splice(ee,1),s.push(Q),function(le,je,ke,Ne){var Ye=[];return le.forEach(function(Je){Je!==je&&(Je.x!==je.x&&Je.y!==je.y||Kf(Je,je,ke)||Kf(Je,je,Ne)||Ye.push(Je))}),as(Ye)}(t,Q,r,i).forEach(function(le){if(s.indexOf(le)===-1){l.indexOf(le)===-1&&l.push(le);var je=j[Q.id]+us(Q,le);_[le.id]&&je>=_[le.id]||(h[le.id]=Q.id,_[le.id]=je,j[le.id]=_[le.id]+$f(le,n,e,o,a))}})};l.length;){var U=M();if(Wf(U)==="object")return U.v}return[e,n]},qf=function(t){return rn(t)},ss=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],i=e[n],o=e[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?e.splice(n,1):n++}return e},u0=function(t,e,n,r,i){var o,a,s=qf(n),l=qf(r),h=Ta(s,i),_=Ta(l,i),j=Da(h,t),A=Da(_,e);if(o=h,a=_,2*Math.abs(o.centerX-a.centerX)<o.width+a.width&&2*Math.abs(o.centerY-a.centerY)<o.height+a.height){var M=c0(t,e,j,A);return[t,j].concat(i0(M),[A,e])}var U=di([j,A]),J=Yf(h,U),Z=Yf(_,U),ee=[];ee=(ee=ee.concat(Ma(J))).concat(Ma(Z));var Q={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[U,J,Z].forEach(function(fe){ee=ee.concat(function(le,je){return function(ke,Ne){return Ne<ke.minX||Ne>ke.maxX?[]:[{x:Ne,y:ke.minY},{x:Ne,y:ke.maxY}]}(le,je.x).concat(function(ke,Ne){return Ne<ke.minY||Ne>ke.maxY?[]:[{x:ke.minX,y:Ne},{x:ke.maxX,y:Ne}]}(le,je.y))}(fe,Q).filter(function(le){return Na(le,h)&&Na(le,_)}))}),[{x:j.x,y:A.y},{x:A.x,y:j.y}].forEach(function(fe){Na(fe,h)&&Na(fe,_)&&ee.push(fe)}),ee.unshift(j),ee.push(A),ee=as(ee);var oe=a0(ee,j,A,s,l,t,e);return oe.unshift(t),oe.push(e),oe.length>2&&(oe=ss(oe)),as(oe)},s0=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Rn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var a=t[o],s=t[o+1],l=Rn(a.x,a.y,s.x,s.y);l>i&&(i=l,n=a,r=s)}e=[n,r]}return e},Zf=function(t,e,n){var r=gr(t,n),i=gr(e,n);return r&&i},Jf=function(t,e,n){var r=gr(t,n),i=gr(e,n);return!(r&&i)&&(r||i)},Qf=function(t,e,n){for(var r,i,o=rn(n),a=Ma(o),s=0;s<a.length;s++)yi(t,e,a[s],a[(s+1)%a.length])&&(i=[a[s],a[(s+1)%a.length]]);return i&&(r=function(l,h,_,j){var A=(h.y-l.y)*(j.x-_.x)-(l.x-h.x)*(_.y-j.y);if(A===0)return!1;var M=((h.x-l.x)*(j.x-_.x)*(_.y-l.y)+(h.y-l.y)*(j.x-_.x)*l.x-(j.y-_.y)*(h.x-l.x)*_.x)/A,U=-((h.y-l.y)*(j.y-_.y)*(_.x-l.x)+(h.x-l.x)*(j.y-_.y)*l.y-(j.x-_.x)*(h.y-l.y)*_.y)/A;return(M-l.x)*(M-h.x)<=0&&(U-l.y)*(U-h.y)<=0&&(M-_.x)*(M-j.x)<=0&&(U-_.y)*(U-j.y)<=0&&{x:M,y:U}}(t,e,i[0],i[1])),r},Ca=function(t,e){var n;return t.x===e.x?n=ct.VERTICAL:t.y===e.y&&(n=ct.HORIZONTAL),n},wo=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=os(r.split(","),2),o=i[0],a=i[1];n.push({x:Number(o),y:Number(a)})}),n},c0=function(t,e,n,r){var i=[];if(Ca(t,n)===Ca(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},a=fi(o,t,n),s=fi(o,e,r);if(a||s)o={x:r.x,y:n.y};else{var l=ep(o,t,n),h=ep(o,e,r);l&&h&&(o={x:r.x,y:n.y})}i.push(o)}return i},ep=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},cs=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Ra=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ia(e[0]),Ia(e[1]),Ia(e[2]),Ia(e[3])]},Ia=function(t){var e=os(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},tp=function(t,e){for(var n,r=t.x,i=t.y,o=wo(e),a=Number.MAX_SAFE_INTEGER,s=[],l=0;l<o.length;l++)s.push({start:o[l],end:o[(l+1)%o.length]});if(s.forEach(function(A){var M=A.start,U=A.end;if(M.x===U.x){var J={x:M.x,y:i};if(fi(J,M,U)){var Z=Math.abs(M.x-r);Z<a&&(a=Z,n=J)}}else if(M.y===U.y){var ee={x:r,y:M.y};if(fi(ee,M,U)){var Q=Math.abs(M.y-i);Q<a&&(a=Q,n=ee)}}}),!n){var h=s[0],_=h.start,j=h.end;n={x:_.x+(j.x-_.x)/2,y:_.y+(j.y-_.y)/2}}return n},l0=function(t){return Nn(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},np=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},xo=function(){};function f0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var br=window.document;function La(t){var e=t.onDragStart,n=e===void 0?xo:e,r=t.onDraging,i=r===void 0?xo:r,o=t.onDragEnd,a=o===void 0?xo:o,s=t.step,l=s===void 0?1:s,h=t.isStopPropagation,_=h===void 0||h,j=!1,A=!1,M=0,U=0,J=0,Z=0;function ee(oe){if(_&&oe.stopPropagation(),A&&(j=!0,J+=oe.clientX-M,Z+=oe.clientY-U,M=oe.clientX,U=oe.clientY,Math.abs(J)>l||Math.abs(Z)>l)){var fe=J%l,le=Z%l,je=J-fe,ke=Z-le;J=fe,Z=le,i({deltaX:je,deltaY:ke,event:oe})}}function Q(oe){if(_&&oe.stopPropagation(),A=!1,br.removeEventListener("mousemove",ee,!1),br.removeEventListener("mouseup",Q,!1),j)return j=!1,a({event:oe})}return function(oe){if(oe.button===0)return _&&oe.stopPropagation(),A=!0,M=oe.clientX,U=oe.clientY,br.addEventListener("mousemove",ee,!1),br.addEventListener("mouseup",Q,!1),n({event:oe})}}var re,rp,op,ip,ap,up,sp,cp,lp,fp,pp,hp,dp,yp,vp,gp,bp,mp,vi=function(){function t(r){var i=this,o=r.onDragStart,a=o===void 0?xo:o,s=r.onDraging,l=s===void 0?xo:s,h=r.onDragEnd,_=h===void 0?xo:h,j=r.eventType,A=j===void 0?"":j,M=r.eventCenter,U=M===void 0?null:M,J=r.step,Z=J===void 0?1:J,ee=r.isStopPropagation,Q=ee===void 0||ee,oe=r.model,fe=oe===void 0?null:oe;(function(le,je){if(!(le instanceof je))throw new TypeError("Cannot call a class as a function")})(this,t),Ot(this,"onDragStart",void 0),Ot(this,"onDraging",void 0),Ot(this,"onDragEnd",void 0),Ot(this,"step",void 0),Ot(this,"isStopPropagation",void 0),Ot(this,"isDraging",!1),Ot(this,"isStartDraging",!1),Ot(this,"startX",0),Ot(this,"startY",0),Ot(this,"sumDeltaX",0),Ot(this,"sumDeltaY",0),Ot(this,"eventType",void 0),Ot(this,"eventCenter",void 0),Ot(this,"model",void 0),Ot(this,"startTime",void 0),Ot(this,"isGrag",void 0),Ot(this,"handleMouseDown",function(le){var je,ke,Ne;if(le.button===0){i.isStopPropagation&&le.stopPropagation(),i.isStartDraging=!0,i.startX=le.clientX,i.startY=le.clientY,br.addEventListener("mousemove",i.handleMouseMove,!1),br.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:le});var Ye=(je=i.model)===null||je===void 0?void 0:je.getData();(ke=i.eventCenter)===null||ke===void 0||ke.emit(Fe["".concat(i.eventType,"_MOUSEDOWN")],{e:le,data:Ye}),(Ne=i.eventCenter)===null||Ne===void 0||Ne.emit(Fe["".concat(i.eventType,"_DRAGSTART")],{e:le,data:Ye}),i.startTime=new Date().getTime()}}),Ot(this,"handleMouseMove",function(le){if(i.isStopPropagation&&le.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=le.clientX-i.startX,i.sumDeltaY+=le.clientY-i.startY,i.startX=le.clientX,i.startY=le.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var je,ke,Ne,Ye=i.sumDeltaX%i.step,Je=i.sumDeltaY%i.step,Vn=i.sumDeltaX-Ye,qr=i.sumDeltaY-Je;i.sumDeltaX=Ye,i.sumDeltaY=Je,i.onDraging({deltaX:Vn,deltaY:qr,event:le});var Er=(je=i.model)===null||je===void 0?void 0:je.getData();(ke=i.eventCenter)===null||ke===void 0||ke.emit(Fe["".concat(i.eventType,"_MOUSEMOVE")],{e:le,data:Er}),(Ne=i.eventCenter)===null||Ne===void 0||Ne.emit(Fe["".concat(i.eventType,"_DRAG")],{e:le,data:Er})}}),Ot(this,"handleMouseUp",function(le){var je,ke,Ne;if(i.isStartDraging=!1,i.isStopPropagation&&le.stopPropagation(),br.removeEventListener("mousemove",i.handleMouseMove,!1),br.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:le});var Ye=(je=i.model)===null||je===void 0?void 0:je.getData();(ke=i.eventCenter)===null||ke===void 0||ke.emit(Fe["".concat(i.eventType,"_MOUSEUP")],{e:le,data:Ye}),(Ne=i.eventCenter)===null||Ne===void 0||Ne.emit(Fe["".concat(i.eventType,"_DROP")],{e:le,data:Ye})}}),this.onDragStart=a,this.onDraging=l,this.onDragEnd=_,this.step=Z,this.isStopPropagation=Q,this.eventType=A,this.eventCenter=U,this.model=fe}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&f0(e.prototype,n),t}();function _p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_p(Object(n),!0).forEach(function(r){on(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Op(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return wp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return wp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function At(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Se(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var xp=(rp=Se((re=function(){function t(r){(function(U,J){if(!(U instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),on(this,"BaseType",_t.GRAPH),on(this,"modelType",He.GRAPH),on(this,"rootEl",void 0),on(this,"theme",void 0),on(this,"eventCenter",void 0),on(this,"modelMap",new Map),on(this,"width",void 0),on(this,"height",void 0),on(this,"topElement",void 0),on(this,"selectElement",void 0),on(this,"idGenerator",void 0),on(this,"nodeMoveRules",[]),At(this,"edgeType",rp,this),At(this,"nodes",op,this),At(this,"activeElement",ip,this),At(this,"activeElementState",ap,this),At(this,"state",up,this),At(this,"additionStateData",sp,this),At(this,"edges",cp,this),At(this,"isSlient",lp,this),At(this,"overlapMode",fp,this),At(this,"plugins",pp,this),At(this,"tools",hp,this),At(this,"background",dp,this),At(this,"transformMatrix",yp,this),At(this,"editConfig",vp,this),At(this,"gridSize",gp,this),At(this,"partial",bp,this),At(this,"fakerNode",mp,this);var i=r.container,o=r.background,a=o===void 0?{}:o,s=r.grid,l=(s=s===void 0?{}:s).size,h=l===void 0?1:l,_=r.isSilentMode,j=_!==void 0&&_,A=r.eventCenter,M=r.idGenerator;this.background=a,this.isSlient=j,this.gridSize=h,this.rootEl=i,this.editConfig=new Ml(r),this.eventCenter=A,this.transformMatrix=new nm(A),this.theme=Jl(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=M}var e,n;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,A){return j.zIndex-A.zIndex});for(var i=[],o=-1,a=[-200,-200],s=[this.width+200,this.height+200],l=0;l<r.length;l++){var h=r[l];this.partial&&!this.isElementInArea(h,a,s,!1)||(h.zIndex===9999&&(o=i.length),i.push(h))}if(o!==-1){var _=i[i.length-1];i[i.length-1]=i[o],i[o]=_}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===$e.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===$e.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],a=[];this.nodes.forEach(function(h){return a.push(h)}),this.edges.forEach(function(h){return a.push(h)});for(var s=0;s<a.length;s++){var l=a[s];this.isElementInArea(l,r,i)&&o.push(l)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModel",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,a=this.rootEl.getBoundingClientRect(),s={x:i-a.left,y:o-a.top},l=Op(this.transformMatrix.HtmlPointToCanvasPoint([s.x,s.y]),2);return{domOverlayPosition:s,canvasOverlayPosition:{x:l[0],y:l[1]}}}},{key:"isElementInArea",value:function(r,i,o){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===_t.NODE){for(var s=rn(r=r),l=s.minX,h=s.minY,_=s.maxX,j=s.maxY,A=[{x:l,y:h},{x:_,y:h},{x:_,y:j},{x:l,y:j}],M=!0,U=0;U<A.length;U++){var J=A[U],Z=J.x,ee=J.y,Q=this.transformMatrix.CanvasPointToHtmlPoint([Z,ee]),oe=Op(Q,2);if(Z=oe[0],ee=oe[1],!Gu([Z,ee],i,o)){M=!1;break}}return M}if(r.BaseType===_t.EDGE){var fe=r=r,le=fe.startPoint,je=fe.endPoint,ke=this.transformMatrix.CanvasPointToHtmlPoint([le.x,le.y]),Ne=this.transformMatrix.CanvasPointToHtmlPoint([je.x,je.y]),Ye=Gu(ke,i,o),Je=Gu(Ne,i,o);return a?Ye&&Je:Ye||Je}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=xa(r.nodes,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,l=o.y;return s&&l&&(o.x=Pa(s,i.gridSize),o.y=Pa(l,i.gridSize),Object.prototype.toString.call(o.text)==="[object Object]"&&(o.text.x-=Ql(s,i.gridSize),o.text.y-=Ql(l,i.gridSize))),new a(o,i)}),this.edges=xa(r.edges,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,i)})}},{key:"modelToGraphData",value:function(){var r=this.edges.map(function(i){return i.getData()});return{nodes:this.nodes.map(function(i){return i.getData()}),edges:r}}},{key:"getEdgeModel",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){var i=this.getNodeModel(r);return i||this.getEdgeModel(r)}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var a=this.edges[o],s=this.edges[o].sourceNodeId===r,l=this.edges[o].targetNodeId===r;(s||l)&&i.push(a)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(a){if(a.BaseType===_t.NODE&&o.nodes.push(a.getData()),a.BaseType===_t.EDGE){var s=a.getData(),l=i.get(s.sourceNodeId)&&i.get(s.targetNodeId);(r||l)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=_o()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"changeEdgeId",value:function(r,i){return i||(i=_o()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"updateEdgeByIndex",value:function(r,i){this.edges[r]=Eo(Eo({},this.edges[r]),i)}},{key:"toFront",value:function(r){var i,o,a,s=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);s&&((a=this.topElement)===null||a===void 0||a.setZIndex(),this.topElement=s,s.setZIndex(9999))}},{key:"setElementZIndex",value:function(r,i){var o,a,s,l=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[r])===null||a===void 0?void 0:a.model);l&&(typeof i=="number"&&(s=i),i==="top"&&(s=Zu()),i==="bottom"&&(s=--Km),l.setZIndex(s))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.removeEdgeBySource(r),this.removeEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Fe.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=Sn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new o(i,this);this.nodes.push(a);var s=a.getData();return this.eventCenter.emit(Fe.NODE_ADD,{data:s}),a}},{key:"cloneNode",value:function(r){var i=this.getNodeModel(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),i.setSelected(!1),a.getData()}},{key:"moveNode",value:function(r,i,o){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=this.nodesMap[r];if(s){var l=s.model;l.move(i,o,a),this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var a=this.nodesMap[r];if(a){var s=a.model,l=i-s.x,h=o-s.y;this.moveNode(r,l,h)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTextEditable",value:function(r){this.setElementStateById(r,$e.TEXT_EDIT)}},{key:"createEdge",value:function(r){var i=Sn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FDE\u7EBF\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FDE\u7EBF\u3002"));var s=new a(Eo(Eo({},i),{},{type:o}),this),l=s.getData();return this.edges.push(s),this.eventCenter.emit(Fe.EDGE_ADD,{data:l}),s}},{key:"moveEdge",value:function(r,i,o){for(var a=0;a<this.edges.length;a++){var s,l=this.edges[a],h=l.textPosition,_=h.x,j=h.y,A=this.edges[a].sourceNodeId===r,M=this.edges[a].targetNodeId===r;if(A&&l.updateStartPoint({x:l.startPoint.x+i,y:l.startPoint.y+o}),M&&l.updateEndPoint({x:l.endPoint.x+i,y:l.endPoint.y+o}),A||M)if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===He.POLYLINE_EDGE&&(s=l.text)!==null&&s!==void 0&&s.value){var U=l.text,J=tp(U,l.points);l.moveText(J.x-U.x,J.y-U.y)}else{var Z=l.textPosition,ee=Z.x,Q=Z.y;l.moveText(ee-_,Q-j)}}}},{key:"removeEdge",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Fe.EDGE_DELETE,{data:a})}}},{key:"removeEdgeById",value:function(r){var i=this.edgesMap[r].index;if(this.edgesMap[r]){var o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Fe.EDGE_DELETE,{data:o})}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"removeEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Fe.EDGE_DELETE,{data:o})}}},{key:"removeEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Fe.EDGE_DELETE,{data:o})}}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setElementStateById",value:function(r,i,o){this.resetElementState(),this.nodes.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)}),this.edges.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)})}},{key:"setElementTextById",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(r){var i,o,a,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o,a,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectElementById",value:function(r){var i,o,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||((o=this.selectElement)===null||o===void 0||o.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(r),(i=this.selectElement)===null||i===void 0||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode!==Cn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveElements",value:function(r,i,o){var a=this;r.nodes.forEach(function(s){return a.moveNode(s.id,i,o)})}},{key:"moveNodes",value:function(r,i,o){var a=this,s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(l){return a.moveNode(l,i,o,s)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"changeEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModel(r);if(o){var a=o.getData();a.type=i;var s=this.getModel(i);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var l=new s(a,this);this.nodes.splice(this.nodesMap[r].index,1,l),this.getNodeEdges(r).forEach(function(h){if(h.sourceNodeId===r){var _=Df(l,h.startPoint,l.width,l.height);h.updateStartPoint(_)}if(h.targetNodeId===r){var j=Df(l,h.endPoint,l.width,l.height);h.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTheme",value:function(r){this.theme=Jl(Eo(Eo({},this.theme),r))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&p0(e.prototype,n),t}()).prototype,"edgeType",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),op=Se(re.prototype,"nodes",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ip=Se(re.prototype,"activeElement",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ap=Se(re.prototype,"activeElementState",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=Se(re.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sp=Se(re.prototype,"additionStateData",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp=Se(re.prototype,"edges",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lp=Se(re.prototype,"isSlient",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fp=Se(re.prototype,"overlapMode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Se(re.prototype,"plugins",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hp=Se(re.prototype,"tools",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dp=Se(re.prototype,"background",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yp=Se(re.prototype,"transformMatrix",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=Se(re.prototype,"editConfig",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=Se(re.prototype,"gridSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bp=Se(re.prototype,"partial",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mp=Se(re.prototype,"fakerNode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se(re.prototype,"nodesMap",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"nodesMap"),re.prototype),Se(re.prototype,"edgesMap",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"edgesMap"),re.prototype),Se(re.prototype,"sortElements",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"sortElements"),re.prototype),Se(re.prototype,"textEditElement",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"textEditElement"),re.prototype),Se(re.prototype,"selectElements",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"selectElements"),re.prototype),Se(re.prototype,"setFakerNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setFakerNode"),re.prototype),Se(re.prototype,"removeFakerNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeFakerNode"),re.prototype),Se(re.prototype,"setModel",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setModel"),re.prototype),Se(re.prototype,"updateEdgeByIndex",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"updateEdgeByIndex"),re.prototype),Se(re.prototype,"toFront",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"toFront"),re.prototype),Se(re.prototype,"setElementZIndex",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementZIndex"),re.prototype),Se(re.prototype,"deleteNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"deleteNode"),re.prototype),Se(re.prototype,"addNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"addNode"),re.prototype),Se(re.prototype,"cloneNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"cloneNode"),re.prototype),Se(re.prototype,"moveNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveNode"),re.prototype),Se(re.prototype,"moveNode2Coordinate",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveNode2Coordinate"),re.prototype),Se(re.prototype,"setTextEditable",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setTextEditable"),re.prototype),Se(re.prototype,"createEdge",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"createEdge"),re.prototype),Se(re.prototype,"moveEdge",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveEdge"),re.prototype),Se(re.prototype,"removeEdge",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdge"),re.prototype),Se(re.prototype,"removeEdgeById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdgeById"),re.prototype),Se(re.prototype,"removeEdgeBySource",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdgeBySource"),re.prototype),Se(re.prototype,"removeEdgeByTarget",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdgeByTarget"),re.prototype),Se(re.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementState"),re.prototype),Se(re.prototype,"setElementStateById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementStateById"),re.prototype),Se(re.prototype,"setElementTextById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementTextById"),re.prototype),Se(re.prototype,"resetElementState",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"resetElementState"),re.prototype),Se(re.prototype,"selectNodeById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"selectNodeById"),re.prototype),Se(re.prototype,"selectEdgeById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"selectEdgeById"),re.prototype),Se(re.prototype,"selectElementById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"selectElementById"),re.prototype),Se(re.prototype,"clearSelectElements",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"clearSelectElements"),re.prototype),Se(re.prototype,"moveElements",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveElements"),re.prototype),Se(re.prototype,"moveNodes",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveNodes"),re.prototype),Se(re.prototype,"changeEdgeType",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"changeEdgeType"),re.prototype),Se(re.prototype,"changeNodeType",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"changeNodeType"),re.prototype),Se(re.prototype,"setTheme",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setTheme"),re.prototype),Se(re.prototype,"clearData",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"clearData"),re.prototype),re),h0=xp;function Ep(t){return(Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sp(){return(Sp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jp(t,e){return(jp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function v0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ls(t);if(e){var i=ls(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g0(this,n)}}function g0(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ls(t){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Pp(t){return(Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function kp(){return(kp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function b0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ap(t,e){return(Ap=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function m0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fs(t);if(e){var i=fs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _0(this,n)}}function _0(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(t)}function Ln(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tp,Dp,O0=Un((Tp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ap(o,a)})(i,t);var e,n,r=m0(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Qn(Ln(a=r.call(this)),"stepDrag",void 0),Qn(Ln(a),"stepScrollX",0),Qn(Ln(a),"stepScrollY",0),Qn(Ln(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY;a.setState({isDraging:!0});var A=a.props.graphModel,M=A.transformMatrix;A.editConfig.stopMoveGraph||M.translate(_,j)}),Qn(Ln(a),"onDragEnd",function(){a.setState({isDraging:!1})}),Qn(Ln(a),"zoomHandler",function(h){var _=a.props,j=_.graphModel,A=j.editConfig,M=j.transformMatrix,U=j.gridSize,J=_.graphModel,Z=h.deltaX,ee=h.deltaY;if(A.stopScrollGraph||h.ctrlKey===!0){if(!A.stopZoomGraph){h.preventDefault();var Q=J.getPointByClient({x:h.clientX,y:h.clientY}).canvasOverlayPosition,oe=Q.x,fe=Q.y;M.zoom(h.deltaY<0,[oe,fe])}}else{if(h.preventDefault(),a.stepScrollX+=Z,a.stepScrollY+=ee,Math.abs(a.stepScrollX)>=U){var le=a.stepScrollX%U,je=a.stepScrollX-le;M.translate(-je*M.SCALE_X,0),a.stepScrollX=le}if(Math.abs(a.stepScrollY)>=U){var ke=a.stepScrollY%U,Ne=a.stepScrollY-ke;M.translate(0,-Ne*M.SCALE_Y),a.stepScrollY=ke}}}),Qn(Ln(a),"clickHandler",function(h){if(h.target.getAttribute("name")==="canvas-overlay"){var _=a.props,j=_.graphModel,A=_.eventCenter,M=j.textEditElement;j.selectElements.size>0&&j.clearSelectElements(),M&&M.setElementState($e.DEFAULT),A.emit(Fe.BLANK_CLICK,{e:h})}}),Qn(Ln(a),"handleContextMenu",function(h){if(h.target.getAttribute("name")==="canvas-overlay"){h.preventDefault();var _=a.props,j=_.graphModel,A=_.eventCenter,M=j.getPointByClient({x:h.clientX,y:h.clientY});j.setElementState($e.SHOW_MENU,M.domOverlayPosition),A.emit(Fe.BLANK_CONTEXTMENU,{e:h,position:M})}}),Qn(Ln(a),"mouseDownHandler",function(h){var _=a.props,j=_.eventCenter,A=_.graphModel,M=A.editConfig,U=A.transformMatrix.SCALE_X,J=A.gridSize;M.stopMoveGraph?j.emit(Fe.BLANK_MOUSEDOWN,{e:h}):(a.stepDrag.setStep(J*U),a.stepDrag.handleMouseDown(h)),a.clickHandler(h)});var s=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new vi({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:s,eventType:"BLANK",eventCenter:l,model:null}),a.state={isDraging:!1},a}return e=i,(n=[{key:"InjectedProps",get:function(){return this.props}},{key:"render",value:function(){var o=this.InjectedProps.transformStyle.transform,a=this.props,s=a.children,l=a.dnd,h=this.state.isDraging;return L("svg",kp({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:h?"lf-dragging":"lf-drag-able"},l.eventMap()),L("g",{transform:o},s))}}])&&b0(e.prototype,n),i}(I),function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&jp(o,a)})(i,t);var e,n,r=v0(i);function i(){return d0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getMatrixString",value:function(){var o=this.props.graphModel.transformMatrix,a=[o.SCALE_X,o.SKEW_Y,o.SKEW_X,o.SCALE_Y,o.TRANSLATE_X,o.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(a,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return L(Tp,Sp({},this.props,{transformStyle:this.getMatrixString()}))}}])&&y0(e.prototype,n),i}(I)));function Mp(t){return(Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function w0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Np(t,e){return(Np=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function E0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ps(t);if(e){var i=ps(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S0(this,n)}}function S0(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cp(t)}function Cp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ps(t){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function j0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P0=Un(Dp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Np(o,a)})(i,t);var e,n,r=E0(i);function i(){var o;w0(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return j0(Cp(o=r.call.apply(r,[this].concat(s))),"setToolOverlayRef",function(h){var _=o.props.tool.getInstance();_.components.forEach(function(j){return j(_,h)}),_.components=[]}),o}return e=i,(n=[{key:"getTools",value:function(){var o=this.props,a=o.tool,s=o.graphModel,l=a.getTools().map(function(h){return L(h,{graphModel:s,logicFlow:a.instance})});return a.components=l,l}},{key:"render",value:function(){return L("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&x0(e.prototype,n),i}(I))||Dp;u(178);function Rp(t){return(Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function k0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ip(t,e){return(Ip=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function T0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hs(t);if(e){var i=hs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D0(this,n)}}function D0(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hs(t){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Lp,M0=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ip(o,a)})(i,t);var e,n,r=T0(i);function i(){return k0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.background,a=o.image,s=a===void 0?"":a,l=o.color,h=l===void 0?"":l,_=o.repeat,j=_===void 0?"no-repeat":_,A=o.position,M=A===void 0?"center":A,U=o.size,J=U===void 0?"auto auto":U,Z=o.opacity,ee=Z===void 0?1:Z;return h?{color:h,opacity:ee,image:"none"}:s?{image:"url(".concat(s,")"),repeat:j,position:M,size:J,opacity:ee}:{}}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.image,s=o.color,l=o.repeat,h=o.size;return L("div",{className:"lf-background"},L("div",{style:{backgroundImage:a,backgroundColor:s,backgroundRepeat:l,backgroundPosition:o.position,backgroundSize:h,opacity:o.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&A0(e.prototype,n),i}(I);function zp(t){return(zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function N0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bp(t,e){return(Bp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function R0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ds(t);if(e){var i=ds(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fp(t)}function Fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ds(t){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function L0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hp=Un(Lp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Bp(o,a)})(i,t);var e,n,r=R0(i);function i(){var o;N0(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return L0(Fp(o=r.call.apply(r,[this].concat(s))),"id",_o()),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,a=o.config,s=a.color,l=a.thickness,h=l===void 0?2:l,_=o.size,j=o.visible,A=Math.min(Math.max(2,h),_/2),M=1;return j||(M=0),L("rect",{width:A,height:A,rx:A/2,ry:A/2,fill:s,opacity:M})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,s=a.color,l=a.thickness,h=l===void 0?1:l,_=o.size,j=o.visible,A=Math.min(Math.max(1,h),_/2),M=1;return j||(M=0),L("path",{d:"M ".concat(_," 0 H0 M0 0 V0 ").concat(_),stroke:s,strokeWidth:A,opacity:M})}},{key:"render",value:function(){var o=this.props,a=o.type,s=o.size,l=o.graphModel.transformMatrix,h=[l.SCALE_X,l.SKEW_Y,l.SKEW_X,l.SCALE_Y,l.TRANSLATE_X,l.TRANSLATE_Y].join(","),_="matrix(".concat(h,")");return L("div",{className:"lf-grid"},L("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},L("defs",null,L("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:_,x:"0",y:"0",width:s,height:s,style:{transition:"all 0.1s ease"}},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),L("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&C0(e.prototype,n),i}(I))||Lp;Hp.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},u(44);function Up(t){return(Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function z0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xp,So=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=z0(n,2),i=r[0],o=r[1];Up(o)!=="object"&&(e[i]=o)}),L("line",e)};function Wp(t){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function B0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gp(t,e){return(Gp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function H0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ys(t);if(e){var i=ys(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U0(this,n)}}function U0(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Yp,V0=Un(Xp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Gp(o,a)})(i,t);var e,n,r=H0(i);function i(){return B0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,s=o.isShowHorizontal,l=o.isShowVertical,h=o.stroke,_=o.strokeWidth,j=a.x,A=j===void 0?0:j,M=a.y,U=M===void 0?0:M,J={x1:A,y1:-1e5,x2:A,y2:1e5,stroke:l?h:"none",strokeWidth:_};return L("g",{className:"lf-snapline"},L(So,{x1:-1e5,y1:U,x2:1e5,y2:U,stroke:s?h:"none",strokeWidth:_}),L(So,J))}}])&&F0(e.prototype,n),i}(I))||Xp;function $p(t){return($p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function X0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Kp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mr(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,a=t.className,s=e-r/2,l=n-i/2,h={width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a),x:0,y:0};return Object.entries(t).forEach(function(_){var j=X0(_,2),A=j[0],M=j[1];$p(M)!=="object"&&(h[A]=M)}),h.x=s,h.y=l,L("rect",h)}function qp(t){return(qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function W0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zp(t,e){return(Zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Y0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vs(t);if(e){var i=vs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $0(this,n)}}function $0(t,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vs(t){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}mr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Jp,K0=Un(Yp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Zp(o,a)})(i,t);var e,n,r=Y0(i);function i(){return W0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodeOutline",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.editConfig,l=s.hoverOutline,h=s.nodeSelectedOutline,_=[];return a.forEach(function(j){if(j.BaseType===_t.NODE){var A=j.isHovered,M=j.isSelected,U=j.x,J=j.y,Z=j.width,ee=j.height,Q=j.outlineColor,oe=j.hoverOutlineColor,fe=j.outlineStrokeDashArray,le=j.hoverOutlineStrokeDashArray;if(h||l&&A){var je=M?Q:oe,ke=M?fe:le;_.push(L(mr,{className:"lf-outline-node",x:U,y:J,width:Z+10,height:ee+10,radius:0,fill:"none",stroke:je,strokeDasharray:ke}))}}}),_}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,s=o.editConfig.edgeSelectedOutline,l=[],h=0;h<a.length;h++){var _=a[h];_.isSelected&&s&&(_.modelType===He.LINE_EDGE?l.push(this.getLineOutline(_)):_.modelType===He.POLYLINE_EDGE?l.push(this.getPolylineOutline(_)):_.modelType===He.BEZIER_EDGE&&l.push(this.getBezierOutline(_)))}return l}},{key:"getLineOutline",value:function(o){var a=o.startPoint,s=o.endPoint,l=(a.x+s.x)/2,h=(a.y+s.y)/2,_=Math.abs(a.x-s.x)+10,j=Math.abs(a.y-s.y)+10,A=this.props.graphModel.theme.line;return L(mr,{className:"lf-outline-edge",x:l,y:h,width:_,height:j,radius:0,fill:"none",stroke:A.outlineColor,strokeDasharray:A.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(o){var a=o.points,s=wo(a),l=di(s,8),h=l.x,_=l.y,j=l.width,A=l.height,M=this.props.graphModel.theme.polyline;return L(mr,{className:"lf-outline",x:h,y:_,width:j,height:A,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(o){var a=o.path,s=Ra(a),l=di(s,8),h=l.x,_=l.y,j=l.width,A=l.height,M=this.props.graphModel.theme.bezier;return L(mr,{className:"lf-outline",x:h,y:_,width:j,height:A,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"render",value:function(){return L("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&G0(e.prototype,n),i}(I))||Yp;function Qp(t){return(Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function q0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return eh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function za(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,a={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach(function(s){var l=q0(s,2),h=l[0],_=l[1];Qp(_)!=="object"&&(a[h]=_)}),L("circle",a)}function th(t){return(th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ah(t,e,n){return e&&ih(t.prototype,e),n&&ih(t,n),t}function uh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sh(t,e)}function sh(t,e){return(sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ch(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gs(t);if(e){var i=gs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ba(t)}function Ba(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function bs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lh,fh=function(t){uh(n,t);var e=ch(n);function n(r){var i;oh(this,n),bs(Ba(i=e.call(this)),"dragHandler",void 0),bs(Ba(i),"onDraging",function(a){var s=a.deltaX,l=a.deltaY,h=i.props,_=h.graphModel,j=h.bezierModel,A=h.type,M=_.transformMatrix,U=i.state,J=U.endX,Z=U.endY,ee=nh(M.moveCanvasPointByHtml([J,Z],s,l),2),Q=ee[0],oe=ee[1];i.setState({endX:Q,endY:oe}),j.updateAdjustAnchor({x:Q,y:oe},A)}),bs(Ba(i),"onDragEnd",function(){var a=i.state,s=a.endX,l=a.endY,h=i.props,_=h.bezierModel,j=h.type;_.updateAdjustAnchor({x:s,y:l},j)}),i.dragHandler=La({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return ah(n,[{key:"render",value:function(){var r,i,o,a=this.props.position,s=a.x,l=a.y,h=(r=this.props)===null||r===void 0||(i=r.graphModel)===null||i===void 0||(o=i.theme)===null||o===void 0?void 0:o.bezier;return L(za,{className:"lf-bezier-adjust-anchor",x:s,y:l,r:4,stroke:h.adjustAnchorStroke,fill:h.adjustAnchorFill,fillOpacity:h.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),n}(I),J0=Un(Jp=function(t){uh(n,t);var e=ch(n);function n(){return oh(this,n),e.apply(this,arguments)}return ah(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,a=r.id,s=nh(Ra(o),4),l=s[0],h=s[1],_=s[2],j=s[3],A=i.theme.bezier.adjustLineColor,M=[];return M.push(L(So,{x1:l.x,y1:l.y,x2:h.x,y2:h.y,stroke:A})),M.push(L(fh,{position:h,bezierModel:r,graphModel:i,key:"".concat(a,"_ePre"),type:"sNext"})),M.push(L(So,{x1:j.x,y1:j.y,x2:_.x,y2:_.y,stroke:A})),M.push(L(fh,{position:_,bezierModel:r,graphModel:i,key:"".concat(a,"_sNext"),type:"ePre"})),M}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],a=0;a<i.length;a++){var s=i[a];s.isSelected&&s.modelType===He.BEZIER_EDGE&&s.draggable&&o.push(this.getBezierAdjust(s,r))}return o}},{key:"render",value:function(){return L("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(I))||Jp;function ph(t){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function hh(){return(hh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Q0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dh(t,e){return(dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function t_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ms(t);if(e){var i=ms(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ms(t){return(ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var r_=Un(lh=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&dh(o,a)})(i,t);var e,n,r=t_(i);function i(){return Q0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getComponent",value:function(o,a,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"canvas-overlay",h=this.props.getView,_=h(o.type);return L(_,{key:o.id,model:o,graphModel:a,overlay:l,eventCenter:s})}},{key:"render",value:function(){var o=this,a=this.props,s=a.graphModel,l=a.tool,h=a.options,_=a.eventCenter,j=a.dnd,A=a.snaplineModel,M={};h.width&&(M.width="".concat(h.width,"px")),h.height&&(M.height="".concat(h.height,"px"));var U=s.fakerNode,J=s.editConfig.adjustEdge;return L("div",{className:"lf-graph",style:M},L(O0,{graphModel:s,eventCenter:_,dnd:j},L("g",{className:"lf-base"},xa(s.sortElements,function(Z){return o.getComponent(Z,s,_)})),U?this.getComponent(U,s,_):"",h.hideOutline?"":L(K0,{graphModel:s}),J?L(J0,{graphModel:s}):"",h.isSilentMode||h.snapline===!1?"":L(V0,{snaplineModel:A})),L(P0,{graphModel:s,tool:l}),h.background&&L(M0,{background:h.background}),h.grid&&L(Hp,hh({},h.grid,{graphModel:s})))}}])&&e_(e.prototype,n),i}(I))||lh;function yh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yh(Object(n),!0).forEach(function(r){zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i_=function(){function t(r){var i=this;(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),zn(this,"nodeConfig",void 0),zn(this,"lf",void 0),zn(this,"options",void 0),zn(this,"fakerNode",void 0),zn(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),zn(this,"dragEnter",function(s){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(Fa(Fa({},i.nodeConfig),i.clientToLocalPoint({x:s.clientX,y:s.clientY}))))}),zn(this,"onDragOver",function(s){if(s.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:s.clientX,y:s.clientY}),h=l.x,_=l.y;i.fakerNode.moveTo(h,_);var j=i.fakerNode.getData();i.lf.setNodeSnapLine(j),i.lf.eventCenter.emit(Fe.NODE_DND_DRAG,{data:j})}return!1}),zn(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),zn(this,"onDrop",function(s){if(i.lf.graphModel&&s&&i.nodeConfig){var l=i.lf.addNode(Fa(Fa({},i.nodeConfig),i.clientToLocalPoint({x:s.clientX,y:s.clientY})));s.preventDefault(),s.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var h=l.getData();i.lf.eventCenter.emit(Fe.NODE_DND_ADD,{data:h})}});var o=r.options,a=r.lf;this.lf=a,this.options=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,a=cl(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,l=s.x,h=s.y;return{x:Pa(l,a),y:Pa(h,a)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&o_(e.prototype,n),t}();function vh(t){var e=t.container,n=t.grid;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");return n&&(t.grid=st({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),st({},bh,t)}var yt,gh,bh={background:!1,grid:!1,textEdit:!0};function mh(t){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function _h(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Oh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Oh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wh(Object(n),!0).forEach(function(r){_s(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eh(t,e,n){return(Eh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=bi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function Sh(t,e){return(Sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function u_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bi(t);if(e){var i=bi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s_(this,n)}}function s_(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(t)}function gi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bi(t){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function _s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var me,jh,Ph,kh,Ah,Th,Dh,Mh,Nh,Ch,Rh,Ih,Lh,zh,Bh,Fh,Hh,Uh,Vh,Xh,Wh,Gh,Yh,$h,Kh,Os=(gh=Xr((yt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Sh(o,a)})(i,t);var e,n,r=u_(i);function i(o,a){var s;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),_s(gi(s=r.call(this,o,a,"bezier")),"modelType",He.BEZIER_EDGE),_s(gi(s),"offset",Yt.bezier.offset),function(l,h,_,j){_&&Object.defineProperty(l,h,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(gi(s),"path",gh,gi(s)),s}return e=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(s){var l=s.x,h=s.y;o+=l,a+=h}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Eh(bi(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return xh(xh({},o),{},{pointsList:a})}},{key:"getControls",value:function(){return function(o){var a=o.start,s=o.end,l=o.sourceNode,h=o.targetNode,_=o.offset,j=rn(l),A=rn(h),M=Ta(j,_),U=Ta(A,_);return{sNext:Da(M,a),ePre:Da(U,s)}}({start:this.startPoint,end:this.endPoint,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var a=_h(o,4),s=a[0],l=a[1],h=a[2],_=a[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(l.x," ").concat(l.y,`,
    `).concat(h.x," ").concat(h.y,`,
    `).concat(_.x," ").concat(_.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},s=this.getControls(),l=s.sNext,h=s.ePre;this.pointsList=[o,l,h,a],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},s=_h(this.pointsList,3),l=s[1],h=s[2];this.pointsList=[o,l,h,a],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePath()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePath()}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}}])&&a_(e.prototype,n),i}(Qu)).prototype,"path",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xr(yt.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(yt.prototype,"initPoints"),yt.prototype),Xr(yt.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor(yt.prototype,"updatePoints"),yt.prototype),Xr(yt.prototype,"updatePath",[O.i],Object.getOwnPropertyDescriptor(yt.prototype,"updatePath"),yt.prototype),Xr(yt.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(yt.prototype,"updateStartPoint"),yt.prototype),Xr(yt.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(yt.prototype,"updateEndPoint"),yt.prototype),Xr(yt.prototype,"updateAdjustAnchor",[O.i],Object.getOwnPropertyDescriptor(yt.prototype,"updateAdjustAnchor"),yt.prototype),yt);u(39);function qh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qh(Object(n),!0).forEach(function(r){yn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zh(t){return(Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Jh(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(l,h){if(!!l){if(typeof l=="string")return Qh(l,h);var _=Object.prototype.toString.call(l).slice(8,-1);if(_==="Object"&&l.constructor&&(_=l.constructor.name),_==="Map"||_==="Set")return Array.from(l);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Qh(l,h)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function Qh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ze(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var jn,ed,Tt=st({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},Yt.rect,Yt.circle),er=(jh=ze((me=function(){function t(r,i,o){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),yn(this,"id",""),yn(this,"BaseType",_t.NODE),yn(this,"modelType",He.NODE),yn(this,"additionStateData",void 0),yn(this,"targetRules",[]),yn(this,"sourceRules",[]),yn(this,"moveRules",[]),yn(this,"hasSetTargetRules",!1),yn(this,"hasSetSourceRules",!1),nt(this,"properties",jh,this),nt(this,"type",Ph,this),nt(this,"x",kh,this),nt(this,"y",Ah,this),nt(this,"_width",Th,this),yn(this,"graphModel",void 0),nt(this,"_height",Dh,this),nt(this,"fill",Mh,this),nt(this,"fillOpacity",Nh,this),nt(this,"strokeWidth",Ch,this),nt(this,"stroke",Rh,this),nt(this,"strokeOpacity",Ih,this),nt(this,"opacity",Lh,this),nt(this,"outlineColor",zh,this),nt(this,"hoverOutlineColor",Bh,this),nt(this,"outlineStrokeDashArray",Fh,this),nt(this,"hoverOutlineStrokeDashArray",Hh,this),nt(this,"isSelected",Uh,this),nt(this,"isHovered",Vh,this),nt(this,"isHitable",Xh,this),nt(this,"zIndex",Wh,this),nt(this,"anchorsOffset",Gh,this),nt(this,"state",Yh,this),nt(this,"text",$h,this),nt(this,"draggable",Kh,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initNodeData(r),this.setAttributes()}var e,n;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o),r.id=this.createId()}this.formatText(r),st(this,function(a){return Nn(a,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===Cn.INCREASE&&(this.zIndex=r.zIndex||Zu())}},{key:"createId",value:function(){return _o()}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,s=this.properties;Object(O.v)(s)&&(s=Object(O.G)(s));var l={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===Cn.INCREASE&&(l.zIndex=this.zIndex),a&&(l.text={x:i,y:o,value:a}),l}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(r){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,a=!0,s=0;s<i.length;s++){var l=i[s];if(!l.validate.call(this,this,r)){a=!1,o=l.message;break}}return{isAllPass:a,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,a=!0,s=0;s<i.length;s++){var l=i[s];if(!l.validate.call(this,r,this)){a=!1,o=l.message;break}}return{isAllPass:a,msg:o}}},{key:"isAllowMoveNode",value:function(r,i){var o,a=Jh(this.moveRules);try{for(a.s();!(o=a.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(h){a.e(h)}finally{a.f()}var s,l=Jh(this.graphModel.nodeMoveRules);try{for(l.s();!(s=l.n()).done;)if(!(0,s.value)(this,r,i))return!1}catch(h){l.e(h)}finally{l.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.x,o=this.y,a=this.id;return r.map(function(s,l){return s.length?{id:"".concat(a,"_").concat(l),x:i+s[0],y:o+s[1]}:{x:i+s.x,y:o+s.y,id:s.id||"".concat(a,"_").concat(l)}})}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.anchorsOffset;return r&&r.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o||this.isAllowMoveNode(r,i)){var a=this.x+r,s=this.y+i;this.x=a,this.y=s,this.text&&this.moveText(r,i)}}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=r-this.x,s=i-this.y;(o||this.isAllowMoveNode(a,s))&&(this.text&&this.text&&this.moveText(a,s),this.x=r,this.y=i)}},{key:"moveText",value:function(r,i){var o=this.text,a=o.x,s=o.y,l=o.value,h=o.draggable,_=o.editable;this.text={value:l,editable:_,draggable:h,x:a+r,y:s+i}}},{key:"updateText",value:function(r){this.text.value=r}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateData",value:function(r){var i=Sn(Nn(r,"type","x","y","text","properties")),o=this.text,a=o.x,s=o.y,l=o.draggable,h=o.editable;if(i.text&&typeof i.text=="string")i.text={x:a,y:s,value:i.text,draggable:l,editable:h};else if(Zh(i.text)==="object"){var _=jo(jo({},this.text),i.text);i.text=Nn(_,"x","y","value","draggable","editable")}st(this,i)}},{key:"setProperty",value:function(r,i){this.properties=jo(jo({},this.properties),{},yn({},r,Sn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=jo(jo({},this.properties),Sn(r)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&st(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tt.zIndex;this.zIndex=r}},{key:"updateAttributes",value:function(r){st(this,r)}}])&&c_(e.prototype,n),t}()).prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ph=ze(me.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),kh=ze(me.prototype,"x",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.x}}),Ah=ze(me.prototype,"y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.y}}),Th=ze(me.prototype,"_width",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.width}}),Dh=ze(me.prototype,"_height",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.height}}),Mh=ze(me.prototype,"fill",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.fill}}),Nh=ze(me.prototype,"fillOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.fillOpacity}}),Ch=ze(me.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.strokeWidth}}),Rh=ze(me.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.stroke}}),Ih=ze(me.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.strokeOpacity}}),Lh=ze(me.prototype,"opacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.opacity}}),zh=ze(me.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.outlineColor}}),Bh=ze(me.prototype,"hoverOutlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.hoverOutlineColor}}),Fh=ze(me.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.outlineStrokeDashArray}}),Hh=ze(me.prototype,"hoverOutlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.hoverOutlineStrokeDashArray}}),Uh=ze(me.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vh=ze(me.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xh=ze(me.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wh=ze(me.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.zIndex}}),Gh=ze(me.prototype,"anchorsOffset",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yh=ze(me.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$h=ze(me.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.text}}),Kh=ze(me.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ze(me.prototype,"addNodeMoveRules",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"addNodeMoveRules"),me.prototype),ze(me.prototype,"move",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"move"),me.prototype),ze(me.prototype,"moveTo",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"moveTo"),me.prototype),ze(me.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"moveText"),me.prototype),ze(me.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateText"),me.prototype),ze(me.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setSelected"),me.prototype),ze(me.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setHovered"),me.prototype),ze(me.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setHitable"),me.prototype),ze(me.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setElementState"),me.prototype),ze(me.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateStroke"),me.prototype),ze(me.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateData"),me.prototype),ze(me.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setProperty"),me.prototype),ze(me.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setProperties"),me.prototype),ze(me.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setStyleFromTheme"),me.prototype),ze(me.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setZIndex"),me.prototype),ze(me.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateAttributes"),me.prototype),me);function td(t){return(td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nd(t,e){return(nd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function f_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ws(t);if(e){var i=ws(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p_(this,n)}}function p_(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ha(t)}function Ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ws(t){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ua(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var jt,rd,od,xs=(ed=Ua((jn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&nd(o,a)})(i,t);var e,n,r=f_(i);function i(o,a){var s,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"circle"),l=Ha(s),h="modelType",_=He.CIRCLE_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,A,M,U){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(U):void 0})}(Ha(s),"r",ed,Ha(s)),s}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.r;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-l,id:"".concat(this.id,"_0")},{x:a+l,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+l,id:"".concat(this.id,"_2")},{x:a-l,y:s,id:"".concat(this.id,"_3")}]}}])&&l_(e.prototype,n),i}(er)).prototype,"r",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yt.circle.r}}),Ua(jn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(jn.prototype,"width"),jn.prototype),Ua(jn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(jn.prototype,"height"),jn.prototype),Ua(jn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(jn.prototype,"anchors"),jn.prototype),jn);u(103);function id(t){return(id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Es(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ad(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ad(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ad(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ud(Object(n),!0).forEach(function(r){pd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ld(t,e,n){return(ld=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=mi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function fd(t,e){return(fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function d_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mi(t);if(e){var i=mi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y_(this,n)}}function y_(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(t)}function Po(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function pd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var vn,hd,dd,Ss=(rd=Wr((jt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&fd(o,a)})(i,t);var e,n,r=d_(i);function i(o,a){var s;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),pd(Po(s=r.call(this,o,a,"diamond")),"modelType",He.DIAMOND_NODE),cd(Po(s),"rx",rd,Po(s)),cd(Po(s),"ry",od,Po(s)),s}return e=i,(n=[{key:"getData",value:function(){var o=this.rx,a=this.ry;return sd(sd({},ld(mi(i.prototype),"getData",this).call(this)),{},{rx:o,ry:a})}},{key:"points",get:function(){var o=this.x,a=this.y,s=this.rx,l=this.ry;return[[o,a-l],[o+s,a],[o,a+l],[o-s,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=Es(s,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=Es(s,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,s=this.points;return a&&a.length>0?this.getAnchorsByOffset():s.map(function(l,h){var _=Es(l,2);return{x:_[0],y:_[1],id:"".concat(o.id,"_").concat(h)}})}}])&&h_(e.prototype,n),i}(er)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),od=Wr(jt.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wr(jt.prototype,"points",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"points"),jt.prototype),Wr(jt.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"pointsPosition"),jt.prototype),Wr(jt.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"width"),jt.prototype),Wr(jt.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"height"),jt.prototype),Wr(jt.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"anchors"),jt.prototype),jt);function yd(t){return(yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gd(t,e){return(gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function g_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=js(t);if(e){var i=js(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b_(this,n)}}function b_(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(t)}function ko(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function js(t){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function _i(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var $t,bd,Ps=(hd=_i((vn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&gd(o,a)})(i,t);var e,n,r=g_(i);function i(o,a){var s,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"ellipse"),l=ko(s),h="modelType",_=He.ELLIPSE_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,vd(ko(s),"rx",hd,ko(s)),vd(ko(s),"ry",dd,ko(s)),s}return e=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.rx,h=this.ry;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-h,id:"".concat(this.id,"_0")},{x:a+l,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+h,id:"".concat(this.id,"_2")},{x:a-l,y:s,id:"".concat(this.id,"_3")}]}}])&&v_(e.prototype,n),i}(er)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yt.ellipse.rx}}),dd=_i(vn.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yt.ellipse.ry}}),_i(vn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(vn.prototype,"width"),vn.prototype),_i(vn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(vn.prototype,"height"),vn.prototype),_i(vn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(vn.prototype,"anchors"),vn.prototype),vn);function md(t){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ks(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return _d(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _d(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _d(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Od(t,e){return(Od=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function __(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=As(t);if(e){var i=As(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O_(this,n)}}function O_(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Va(t)}function Va(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function As(t){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Oi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var wi,wd,Ts=(bd=Oi(($t=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Od(o,a)})(i,t);var e,n,r=__(i);function i(o,a){var s,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"polygon"),l=Va(s),h="modelType",_=He.POLYGON_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,A,M,U){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(U):void 0})}(Va(s),"points",bd,Va(s)),s}return e=i,(n=[{key:"pointsPosition",get:function(){var o=this.x,a=this.y,s=this.width,l=this.height;return this.points.map(function(h){return{x:h[0]+o-s/2,y:h[1]+a-l/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=ks(s,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=ks(s,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,s=this.x,l=this.y,h=this.width,_=this.height,j=this.points;return a&&a.length>0?this.getAnchorsByOffset():j.map(function(A,M){var U=ks(A,2),J=U[0],Z=U[1];return{x:s+J-h/2,y:l+Z-_/2,id:"".concat(o.id,"_").concat(M)}})}}])&&m_(e.prototype,n),i}(er)).prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Oi($t.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"pointsPosition"),$t.prototype),Oi($t.prototype,"width",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"width"),$t.prototype),Oi($t.prototype,"height",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"height"),$t.prototype),Oi($t.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"anchors"),$t.prototype),$t);function xd(t){return(xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function w_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ed(t,e){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function x_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ds(t);if(e){var i=Ds(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xa(t)}function Xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ds(t){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Sd(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Bn,jd,Pd,kd,Ms=(wd=Sd((wi=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ed(o,a)})(i,t);var e,n,r=x_(i);function i(o,a){var s,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"rect"),l=Xa(s),h="modelType",_=He.RECT_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,A,M,U){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(U):void 0})}(Xa(s),"radius",wd,Xa(s)),s}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.width,h=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-h/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+h/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:s,id:"".concat(this.id,"_3")}]}}])&&w_(e.prototype,n),i}(er)).prototype,"radius",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yt.rect.radius}}),Sd(wi.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(wi.prototype,"anchors"),wi.prototype),wi);function Ad(t){return(Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ns(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function S_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Td(t,e){return(Td=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function j_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Cs(t);if(e){var i=Cs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P_(this,n)}}function P_(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(t)}function _r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function xi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Wa,Rs=(jd=xi((Bn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Td(o,a)})(i,t);var e,n,r=j_(i);function i(o,a){var s,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"text"),l=_r(s),h="modelType",_=He.TEXT_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,Ns(_r(s),"fontSize",jd,_r(s)),Ns(_r(s),"fontFamily",Pd,_r(s)),Ns(_r(s),"fontWeight",kd,_r(s)),s}return e=i,(n=[{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=ka({rows:o,fontSize:this.fontSize,rowsLength:o.length}).width;return a>100?a:100}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=ka({rows:o,fontSize:this.fontSize,rowsLength:o.length}).height;return a>20?a:20}}])&&S_(e.prototype,n),i}(er)).prototype,"fontSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yt.text.fontSize}}),Pd=xi(Bn.prototype,"fontFamily",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yt.text.fontFamily}}),kd=xi(Bn.prototype,"fontWeight",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yt.text.fontWeight}}),xi(Bn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(Bn.prototype,"width"),Bn.prototype),xi(Bn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(Bn.prototype,"height"),Bn.prototype),Bn);function Dd(t){return(Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function k_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Md(t,e){return(Md=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function A_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Is(t);if(e){var i=Is(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T_(this,n)}}function T_(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nd(t)}function Nd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Is(t){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Nt,Cd,Rd,Id,Ls=(function(t,e,n,r,i){var o={};Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null)}((Wa=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Md(o,a)})(i,t);var e,n,r=A_(i);function i(o,a){var s,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"html"),l=Nd(s),h="modelType",_=He.HTML_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,s}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.width,h=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-h/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+h/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:s,id:"".concat(this.id,"_3")}]}}])&&k_(e.prototype,n),i}(er)).prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Wa.prototype,"anchors"),Wa.prototype),Wa);function zs(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function D_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ld=Yt.snapline,zd=(Cd=Gr((Nt=function(){function t(r){var i,o,a;(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),a=void 0,(o="graphModel")in(i=this)?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,zs(this,"isShowHorizontal",Cd,this),zs(this,"isShowVertical",Rd,this),zs(this,"position",Id,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||Ld.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||Ld.strokeWidth}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,a=r.y,s=!1,l=!1,h=0;h<i.length;h++){var _=i[h];if(_.id!==r.id&&(o===_.x&&(s=!0),a===_.y&&(l=!0),s&&l))break}return{isShowVertical:s,isShowHorizontal:l,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,a,s=!1,l=r.id;if(l){var h=this.graphModel.fakerNode;if(h&&h.id===l)a=rn(h);else{var _=this.graphModel.getNodeModel(l);a=rn(_)}}for(var j=0;j<i.length;j++){var A=i[j];if(A.id!==r.id){var M=rn(A);if(M.minY===a.minY||M.maxY===a.minY){s=!0,o=a.minY;break}if(M.minY===a.maxY||M.maxY===a.maxY){s=!0,o=a.maxY;break}}}return st({isShowHorizontal:s,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,a,s=!1,l=r.id;if(l){var h=this.graphModel.fakerNode;if(h&&h.id===l)a=rn(h);else{var _=this.graphModel.getNodeModel(l);a=rn(_)}}for(var j=0;j<i.length;j++){var A=i[j];if(A.id!==r.id){var M=rn(A);if(M.minX===a.minX||M.maxX===a.minX){s=!0,o=a.minX;break}if(M.minX===a.maxX||M.maxX===a.maxX){s=!0,o=a.maxX;break}}}return st({isShowVertical:s,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),a=o.isShowHorizontal,s=o.isShowVertical;if(!a){var l=this.getHorizontalSnapline(r,i);l.isShowHorizontal&&(o.isShowHorizontal=l.isShowHorizontal,o.position.y=l.position.y)}if(!s){var h=this.getVerticalSnapline(r,i);h.isShowVertical&&(o.isShowVertical=h.isShowVertical,o.position.x=h.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,a=r.position;this.position=a,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&D_(e.prototype,n),t}()).prototype,"isShowHorizontal",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rd=Gr(Nt.prototype,"isShowVertical",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Id=Gr(Nt.prototype,"position",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr(Nt.prototype,"stroke",[O.k],Object.getOwnPropertyDescriptor(Nt.prototype,"stroke"),Nt.prototype),Gr(Nt.prototype,"strokeWidth",[O.k],Object.getOwnPropertyDescriptor(Nt.prototype,"strokeWidth"),Nt.prototype),Gr(Nt.prototype,"clearSnapline",[O.i],Object.getOwnPropertyDescriptor(Nt.prototype,"clearSnapline"),Nt.prototype),Gr(Nt.prototype,"setNodeSnapLine",[O.i],Object.getOwnPropertyDescriptor(Nt.prototype,"setNodeSnapLine"),Nt.prototype),Nt);function Bd(t){return(Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ga(){return(Ga=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function M_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Fd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hd(t,e){return(Hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function C_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bs(t);if(e){var i=Bs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R_(this,n)}}function R_(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(t)}function tr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bs(t){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I_=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Hd(o,a)})(i,t);var e,n,r=C_(i);function i(){var o;return function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),Or(tr(o=r.call(this)),"preTargetNode",void 0),Or(tr(o),"dragHandler",void 0),Or(tr(o),"sourceRuleResults",void 0),Or(tr(o),"targetRuleResults",void 0),Or(tr(o),"onDragStart",function(){var a=o.props,s=a.x,l=a.y,h=a.nodeModel,_=a.graphModel,j=_.overlapMode;_.selectNodeById(h.id),j!==Cn.INCREASE&&_.toFront(h.id),o.setState({startX:s,startY:l,endX:s,endY:l})}),Or(tr(o),"onDraging",function(a){var s=a.deltaX,l=a.deltaY,h=o.state,_=h.endX,j=h.endY,A=o.props,M=A.graphModel,U=A.nodeModel,J=M.transformMatrix,Z=M.nodes,ee=M_(J.moveCanvasPointByHtml([_,j],s,l),2),Q=ee[0],oe=ee[1];o.setState({endX:Q,endY:oe,draging:!0});var fe=jf({x:_,y:j},Z);if(fe){var le=fe.node;if(o.preTargetNode=le,!o.targetRuleResults.has(le.id)){var je=U.isAllowConnectedAsSource(le),ke=le.isAllowConnectedAsTarget(U);o.sourceRuleResults.set(le.id,Nf(je)),o.targetRuleResults.set(le.id,Nf(ke))}var Ne=o.sourceRuleResults.get(le.id).isAllPass,Ye=o.targetRuleResults.get(le.id).isAllPass;Ne&&Ye?le.setElementState($e.ALLOW_CONNECT):le.setElementState($e.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT)}),Or(tr(o),"onDragEnd",function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})}),Or(tr(o),"checkEnd",function(){var a=o.props,s=a.graphModel,l=a.nodeModel,h=a.x,_=a.y,j=a.eventCenter,A=a.id,M=s.nodes,U=s.edgeType,J=o.state,Z=J.endX,ee=J.endY,Q=J.draging,oe=jf({x:Z,y:ee},M);if(o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT),Q&&oe&&oe.node){var fe=oe.node,le=o.sourceRuleResults.get(fe.id)||{},je=le.isAllPass,ke=le.msg,Ne=o.targetRuleResults.get(fe.id)||{},Ye=Ne.isAllPass,Je=Ne.msg;if(je&&Ye)fe.setElementState($e.ALLOW_CONNECT),h===oe.anchor.x&&_===oe.anchor.y||s.createEdge({type:U,sourceNodeId:l.id,sourceAnchorId:A,startPoint:{x:h,y:_},targetNodeId:oe.node.id,targetAnchorId:oe.anchor.id,endPoint:{x:oe.anchor.x,y:oe.anchor.y}});else{var Vn=fe.getData();j.emit(Fe.CONNECTION_NOT_ALLOWED,{data:Vn,msg:Je||ke})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=La({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"isShowLine",value:function(){var o=this.state,a=o.startX,s=o.startY,l=o.endX,h=o.endY;return Rn(a,s,l,h)>10}},{key:"render",value:function(){var o=this.state,a=o.startX,s=o.startY,l=o.endX,h=o.endY,_=this.props,j=_.x,A=_.y,M=_.style,U=_.edgeStyle;return L("g",{className:"lf-anchor"},L(za,Ga({className:"lf-node-anchor-hover",x:j,y:A},_.hoverStyle,{onMouseDown:this.dragHandler})),L(za,Ga({className:"lf-node-anchor",x:j,y:A},M,{onMouseDown:this.dragHandler})),this.isShowLine()&&L(So,Ga({x1:a,y1:s,x2:l,y2:h,"pointer-events":"none"},U)))}}])&&N_(e.prototype,n),i}(I);function Ud(t){return(Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function L_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fs(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,a=t.color,s=a===void 0?"#000000":a,l=t.fontSize,h=t.fill,_=h===void 0?"currentColor":h,j=t.model,A=t.fontFamily,M=A===void 0?"":A,U=t.lineHeight,J=t.autoWrap,Z=J!==void 0&&J,ee=t.wrapPadding,Q=ee===void 0?"0, 0":ee,oe={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:_};if(Object.entries(t).forEach(function(Sr){var Zr=L_(Sr,2),gc=Zr[0],tu=Zr[1];Ud(tu)!=="object"&&(oe[gc]=tu)}),o){var fe=String(o).split(/[\r\n]/g),le=fe.length,je=j.BaseType,ke=j.width,Ne=j.textWidth,Ye=j.modelType;if(je===_t.NODE&&Ye!==He.TEXT_NODE&&Z||je===_t.EDGE&&Z&&Ne){var Je=Ne||ke,Vn=Mf({rows:fe,style:{fontSize:"".concat(l,"px"),width:"".concat(Je,"px"),fontFamily:M,lineHeight:U,padding:Q},rowsLength:le,className:"lf-get-text-height"}),qr=j.height>Vn?j.height:Vn;return L("g",null,L("foreignObject",{width:Je,height:qr,x:oe.x-Je/2,y:oe.y-qr/2},L("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:j.height,width:Je,color:s,padding:Q}},L("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:l,fontFamily:M,lineHeight:U,background:"transparent",textAlign:"center",wordBreak:"break-all"}},fe.map(function(Sr){return L("div",null,Sr)})))))}if(le>1){var Er=fe.map(function(Sr,Zr){return L("tspan",{className:"lf-text-tspan",x:n,y:i+(Zr-(le-1)/2)*(l+2)},Sr)});return L("text",oe,Er)}return L("text",oe,o)}}function Xd(t){return(Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wd(){return(Wd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function z_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Gd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yd(t,e){return(Yd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function F_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hs(t);if(e){var i=Hs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H_(this,n)}}function H_(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wr(t)}function wr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Yr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $d=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Yd(o,a)})(i,t);var e,n,r=F_(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Yr(wr(a=r.call(this)),"dragHandler",void 0),Yr(wr(a),"sumDeltaX",0),Yr(wr(a),"sumDeltaY",0),Yr(wr(a),"stepDrag",void 0),Yr(wr(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY,A=a.props,M=A.model,U=z_(A.graphModel.transformMatrix.fixDeltaXY(_,j),2),J=U[0],Z=U[1];M.moveText(J,Z)}),Yr(wr(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState($e.TEXT_EDIT)}),Yr(wr(a),"mouseDownHandle",function(h){var _=a.props,j=_.draggable,A=_.graphModel.editConfig.nodeTextDraggable;(j||A)&&a.stepDrag.handleMouseDown(h)});var s=o.model,l=o.draggable;return a.stepDrag=new vi({onDraging:a.onDraging,step:1,model:s,isStopPropagation:l}),a}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.style,l=a.text,h=l.value;return L(Fs,Wd({},{x:l.x,y:l.y,className:"lf-element-text",value:h},s,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return L("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&B_(e.prototype,n),i}(I),U_=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Kd(t){return(Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qd(){return(qd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zd(Object(n),!0).forEach(function(r){un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Jd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ey(t,e){return(ey=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function X_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Us(t);if(e){var i=Us(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W_(this,n)}}function W_(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}function an(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Us(t){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nr=function(t){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&ey(a,s)})(o,t);var e,n,r,i=X_(o);function o(a){var s;(function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")})(this,o),un(an(s=i.call(this)),"stepDrag",void 0),un(an(s),"contextMenuTime",void 0),un(an(s),"startTime",void 0),un(an(s),"clickTimer",void 0),un(an(s),"onDraging",function(j){var A=j.deltaX,M=j.deltaY,U=s.props,J=U.model,Z=U.graphModel;s.state.isDraging||s.setState({isDraging:!0});var ee=V_(Z.transformMatrix.fixDeltaXY(A,M),2),Q=ee[0],oe=ee[1];Z.moveNode(J.id,Q,oe)}),un(an(s),"onDragEnd",function(){s.setState({isDraging:!1})}),un(an(s),"handleClick",function(j){if(s.startTime&&!(new Date().getTime()-s.startTime>200)){var A=s.props,M=A.model,U=A.eventCenter,J=A.graphModel,Z={data:M.getData(),e:j,position:J.getPointByClient({x:j.clientX,y:j.clientY})},ee=j.button===2,Q=j.detail===2;if(!ee){var oe=J.editConfig.metaKeyMultipleSelected;J.selectNodeById(M.id,j.metaKey&&oe),s.toFront(),Q?(J.editConfig.nodeTextEdit&&M.text.editable&&(M.setSelected(!1),J.setElementStateById(M.id,$e.TEXT_EDIT)),U.emit(Fe.NODE_DBCLICK,Z)):(U.emit(Fe.ELEMENT_CLICK,Z),U.emit(Fe.NODE_CLICK,Z))}}}),un(an(s),"handleContextMenu",function(j){j.preventDefault();var A=s.props,M=A.model,U=A.eventCenter,J=A.graphModel,Z=M.getData(),ee=J.getPointByClient({x:j.clientX,y:j.clientY});J.setElementStateById(M.id,$e.SHOW_MENU,ee.domOverlayPosition),J.selectNodeById(M.id),U.emit(Fe.NODE_CONTEXTMENU,{data:Z,e:j,position:ee}),s.toFront()}),un(an(s),"handleMouseDown",function(j){var A=s.props,M=A.model,U=A.graphModel;s.toFront(),s.startTime=new Date().getTime(),U.editConfig.adjustNodePosition&&M.draggable&&s.stepDrag&&s.stepDrag.handleMouseDown(j)}),un(an(s),"setHoverON",function(j){if(!s.state.isHovered){s.setState({isHovered:!0});var A=s.props,M=A.model,U=A.eventCenter,J=M.getData();M.setHovered(!0),U.emit(Fe.NODE_MOUSEENTER,{data:J,e:j})}}),un(an(s),"setHoverOFF",function(j){s.setState({isHovered:!1});var A=s.props,M=A.model,U=A.eventCenter,J=M.getData();M.setHovered(!1),U.emit(Fe.NODE_MOUSELEAVE,{data:J,e:j})}),un(an(s),"onMouseOut",function(j){U_&&s.setHoverOFF(j)});var l=a.graphModel.gridSize,h=a.eventCenter,_=a.model;return s.stepDrag=new vi({onDraging:s.onDraging,onDragEnd:s.onDragEnd,step:l,eventType:"NODE",eventCenter:h,model:_}),s.state={isDraging:!1,isHovered:!1},s}return e=o,r=[{key:"getModel",value:function(a){return a}}],(n=[{key:"getShapeStyle",value:function(){var a=this.props.model;return{width:a.width,height:a.height,fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,opacity:a.opacity,outlineColor:a.outlineColor}}},{key:"getAttributes",value:function(){var a=this.props.model,s=a.id,l=a.properties,h=l===void 0?{}:l,_=a.type,j=a.x,A=a.y,M=a.isSelected,U=a.isHovered,J=a.text,Z=this.getShapeStyle();return $r({id:s,properties:$r({},h),type:_,x:j,y:A,isSelected:M,isHovered:U,text:$r({},J)},Z)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return $r({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return $r({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return $r({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var a=this,s=this.props,l=s.model,h=s.graphModel,_=s.eventCenter,j=l.isSelected,A=l.isHitable,M=this.state,U=M.isHovered,J=M.isDraging;if(A&&(j||U)){var Z=this.getAnchorStyle(),ee=this.getAnchorHoverStyle(),Q=this.getNewEdgeStyle();return xa(l.anchors,function(oe,fe){return L(I_,qd({},oe,{nodeDraging:J,style:Z,hoverStyle:ee,edgeStyle:Q,anchorIndex:fe,nodeModel:l,eventCenter:_,graphModel:h,setHoverOFF:a.setHoverOFF}))})}return[]}},{key:"getTextStyle",value:function(){return $r({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var a=this.props,s=a.model,l=a.graphModel;if(s.state===$e.TEXT_EDIT)return"";var h=this.getTextStyle();if(s.text){var _=l.editConfig,j=!1;return(s.text.draggable||_.nodeTextDraggable)&&(j=!0),L($d,{editable:_.nodeTextEdit&&s.text.editable,style:h,model:s,graphModel:l,draggable:j})}}},{key:"getStateClassName",value:function(){var a="lf-node";switch(this.props.model.state){case $e.ALLOW_CONNECT:a+=" lf-node-allow";break;case $e.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default"}return this.state.isDraging&&(a+=" lf-dragging"),a}},{key:"toFront",value:function(){var a=this.props,s=a.model,l=a.graphModel;l.overlapMode!==Cn.INCREASE&&l.toFront(s.id)}},{key:"render",value:function(){var a,s=this.props,l=s.model,h=s.graphModel,_=h.editConfig,j=_.hideAnchors,A=_.adjustNodePosition,M=h.gridSize,U=h.transformMatrix.SCALE_X,J=l.isHitable,Z=l.draggable,ee=L("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return J?(A&&Z&&this.stepDrag.setStep(M*U),a=L("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ee)):a=L("g",{className:this.getStateClassName()},ee),a}}])&&Qd(e.prototype,n),r&&Qd(e,r),o}(I);function ty(t){return(ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ny(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ny(Object(n),!0).forEach(function(r){G_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vs(t,e,n){return(Vs=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Ao(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function ry(t,e){return(ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function K_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ao(t);if(e){var i=Ao(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q_(this,n)}}function q_(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Xs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ry(o,a)})(i,t);var e,n,r=K_(i);function i(){return Y_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Vs(Ao(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.radius;return Ya(Ya({},o),{},{radius:a})}},{key:"getAttributes",value:function(){var o=Vs(Ao(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Ya(Ya({},o),a)}},{key:"getShape",value:function(){return L(mr,this.getAttributes())}}])&&$_(e.prototype,n),i}(nr);function oy(t){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(n),!0).forEach(function(r){Z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ws(t,e,n){return(Ws=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=To(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function ay(t,e){return(ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function eO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=To(t);if(e){var i=To(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tO(this,n)}}function tO(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Gs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ay(o,a)})(i,t);var e,n,r=eO(i);function i(){return J_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Ws(To(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.r;return $a($a({},o),{},{r:a})}},{key:"getAttributes",value:function(){var o=Ws(To(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return $a($a({},o),a)}},{key:"getShape",value:function(){return L(za,this.getAttributes())}}])&&Q_(e.prototype,n),i}(nr);function uy(t){return(uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return sy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cy(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(t).forEach(function(i){var o=nO(i,2),a=o[0],s=o[1];uy(s)!=="object"&&(r[a]=s)}),r.points=e.map(function(i){return i.join(",")}).join(" "),L("polygon",r)}function ly(t){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fy(Object(n),!0).forEach(function(r){rO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ys(t,e,n){return(Ys=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Do(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function py(t,e){return(py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function aO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Do(t);if(e){var i=Do(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Do(t){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var $s=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&py(o,a)})(i,t);var e,n,r=aO(i);function i(){return oO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Ys(Do(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.points;return Ka(Ka({},o),{},{points:a})}},{key:"getAttributes",value:function(){var o=Ys(Do(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Ka(Ka({},o),a)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.width,s=o.height,l=o.x,h=o.y,_=o.fill,j=o.fillOpacity,A=o.strokeWidth,M=o.stroke,U=o.strokeOpacity,J=o.points;return L("g",{transform:"matrix(1 0 0 1 ".concat(l-a/2," ").concat(h-s/2,")")},L(cy,{fill:_,fillOpacity:j,strokeWidth:A,stroke:M,strokeOpacity:U,points:J}))}}])&&iO(e.prototype,n),i}(nr);function hy(t){return(hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dy(Object(n),!0).forEach(function(r){sO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ks(t,e,n){return(Ks=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Mo(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function yy(t,e){return(yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function fO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mo(t);if(e){var i=Mo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pO(this,n)}}function pO(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&yy(o,a)})(i,t);var e,n,r=fO(i);function i(){return cO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=this.props.model.points;return qa(qa({},Ks(Mo(i.prototype),"getShapeStyle",this).call(this)),{},{points:o})}},{key:"getAttributes",value:function(){var o=Ks(Mo(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return qa(qa({},o),a)}},{key:"getShape",value:function(){var o=this.props.model.points,a=this.getAttributes();return L("g",null,L(cy,{fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,points:o}))}}])&&lO(e.prototype,n),i}(nr);function vy(t){return(vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function hO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return gy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dO(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,a=o===void 0?4:o,s=t.ry,l={cx:n,cy:i,rx:a,ry:s===void 0?4:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(h){var _=hO(h,2),j=_[0],A=_[1];vy(A)!=="object"&&(l[j]=A)}),L("ellipse",l)}function by(t){return(by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function my(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?my(Object(n),!0).forEach(function(r){yO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oy(t,e,n){return(Oy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Ei(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function wy(t,e){return(wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function bO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ei(t);if(e){var i=Ei(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mO(this,n)}}function mO(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ei(t){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Zs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&wy(o,a)})(i,t);var e,n,r=bO(i);function i(){return vO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=Oy(Ei(i.prototype),"getAttributes",this).call(this),a=this.props.model,s=a.rx,l=a.ry;return _y(_y({},o),{},{rx:s,ry:l})}},{key:"getShape",value:function(){return L(dO,this.getAttributes())}}])&&gO(e.prototype,n),i}(nr);function xy(t){return(xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ey(Object(n),!0).forEach(function(r){_O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jy(t,e){return(jy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function xO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Js(t);if(e){var i=Js(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(t,e){if(e&&(xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Js(t){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Qs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&jy(o,a)})(i,t);var e,n,r=xO(i);function i(){return OO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.getAttributes().text,a=this.getTextStyle();if(o&&o.value&&a.backgroundStyle&&a.backgroundStyle.fill!=="transparnet"){var s=a.fontSize,l=o.value,h=o.x,_=o.y,j=String(l).split(/[\r\n]/g),A=j.length;j&&j.forEach(function(Z){cs(Z)});var M=ka({rows:j,fontSize:s,rowsLength:A}),U=M.width,J=M.height;return L(mr,Sy(Sy({},a.backgroundStyle),{},{x:h-1,y:_-1,width:U,height:J}))}}},{key:"getShape",value:function(){var o=this.getAttributes();return L("g",null,this.getBackgroud(),L(Fs,o))}}])&&wO(e.prototype,n),i}(nr);function Py(t){return(Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function SO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function PO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tc(t);if(e){var i=tc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kO(this,n)}}function kO(t,e){if(e&&(Py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ec(t)}function ec(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tc(t){return(tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ay(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ky(o,a)})(i,t);var e,n,r=PO(i);function i(){var o;SO(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return Ay(ec(o=r.call.apply(r,[this].concat(s))),"ref",void 0),Ay(ec(o),"setRef",function(h){o.ref=h}),o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.x,s=o.y,l=o.width,h=o.height;return L("foreignObject",{x:a-l/2,y:s-h/2,width:l,height:h,ref:this.setRef})}}])&&jO(e.prototype,n),i}(nr);function Ty(t){return(Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function AO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Dy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function My(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=AO(n,2),i=r[0],o=r[1];Ty(o)!=="object"&&(e[i]=o)}),L("path",e)}My.defaultProps={strokeDasharray:""};var Si=My;function Ny(t){return(Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return(Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function NO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=rc(t);if(e){var i=rc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CO(this,n)}}function CO(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function rc(t){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Iy=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ry(o,a)})(i,t);var e,n,r=NO(i);function i(){return DO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getArrowAttibutes",value:function(){var o=this.props,a=o.arrowInfo,s=o.style,l=a.start,h=a.end,_={start:l,end:h,offset:s.offset,verticalLength:s.verticalLength,type:"end"},j=hi(_),A=j.leftX,M=j.leftY,U=j.rightX,J=j.rightY;return function(Z){for(var ee=1;ee<arguments.length;ee++){var Q=arguments[ee]!=null?arguments[ee]:{};ee%2?Cy(Object(Q),!0).forEach(function(oe){TO(Z,oe,Q[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(Q)):Cy(Object(Q)).forEach(function(oe){Object.defineProperty(Z,oe,Object.getOwnPropertyDescriptor(Q,oe))})}return Z}({d:"M".concat(A," ").concat(M," L").concat(h.x," ").concat(h.y," L").concat(U," ").concat(J," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttibutes(),a=o.d,s=o.strokeWidth,l=o.stroke,h=o.fill;return L(Si,{d:a,fill:h,strokeWidth:s,stroke:l})}},{key:"render",value:function(){return L("g",{className:"lf-arrow"},this.getShape())}}])&&MO(e.prototype,n),i}(I);function Ly(t){return(Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zy(){return(zy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function By(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?By(Object(n),!0).forEach(function(r){ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fy(t,e){return(Fy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function IO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ic(t);if(e){var i=ic(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(t,e){if(e&&(Ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oc(t)}function oc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ic(t){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ac(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zO=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Fy(o,a)})(i,t);var e,n,r=IO(i);function i(o){var a;return function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),ac(oc(a=r.call(this,o)),"setHoverON",function(){a.setState({isHoverd:!0})}),ac(oc(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,a=this.props.style,s=o.text,l=o.textWidth,h=Nn(a.background,"fill","stroke","radius","height");if(this.state.isHoverd&&a.hoverBackground&&(h=Kr(Kr({},h),a.hoverBackground)),s&&s.value&&h.fill!=="transparnet"){var _,j=a.fontSize,A=a.autoWrap,M=a.lineHeight,U=a.wrapPadding,J=s.value,Z=s.x,ee=s.y,Q=String(J).split(/[\r\n]/g),oe=Q.length;if(A&&l){var fe=Mf({rows:Q,style:{fontSize:"".concat(j,"px"),width:"".concat(l,"px"),lineHeight:M,padding:U},rowsLength:oe,className:"lf-get-text-height"});_=Kr(Kr({},h),{},{x:Z-1,y:ee-1,width:l,height:fe})}else{Q&&Q.forEach(function(Ne){cs(Ne)});var le=ka({rows:Q,fontSize:j,rowsLength:oe}),je=le.width,ke=le.height;_=Kr(Kr({},h),{},{x:Z-1,y:ee-1,width:je,height:ke})}return L(mr,_)}}},{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.style,l=a.text,h=l.value,_=Kr({x:l.x,y:l.y,className:"lf-element-text",value:h},s);return L("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),L(Fs,zy({},_,{model:a})))}}])&&RO(e.prototype,n),i}($d);function Hy(t){return(Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Uy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(n),!0).forEach(function(r){Hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vy(t,e){return(Vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function UO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uc(t);if(e){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VO(this,n)}}function VO(t,e){if(e&&(Hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(t)}function Fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uc(t){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ji=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Vy(o,a)})(i,t);var e,n,r=UO(i);function i(){var o;FO(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return Hn(Fn(o=r.call.apply(r,[this].concat(s))),"startTime",void 0),Hn(Fn(o),"contextMenuTime",void 0),Hn(Fn(o),"clickTimer",void 0),Hn(Fn(o),"handleHover",function(h,_){var j=o.props,A=j.model,M=j.eventCenter;A.setHovered(h);var U=h?Fe.EDGE_MOUSEENTER:Fe.EDGE_MOUSELEAVE,J=A.getData();M.emit(U,{data:J,e:_})}),Hn(Fn(o),"setHoverON",function(h){o.handleHover(!0,h)}),Hn(Fn(o),"setHoverOFF",function(h){o.handleHover(!1,h)}),Hn(Fn(o),"handleContextMenu",function(h){h.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var _=o.props,j=_.model,A=_.graphModel,M=_.eventCenter,U=A.getPointByClient({x:h.clientX,y:h.clientY});A.setElementStateById(j.id,$e.SHOW_MENU,U.domOverlayPosition),o.toFront(),A.selectEdgeById(j.id);var J=j==null?void 0:j.getData();M.emit(Fe.EDGE_CONTEXTMENU,{data:J,e:h,position:U})}),Hn(Fn(o),"handleMouseDown",function(h){h.stopPropagation(),o.startTime=new Date().getTime()}),Hn(Fn(o),"handleMouseUp",function(h){if(o.startTime&&!(new Date().getTime()-o.startTime>200||h.button===2)){var _=h.detail===2,j=o.props,A=j.model,M=j.graphModel,U=j.eventCenter,J=A==null?void 0:A.getData(),Z=M.getPointByClient({x:h.clientX,y:h.clientY});if(_){var ee=M.editConfig,Q=M.textEditElement;if(Q&&Q.id===A.id&&M.setElementStateById(A.id,$e.DEFAULT),ee.edgeTextEdit&&A.text.editable&&M.setElementStateById(A.id,$e.TEXT_EDIT),A.modelType===He.POLYLINE_EDGE){var oe=A,fe=M.getPointByClient({x:h.x,y:h.y}).canvasOverlayPosition,le=fe.x,je=fe.y,ke=tp({x:le,y:je},oe.points);oe.dbClickPosition=ke}U.emit(Fe.EDGE_DBCLICK,{data:J,e:h,position:Z})}else U.emit(Fe.ELEMENT_CLICK,{data:J,e:h,position:Z}),U.emit(Fe.EDGE_CLICK,{data:J,e:h,position:Z});var Ne=M.editConfig.metaKeyMultipleSelected;M.selectEdgeById(A.id,h.metaKey&&Ne),o.toFront()}}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.strokeWidth,s=o.strokeOpacity,l=o.strokeDashArray,h=o.isSelected,_=o.isHovered,j=o.hoverStroke,A=o.selectedStroke,M=o.properties,U=this.props.model.stroke;return _?U=j:h&&(U=A),{stroke:U,strokeWidth:a,strokeOpacity:s,strokeDashArray:l,isSelected:h,isHovered:_,hoverStroke:j,selectedStroke:A,properties:BO({},M)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===$e.TEXT_EDIT)return"";var l=s.theme.edgeText,h=this.getTextStyle(),_=st({},l,h),j=!1,A=s.editConfig;return(a.text.draggable||A.edgeTextDraggable)&&(j=!0),L(zO,{editable:A.edgeTextEdit&&a.text.editable,model:a,graphModel:s,style:_,draggable:j})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,l=o.isSelected;return{start:a,end:s,hover:this.state.hover,isSelected:l}}},{key:"getArrowStyle",value:function(){var o=this.getAttributes().stroke,a=this.props.graphModel.theme.arrow;return{stroke:o,strokeWidth:1,fill:o,offset:a.offset,verticalLength:a.verticalLength}}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),a=o.start,s=o.end;if(a&&s&&(a.x!==s.x||a.y!==s.y)){var l=this.getArrowStyle();return L(Iy,{arrowInfo:o,style:l})}}},{key:"getAppendWidth",value:function(){return L("g",null)}},{key:"getAppend",value:function(){return L("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,s=o.model;a.overlapMode!==Cn.INCREASE&&a.toFront(s.id)}},{key:"render",value:function(){return L("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow())}}])&&HO(e.prototype,n),i}(I);function Xy(t){return(Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(n),!0).forEach(function(r){XO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yy(t,e,n){return(Yy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Pi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function $y(t,e){return($y=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function YO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pi(t);if(e){var i=Pi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(t,e){if(e&&(Xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var sc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&$y(o,a)})(i,t);var e,n,r=YO(i);function i(){return WO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint;return Gy(Gy({},Yy(Pi(i.prototype),"getAttributes",this).call(this)),{},{startPoint:a,endPoint:s})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.stroke,s=o.startPoint,l=o.endPoint,h=o.strokeWidth,_=o.strokeOpacity,j=o.strokeDashArray;return L(So,{x1:s.x,y1:s.y,x2:l.x,y2:l.y,strokeOpacity:_,strokeWidth:h,stroke:a,strokeDasharray:j})}},{key:"getShape",value:function(){return L("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=function(A){var M,U=A.start,J=A.end;if(U.x===J.x&&U.y===J.y)M="";else{var Z={start:U,end:J,offset:10,verticalLength:5},ee=hi(Aa(Aa({},Z),{},{type:"start"})),Q=hi(Aa(Aa({},Z),{},{type:"end"}));M="M".concat(ee.leftX," ").concat(ee.leftY,` 
    L`).concat(ee.rightX," ").concat(ee.rightY,` 
    L`).concat(Q.rightX," ").concat(Q.rightY,`
    L`).concat(Q.leftX," ").concat(Q.leftY," z")}return{d:M,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),s=a.d,l=a.strokeWidth,h=a.fill,_=a.strokeDasharray,j=a.stroke;return L(Si,{d:s,fill:h,strokeWidth:l,stroke:j,strokeDasharray:_})}}])&&GO(e.prototype,n),i}(ji);function Ky(t){return(Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function KO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return qy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qO=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=KO(n,2),i=r[0],o=r[1];Ky(o)!=="object"&&(e[i]=o)}),L("polyline",e)};function Zy(t){return(Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jy(Object(n),!0).forEach(function(r){or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Qy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ev(t,e,n){return(ev=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=ki(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function tv(t,e){return(tv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function QO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ki(t);if(e){var i=ki(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ew(this,n)}}function ew(t,e){if(e&&(Zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(t)}function rr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ki(t){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&tv(o,a)})(i,t);var e,n,r=QO(i);function i(){var o;return function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),or(rr(o=r.call(this)),"drag",void 0),or(rr(o),"isDraging",void 0),or(rr(o),"appendInfo",void 0),or(rr(o),"dragHandler",void 0),or(rr(o),"onDragStart",function(){o.props.model.dragAppendStart()}),or(rr(o),"onDraging",function(a){var s=a.deltaX,l=a.deltaY,h=o.props,_=h.model,j=h.graphModel;o.isDraging=!0;var A=ZO(j.transformMatrix.fixDeltaXY(s,l),2),M=A[0],U=A[1],J=_;o.appendInfo=J.dragAppend(o.appendInfo,{x:M,y:U})}),or(rr(o),"onDragEnd",function(){o.props.model.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0}),or(rr(o),"beforeDragStart",function(a,s){o.dragHandler(a),o.appendInfo=s}),o.drag=La({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=ev(ki(i.prototype),"getAttributes",this).call(this),a=this.props.model.points;return No(No({},o),{},{points:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.points,s=o.strokeWidth,l=o.stroke,h=o.strokeDashArray;return L(qO,{points:a,strokeWidth:s,stroke:l,strokeDasharray:h})}},{key:"getShape",value:function(){return L("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,s=o.isSelected,l={start:null,end:null,hover:this.state.hover,isSelected:s},h=wo(a);return h.length>=2&&(l.start=h[h.length-2],l.end=h[h.length-1]),l}},{key:"getAppendAttibutes",value:function(o){var a,s=o.start,l=o.end;if(s.x===l.x&&s.y===l.y)a="";else{var h={start:s,end:l,offset:10,verticalLength:5},_=hi(No(No({},h),{},{type:"start"})),j=hi(No(No({},h),{},{type:"end"}));a="M".concat(_.leftX," ").concat(_.leftY,` 
      L`).concat(_.rightX," ").concat(_.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttibutes(o),s=a.d,l=a.strokeWidth,h=a.fill,_=a.strokeDasharray,j=a.stroke;return L(Si,{d:s,fill:h,strokeWidth:l,stroke:j,strokeDasharray:_})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,s=a.model,l=a.graphModel,h=s.pointsList,_=s.draggable,j=[],A=function(U){var J="lf-polyline-append",Z={start:{x:h[U].x,y:h[U].y},end:{x:h[U+1].x,y:h[U+1].y},startIndex:U,endIndex:U+1,direction:""},ee=L("g",{className:J},o.getAppendShape(Z));l.editConfig.adjustEdge&&_?(o.dragHandler=o.drag,Z.start.x===Z.end.x?(J+="-ew-resize",Z.direction=ct.VERTICAL):Z.start.y===Z.end.y&&(J+="-ns-resize",Z.direction=ct.HORIZONTAL),ee=L("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Q){return o.beforeDragStart(Q,Z)}},L("g",{className:J},o.getAppendShape(Z)))):o.dragHandler=function(){},j.push(ee)},M=0;M<h.length-1;M++)A(M);return L("g",null,j)}}])&&JO(e.prototype,n),i}(ji);function nv(t){return(nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ov(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ov(Object(n),!0).forEach(function(r){nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function av(t,e,n){return(av=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Ai(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function uv(t,e){return(uv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function iw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ai(t);if(e){var i=Ai(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return aw(this,n)}}function aw(t,e){if(e&&(nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ai(t){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var lc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&uv(o,a)})(i,t);var e,n,r=iw(i);function i(){return rw(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=av(Ai(i.prototype),"getAttributes",this).call(this),a=this.props.model.path;return iv(iv({},o),{},{path:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.path,s=o.strokeWidth,l=o.stroke,h=o.strokeDashArray;return L(Si,{d:a,strokeWidth:s,stroke:l,fill:"none",strokeDasharray:h})}},{key:"getShape",value:function(){return L("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.getAttributes().path;return L(Si,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state.hover,s=o,l=s.path,h=s.isSelected,_=tw(function(j){var A=Ra(j);return[A[2],A[3]]}(l),2);return{start:_[0],end:_[1],hover:a,isSelected:h}}}])&&ow(e.prototype,n),i}(ji),sv=function(t,e){return Nu(t,e)},uw=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},fc=function(){return pn.a.Date.now()},sw=/\s/,cw=function(t){for(var e=t.length;e--&&sw.test(t.charAt(e)););return e},lw=/^\s+/,fw=function(t){return t&&t.slice(0,cw(t)+1).replace(lw,"")},pw=/^[-+]0x[0-9a-f]+$/i,hw=/^0b[01]+$/i,dw=/^0o[0-7]+$/i,yw=parseInt,cv=function(t){if(typeof t=="number")return t;if(Oa(t))return NaN;if(Bt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fw(t);var n=hw.test(t);return n||dw.test(t)?yw(t.slice(2),n?2:8):pw.test(t)?NaN:+t},vw=Math.max,gw=Math.min,bw=function(t,e,n){var r,i,o,a,s,l,h=0,_=!1,j=!1,A=!0;if(typeof t!="function")throw new TypeError("Expected a function");function M(oe){var fe=r,le=i;return r=i=void 0,h=oe,a=t.apply(le,fe)}function U(oe){return h=oe,s=setTimeout(Z,e),_?M(oe):a}function J(oe){var fe=oe-l;return l===void 0||fe>=e||fe<0||j&&oe-h>=o}function Z(){var oe=fc();if(J(oe))return ee(oe);s=setTimeout(Z,function(fe){var le=e-(fe-l);return j?gw(le,o-(fe-h)):le}(oe))}function ee(oe){return s=void 0,A&&r?M(oe):(r=i=void 0,a)}function Q(){var oe=fc(),fe=J(oe);if(r=arguments,i=this,l=oe,fe){if(s===void 0)return U(l);if(j)return clearTimeout(s),s=setTimeout(Z,e),M(l)}return s===void 0&&(s=setTimeout(Z,e)),a}return e=cv(e)||0,Bt(n)&&(_=!!n.leading,o=(j="maxWait"in n)?vw(cv(n.maxWait)||0,e):o,A="trailing"in n?!!n.trailing:A),Q.cancel=function(){s!==void 0&&clearTimeout(s),h=0,r=l=i=s=void 0},Q.flush=function(){return s===void 0?a:ee(fc())},Q},mw=u(140);function _w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lv,Ow=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),xr(this,"undos",[]),xr(this,"redos",[]),xr(this,"callbacks",[]),xr(this,"stopWatch",null),xr(this,"curData",null),xr(this,"maxSize",50),xr(this,"waitTime",100),xr(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){sv(uw(this.undos),r)||(this.undos.push(r),sv(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Fe.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Uu(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Uu(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(mw.a)(r,bw(function(){var o=r.modelToGraphData();i.add(o)},this.waitTime))}}])&&_w(e.prototype,n),t}();function fv(t){return(fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ww(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return pv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hv(Object(n),!0).forEach(function(r){Ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e){return(yv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function xw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pc(t);if(e){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ew(this,n)}}function Ew(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Za(t)}function Za(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pc(t){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ja(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vv,Sw=Un(lv=function(t){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&yv(a,s)})(o,t);var e,n,r,i=xw(o);function o(){var a;return function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),Ja(Za(a=i.call(this)),"ref",{current:null}),Ja(Za(a),"__prevText",{type:"",text:"",id:""}),Ja(Za(a),"keyupHandler",function(s){var l=s.target.innerText,h=a.props.graphModel.textEditElement;s.keyCode===13&&s.altKey&&h.setElementState(0),a.__prevText={type:h.type,text:l,id:h.id}}),a.state={style:{left:0,top:0}},a}return e=o,r=[{key:"getDerivedStateFromProps",value:function(a){var s,l=a.graphModel,h=l.transformMatrix,_=l.theme,j=l.textEditElement;if(j){var A;if((A=j.text)===null||A===void 0||!A.value)if(j.BaseType===_t.EDGE){var M=(j=j).text,U=j.textPosition,J=U.x,Z=U.y;M.x=J,M.y=Z,j.setText(M)}else j=j;var ee={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===_t.EDGE){var Q=_.edgeText,oe=Q.autoWrap,fe=Q.lineHeight,le=Q.wrapPadding,je=j.textWidth;oe&&je&&(s=Co(Co({},ee),{},{width:je,minWidth:je,lineHeight:fe,padding:le}))}else if(j.BaseType===_t.NODE){var ke=_.nodeText,Ne=ke.autoWrap,Ye=ke.lineHeight,Je=ke.wrapPadding,Vn=j,qr=Vn.width,Er=Vn.textWidth,Sr=Vn.modelType;(Sr!==He.TEXT_NODE&&Ne||Sr===He.TEXT_NODE&&Ne&&Er)&&(s=Co(Co({},ee),{},{width:Er||qr,minWidth:Er||qr,lineHeight:Ye,padding:Je}))}var Zr=j.text,gc=Zr.x,tu=Zr.y,kv=ww(h.CanvasPointToHtmlPoint([gc,tu]),2);return{style:Co({left:kv[0],top:kv[1]},s)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var a=this.props.graphModel,s=a.eventCenter,l=a.editConfig,h=l.edgeTextEdit,_=l.nodeTextEdit;(h||_)&&s.on(Fe.GRAPH_TRANSFORM,function(){a.textEditElement&&a.textEditElement.setElementState($e.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var a=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var s=this.__prevText,l=s.text,h=s.id;a.setElementTextById(h,l),a.eventCenter.emit(Fe.TEXT_UPDATE,Co({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(a){if(window.getSelection!==void 0&&document.createRange!==void 0){var s=document.createRange();s.selectNodeContents(a),s.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(s)}}},{key:"render",value:function(){var a,s=this.props.graphModel.textEditElement,l=this.state.style;return s?L("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:s.id,onKeyUp:this.keyupHandler},(a=s.text)===null||a===void 0?void 0:a.value):null}}])&&dv(e.prototype,n),r&&dv(e,r),o}(I))||lv,jw=function(t){return t.modelType===He.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,a=Math.abs(n.x-r.x)+10,s=Math.abs(n.y-r.y)+10;return{x:i-a/2,y:o-s/2,x1:i+a/2,y1:o+s/2}}(t):t.modelType===He.POLYLINE_EDGE?function(e){var n=e.points,r=wo(n),i=di(r,8),o=i.x,a=i.y,s=i.width,l=i.height;return{x:o-s/2,y:a-l/2,x1:o+s/2,y1:a+l/2}}(t):t.modelType===He.BEZIER_EDGE?function(e){var n=e.path,r=Ra(n),i=di(r,8),o=i.x,a=i.y,s=i.width,l=i.height;return{x:o-s/2,y:a-l/2,x1:o+s/2,y1:a+l/2}}(t):void 0};function gv(t){return(gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return s}}(t,e)||mv(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pw(t){return function(e){if(Array.isArray(e))return hc(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||mv(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mv(t,e){if(t){if(typeof t=="string")return hc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hc(t,e):void 0}}function hc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _v(t,e){return(_v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Aw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(t);if(e){var i=dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tw(this,n)}}function Tw(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(t)}function Ti(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dc(t){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Qa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dw=Un(vv=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&_v(o,a)})(i,t);var e,n,r=Aw(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Qa(Ti(a=r.call(this)),"stepDrag",void 0),Qa(Ti(a),"handleMouseDown",function(h){a.stepDrag.handleMouseDown(h)}),Qa(Ti(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY,A=a.props.graphModel;A.moveElements(A.getSelectElements(!0),_,j)}),Qa(Ti(a),"handleContextMenu",function(h){h.preventDefault();var _=a.props,j=_.graphModel,A=_.graphModel,M=A.eventCenter,U=A.selectElements,J=j.getPointByClient({x:h.clientX,y:h.clientY}),Z={nodes:[],edges:[]};Pw(U.values()).forEach(function(ee){ee.BaseType===_t.NODE&&Z.nodes.push(ee.getData()),ee.BaseType===_t.EDGE&&Z.edges.push(ee.getData())}),M.emit(Fe.SELECTION_CONTEXTMENU,{data:Z,e:h,position:J})});var s=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new vi({onDraging:a.onDraging,step:s,eventType:"multiple:select",eventCenter:l}),a}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.transformMatrix;if(!(a.size<=1)){var l=Number.MAX_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;a.forEach(function(U){var J={x:0,y:0,x1:0,y1:0};U.BaseType===_t.NODE&&(J=function(Z){var ee=Z.x,Q=Z.y,oe=Z.width,fe=Z.height;return{x:ee-oe/2,y:Q-fe/2,x1:ee+oe/2,y1:Q+fe/2}}(U)),U.BaseType===_t.EDGE&&(J=jw(U)),l=Math.min(l,J.x),h=Math.min(h,J.y),_=Math.max(_,J.x1),j=Math.max(j,J.y1)});var A=bv(s.CanvasPointToHtmlPoint([l,h]),2);l=A[0],h=A[1];var M=bv(s.CanvasPointToHtmlPoint([_,j]),2);return _=M[0],j=M[1],L("div",{className:"lf-multiple-select",style:{left:"".concat(l-10,"px"),top:"".concat(h-10,"px"),width:"".concat(_-l+20,"px"),height:"".concat(j-h+20,"px")},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&kw(e.prototype,n),i}(I))||vv;function Mw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nw=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),eu(this,"tools",void 0),eu(this,"components",void 0),eu(this,"toolMap",new Map),eu(this,"instance",void 0),this.instance=r,this.registerTool("textEdit",Sw),this.registerTool("multipleSelect",Dw)}var e,n;return e=t,(n=[{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Mw(e.prototype,n),t}();u(182);function Cw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rw=function(){function t(){var r,i,o;(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var a=this;return r.split(",").forEach(function(s){s=s.trim(),a._events[s]||(a._events[s]=[]),a._events[s].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){return this.on(r,i,!0)}},{key:"emit",value:function(r,i){var o=this,a=this._events[r]||[],s=this._events["*"]||[],l=function(h){for(var _=h.length,j=0;j<_;j++)if(h[j]){var A=h[j],M=A.callback;A.once&&(h.splice(j,1),h.length===0&&delete o._events[r],_--,j--),M.apply(o,[i])}};l(a),l(s)}},{key:"off",value:function(r,i){if(r)if(i){for(var o=this._events[r]||[],a=o.length,s=0;s<a;s++)o[s].callback===i&&(o.splice(s,1),a--,s--);o.length===0&&delete this._events[r]}else delete this._events[r];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&Cw(e.prototype,n),t}(),Iw=u(141),Lw=u.n(Iw);function zw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ov=function(){function t(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),yc(this,"mousetrap",void 0),yc(this,"options",void 0),yc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new Lw.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(nn(i))i.forEach(function(l){var h=l.keys,_=l.callback,j=l.action;return r.on(h,_,j)});else{var o=i.keys,a=i.callback,s=i.action;this.on(o,a,s)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&zw(e.prototype,n),t}(),Bw=Ov,ir=null;function wv(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function xv(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function Ev(t){return(Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sv(Object(n),!0).forEach(function(r){wt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vc=function(){function t(i){var o=this;(function(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,t),wt(this,"container",void 0),wt(this,"width",void 0),wt(this,"height",void 0),wt(this,"graphModel",void 0),wt(this,"history",void 0),wt(this,"viewMap",new Map),wt(this,"tool",void 0),wt(this,"keyboard",void 0),wt(this,"dnd",void 0),wt(this,"options",void 0),wt(this,"getSnapshot",void 0),wt(this,"eventCenter",void 0),wt(this,"snaplineModel",void 0),wt(this,"components",[]),wt(this,"adapterIn",void 0),wt(this,"adapterOut",void 0),wt(this,"getView",function(J){return o.viewMap.get(J)});var a,s,l=i.container,h=i.width,_=i.height,j=i.dndOptions,A=i.keyboard,M=i.isSilentMode,U=i.snapline;this.options=vh(i),this.container=l,this.width=h||l.getBoundingClientRect().width,this.height=_||l.getBoundingClientRect().height,this.tool=new Nw(this),this.eventCenter=new Rw,this.history=new Ow(this.eventCenter),this.dnd=new i_({options:j,lf:this}),this.keyboard=new Bw({lf:this,keyboard:A}),this.graphModel=new h0(jv(jv({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),M||U===!1||(this.snaplineModel=new zd(this.graphModel),a=this.eventCenter,s=this.snaplineModel,a.on("node:mousemove",function(J){var Z=J.data;s.setNodeSnapLine(Z)}),a.on("node:mouseup",function(){s.clearSnapline()})),this.defaultRegister(),this.installPlugins(i.disabledPlugins),function(J,Z){var ee=J.keyboard,Q=ee.options.keyboard;ee.on(["cmd + c","ctrl + c"],function(){if(Q.enabled&&!Z.textEditElement){var oe=J.options.guards,fe=Z.getSelectElements(!1);return oe&&oe.beforeClone&&!oe.beforeClone(fe)?(ir=null,!1):((ir=fe).nodes.forEach(function(le){return wv(le,40)}),ir.edges.forEach(function(le){return xv(le,40)}),!1)}}),ee.on(["cmd + v","ctrl + v"],function(){if(Q.enabled&&!Z.textEditElement){if(ir&&(ir.nodes||ir.edges)){J.clearSelectElements();var oe=J.addElements(ir);if(!oe)return;oe.nodes.forEach(function(fe){return J.select(fe.id,!0)}),oe.edges.forEach(function(fe){return J.select(fe.id,!0)}),ir.nodes.forEach(function(fe){return wv(fe,40)}),ir.edges.forEach(function(fe){return xv(fe,40)})}return!1}}),ee.on(["cmd + z","ctrl + z"],function(){if(Q.enabled&&!Z.textEditElement)return J.undo(),!1}),ee.on(["cmd + y","ctrl + y"],function(){if(Q.enabled&&!Z.textEditElement)return J.redo(),!1}),ee.on(["backspace"],function(){if(Q.enabled&&!Z.textEditElement){var oe=Z.getSelectElements(!0);return J.clearSelectElements(),oe.edges.forEach(function(fe){return J.deleteEdge(fe.id)}),oe.nodes.forEach(function(fe){return J.deleteNode(fe.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts()}var e,n,r;return e=t,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var a=this.extensions.get(o);a&&a.destroy&&a.destroy(),this.extensions.set(o,i)}}],(n=[{key:"on",value:function(i,o){this.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.extensions.forEach(function(a){var s=a.pluginName||a.name;o.indexOf(s)===-1&&i.__installPlugin(a)})}},{key:"__installPlugin",value:function(i){if(Ev(i)==="object"){var o=i.install,a=i.render;return o&&o.call(i,this,t),void(a&&this.components.push(a.bind(i)))}var s=new i({lf:this,LogicFlow:t});s.render&&this.components.push(s.render.bind(s))}},{key:"register",value:function(i,o){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var s={BaseEdge:ji,BaseEdgeModel:Ju,BaseNode:nr,BaseNodeModel:er,RectNode:Xs,RectNodeModel:Ms,CircleNode:Gs,CircleNodeModel:xs,PolygonNode:$s,PolygonNodeModel:Ts,TextNode:Qs,TextNodeModel:Rs,LineEdge:sc,LineEdgeModel:ts,DiamondNode:qs,DiamondNodeModel:Ss,PolylineEdge:cc,PolylineEdgeModel:rs,BezierEdge:lc,BezierEdgeModel:Os,EllipseNode:Zs,EllipseNodeModel:Ps,HtmlNode:nc,HtmlNodeModel:Ls,h:L,type:i};this.viewMap.forEach(function(A){var M=A.extendKey;M&&(s[M]=A)}),this.graphModel.modelMap.forEach(function(A){var M=A.extendKey;M&&(s[M]=A)});var l=o(s),h=l.view,_=l.model,j=h;a&&!j.isObervered&&(j.isObervered=!0,j=ht(j)),this.setView(i,j),this.graphModel.setModel(i,_)}else this._registerElement(i)}},{key:"_registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=ht(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:Xs,model:Ms,type:"rect"}),this._registerElement({type:"circle",view:Gs,model:xs}),this._registerElement({type:"polygon",view:$s,model:Ts}),this._registerElement({type:"line",view:sc,model:ts}),this._registerElement({type:"polyline",view:cc,model:rs}),this._registerElement({type:"bezier",view:lc,model:Os}),this._registerElement({type:"text",view:Qs,model:Rs}),this._registerElement({type:"ellipse",view:Zs,model:Ps}),this._registerElement({type:"diamond",view:qs,model:Ss}),this._registerElement({type:"html",view:nc,model:Ls})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=Sn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=Sn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=this.graphModel.transformMatrix;return o.zoom(i),"".concat(100*o.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformMatrix.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformMatrix.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformMatrix;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformMatrix.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformMatrix,o=i.TRANSLATE_X,a=i.TRANSLATE_Y;this.translate(-o,-a)}},{key:"select",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformMatrix,a=i.coordinate,s=i.id;if(!a){var l=this.getNodeModel(s);l&&(a=l.getData());var h=this.getEdgeModelById(s);h&&(a=h.textPosition)}var _=a,j=_.x,A=_.y;o.focusOn(j,A,this.width,this.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"setDefaultEdgeType",value:function(i){this.options.edgeType=i,this.graphModel.changeEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.setElementTextById(i,o)}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;(!a||!a.beforeDelete||a.beforeDelete(o))&&this.graphModel.deleteNode(i)}},{key:"editNodeText",value:function(i){this.graphModel.setTextEditable(i)}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;if(!a||!a.beforeClone||a.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"createEdge",value:function(i){this.graphModel.createEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,a=this.graphModel.edgesMap[i];if(a){var s=a.model.getData();(!o||!o.beforeDelete||o.beforeDelete(s))&&this.graphModel.removeEdgeById(i)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(i,"\u7684\u8FB9"))}},{key:"removeEdge",value:function(i){var o=i.sourceNodeId,a=i.targetNodeId;o&&a?this.graphModel.removeEdge(o,a):o?this.graphModel.removeEdgeBySource(o):a&&this.graphModel.removeEdgeByTarget(a)}},{key:"getNodeModel",value:function(i){return this.graphModel.getNodeModel(i)}},{key:"getNodeData",value:function(i){return this.graphModel.getNodeModel(i).getData()}},{key:"setNodeData",value:function(i){var o=i.id;this.graphModel.getNodeModel(o).updateData(i)}},{key:"getEdgeModel",value:function(i){return this.getEdge(i)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdge",value:function(i){var o=this.graphModel,a=o.edges,s=o.edgesMap,l=i.id,h=i.sourceNodeId,_=i.targetNodeId;if(l)return s[l]?[s[l].model]:void console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(l,"\u7684\u8FB9"));if(h&&_){var j=[];return a.forEach(function(U){U.sourceNodeId===h&&U.targetNodeId===_&&j.push(U)}),j}if(h){var A=[];return a.forEach(function(U){U.sourceNodeId===h&&A.push(U)}),A}if(_){var M=[];return a.forEach(function(U){U.targetNodeId===_&&M.push(U)}),M}return[]}},{key:"getEdgeData",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"setEdgeData",value:function(i){var o,a=i.id;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.updateData(i)}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(i,o){var a;(a=this.graphModel.getElement(i))===null||a===void 0||a.setProperties(Sn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfig.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,a=i.nodes,s=i.edges,l={},h={nodes:[],edges:[]},_=0;_<a.length;_++){var j=a[_],A=j.id,M=this.addNode(j);if(!M)return;A&&(l[A]=M.id),h.nodes.push(M)}return s.forEach(function(U){var J=U.sourceNodeId,Z=U.targetNodeId;l[J]&&(U.sourceNodeId=l[J]),l[Z]&&(U.targetNodeId=l[Z]);var ee=o.graphModel.createEdge(U);h.edges.push(ee)}),h}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var a=new o(i,this.graphModel);return this.graphModel.setFakerNode(a),a}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(a){return a.getData()})}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(Sn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Pe(L(r_,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&Pv(e.prototype,n),r&&Pv(e,r),t}();function Un(t){return ht(t)}wt(vc,"extensions",new Map),p.default=vc}])})})(Ae,Ae.exports);var nu=og(Ae.exports);const pE=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start"},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"\u7528\u6237",class:"bpmn-user"}];function hE(g,v){return v={exports:{}},g(v,v.exports),v.exports}var dE=hE(function(g){var v=g.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var u=Math.log(Math.pow(2,c))/Math.log(p),f=2;u===1/0;f*=2)u=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var d=u-Math.floor(u),y="",f=0;f<Math.floor(u);f++){var x=Math.floor(Math.random()*p).toString(p);y=x+y}if(d){var E=Math.pow(p,d),x=Math.floor(Math.random()*E).toString(p);y=x+y}var S=parseInt(y,p);return S!==1/0&&S>=Math.pow(2,c)?v(c,p):y};v.rack=function(c,p,u){var f=function(y){var x=0;do{if(x++>10)if(u)c+=u;else throw new Error("too many ID collisions, use more bits");var E=v(c,p)}while(Object.hasOwnProperty.call(d,E));return d[E]=y,E},d=f.hats={};return f.get=function(y){return f.hats[y]},f.set=function(y,x){return f.hats[y]=x,f},f.bits=c||128,f.base=p||16,f}});function Xn(g){if(!(this instanceof Xn))return new Xn(g);g=g||[128,36,1],this._seed=g.length?dE.rack(g[0],g[1],g[2]):g}Xn.prototype.next=function(g){return this._seed(g||!0)};Xn.prototype.nextPrefixed=function(g,v){var c;do c=g+this.next(!0);while(this.assigned(c));return this.claim(c,v),c};Xn.prototype.claim=function(g,v){this._seed.set(g,v||!0)};Xn.prototype.assigned=function(g){return this._seed.get(g)||!1};Xn.prototype.unclaim=function(g){delete this._seed.hats[g]};Xn.prototype.clear=function(){var g=this._seed.hats,v;for(v in g)this.unclaim(v)};var yE=new Xn([32,32,1]);function Bo(){return yE.next()}var ig=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),jc=globalThis&&globalThis.__assign||function(){return jc=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},jc.apply(this,arguments)},vE=function(g){ig(v,g);function v(c,p){var u=this;return c.id||(c.id="Event_"+Bo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),u=g.call(this,c,p)||this,u}return v.prototype.getConnectedTargetRules=function(){var c=g.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},v.extendKey="StartEventModel",v}(Ae.exports.CircleNodeModel),gE=function(g){ig(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getAttributes=function(){var c=g.prototype.getAttributes.call(this);return jc({},c)},v.extendKey="StartEventNode",v}(Ae.exports.CircleNode),bE={type:"bpmn:startEvent",view:gE,model:vE},ag=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),mE=function(g){ag(v,g);function v(c,p){var u=this;return c.id||(c.id="Event_"+Bo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),u=g.call(this,c,p)||this,u}return v.prototype.getConnectedSourceRules=function(){var c=g.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},v.extendKey="EndEventModel",v}(Ae.exports.CircleNodeModel),_E=function(g){ag(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var c=this.getAttributes(),p=c.x,u=c.y,f=c.fill,d=c.stroke,y=c.strokeWidth,x=c.r,E=g.prototype.getShape.call(this);return Ae.exports.h("g",{},E,Ae.exports.h("circle",{cx:p,cy:u,fill:f,stroke:d,strokeWidth:y,r:x-5}))},v.extendKey="EndEventView",v}(Ae.exports.CircleNode),OE={type:"bpmn:endEvent",view:_E,model:mE},ug=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),wE=function(g){ug(v,g);function v(c,p){var u=this;return c.id||(c.id="Gateway_"+Bo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),u=g.call(this,c,p)||this,u.points=[[25,0],[50,25],[25,50],[0,25]],u}return v.extendKey="ExclusiveGatewayModel",v}(Ae.exports.PolygonNodeModel),xE=function(g){ug(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,u=c.y,f=c.fill,d=c.stroke,y=c.strokeWidth,x=c.width,E=c.height,S=c.points;return Ae.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-x/2)+" "+(u-E/2)+")"},Ae.exports.h("polygon",{fill:f,x:p,y:u,stroke:d,strokeWidth:y,points:S}),Ae.exports.h("path",{fill:f,stroke:d,strokeWidth:y,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},v.extendKey="ExclusiveGatewayNode",v}(Ae.exports.PolygonNode),EE={type:"bpmn:exclusiveGateway",view:xE,model:wE},sg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),SE=function(g){sg(v,g);function v(c,p){var u=this;return c.id||(c.id="Activity_"+Bo()),u=g.call(this,c,p)||this,u}return v.extendKey="UserTaskModel",v}(Ae.exports.RectNodeModel),jE=function(g){sg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,u=c.y,f=c.width,d=c.height,y=c.stroke;return Ae.exports.h("svg",{x:p-f/2+5,y:u-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ae.exports.h("path",{fill:y,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,u=c.y,f=c.width,d=c.height,y=c.fill,x=c.stroke,E=c.strokeWidth,S=c.radius;return Ae.exports.h("g",{},[Ae.exports.h("rect",{x:p-f/2,y:u-d/2,rx:S,ry:S,fill:y,stroke:x,strokeWidth:E,width:f,height:d}),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(Ae.exports.RectNode),PE={type:"bpmn:userTask",view:jE,model:SE},cg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),kE=function(g){cg(v,g);function v(c,p){var u=this;return c.id||(c.id="Activity_"+Bo()),u=g.call(this,c,p)||this,u}return v.extendKey="ServiceTaskModel",v}(Ae.exports.RectNodeModel),AE=function(g){cg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,u=c.y,f=c.width,d=c.height,y=c.stroke;return Ae.exports.h("svg",{x:p-f/2+5,y:u-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ae.exports.h("path",{fill:y,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=c.x,u=c.y,f=c.width,d=c.height,y=c.fill,x=c.stroke,E=c.strokeWidth,S=c.radius;return Ae.exports.h("g",{},[Ae.exports.h("rect",{x:p-f/2,y:u-d/2,rx:S,ry:S,fill:y,stroke:x,strokeWidth:E,width:f,height:d}),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(Ae.exports.RectNode),TE={type:"bpmn:serviceTask",view:AE,model:kE},lg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),DE=function(g){lg(v,g);function v(c,p){var u=this;return c.id||(c.id="Flow_"+Bo()),u=g.call(this,c,p)||this,u}return v.extendKey="SequenceFlowModel",v}(Ae.exports.PolylineEdgeModel),ME=function(g){lg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(Ae.exports.PolylineEdge),NE={type:"bpmn:sequenceFlow",view:ME,model:DE},Cv={width:40,height:40},Rv={width:40,height:40},Iv={width:40,height:40},Lv={width:100,height:80},zv={width:100,height:80},CE={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},RE=function(){function g(v){var c=v.lf;c.setTheme(CE),c.register(bE),c.register(OE),c.register(EE),c.register(PE),c.register(TE),c.register(NE),c.setDefaultEdgeType("bpmn:sequenceFlow")}return g.pluginName="BpmnElement",g}(),IE={pluginName:"snapshot",install:function(g){var v=this;this.lf=g,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,g.getSnapshot=function(c,p){v.fileName=c||"logic-flow."+Date.now()+".png";var u=v.getSvgRootElement(g);v.downloadSvg(u,v.fileName,p)},g.getSnapshotBlob=function(c){var p=v.getSvgRootElement(g);return v.getBlob(p,c)},g.getSnapshotBase64=function(c){var p=v.getSvgRootElement(g);return v.getBase64(p,c)}},getSvgRootElement:function(g){var v=this;g.graphModel.nodes.forEach(function(p){var u=p.x,f=p.width,d=p.y,y=p.height,x=u-f/2,E=d-y/2;x<v.offsetX&&(v.offsetX=x-5),E<v.offsetY&&(v.offsetY=E-5)}),g.graphModel.edges.forEach(function(p){p.pointsList&&p.pointsList.forEach(function(u){var f=u.x,d=u.y;f<v.offsetX&&(v.offsetX=f-5),d<v.offsetY&&(v.offsetY=d-5)})});var c=g.container.querySelector("svg");return c},triggerDownload:function(g){var v=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",g),c.setAttribute("target","_blank"),c.dispatchEvent(v)},removeAnchor:function(g){for(var v=g.childNodes,c=g.childNodes&&g.childNodes.length,p=0;p<c;p++){var u=v[p],f=u.classList&&Array.from(u.classList)||[];f.indexOf("lf-anchor")>-1&&(g.removeChild(g.childNodes[p]),c--,p--)}},downloadSvg:function(g,v,c){var p=this;this.getCanvasData(g,c).then(function(u){var f=u.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(f,v)})},getBase64:function(g,v){var c=this;return new Promise(function(p){c.getCanvasData(g,v).then(function(u){var f=u.toDataURL("image/png");p({data:f,width:u.width,height:u.height})})})},getBlob:function(g,v){var c=this;return new Promise(function(p){c.getCanvasData(g,v).then(function(u){u.toBlob(function(f){p({data:f,width:u.width,height:u.height})},"image/png")})})},getCanvasData:function(g,v){var c=this,p=g.cloneNode(!0),u=p.lastChild,f=u.childNodes&&u.childNodes.length;if(f)for(var d=0;d<f;d++){var y=u.childNodes[d],x=y.classList&&Array.from(y.classList);if(x&&x.indexOf("lf-base")<0)u.removeChild(u.childNodes[d]),f--,d--;else{var E=u.childNodes[d];E&&E.childNodes.forEach(function(N){var I=N;c.removeAnchor(I.firstChild)})}}p.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var S=window.devicePixelRatio||1,P=document.createElement("canvas"),k=document.getElementsByClassName("lf-base")[0],O=k.getBoundingClientRect(),z=this.lf.graphModel,Y=z.transformMatrix,q=Y.SCALE_X,G=Y.SCALE_Y,V=Math.ceil(O.width/q),L=Math.ceil(O.height/G);P.style.width=V+"px",P.style.height=L+"px",P.width=V*S+80,P.height=L*S+80;var H=P.getContext("2d");H.scale(S,S),v?(H.fillStyle=v,H.fillRect(0,0,V*S+80,L*S+80)):H.clearRect(0,0,V,L);var $=new Image;return new Promise(function(N){$.onload=function(){H.drawImage($,0,0),N(P)};var I="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(p),C=I.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");$.src=C})}},LE=new Xn([32,32,1]);function Bv(){return LE.next()}var Kt=function(){};Kt.ObjTree=function(){return this};Kt.ObjTree.VERSION="0.23";Kt.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Kt.ObjTree.prototype.attr_prefix="-";Kt.ObjTree.prototype.parseXML=function(g){var v;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(g,"application/xml");if(!p)return;v=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(g),v=c.documentElement);if(!!v)return this.parseDOM(v)};Kt.ObjTree.prototype.parseHTTP=function(g,v,c){var p={};for(var u in v)p[u]=v[u];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,d=c,y=p.onComplete;p.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=f.parseDOM(S.responseXML.documentElement)),d(P,S),y&&y(S)}}else p.asynchronous=!1;var x;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=g;var E=new HTTP.Request(p);E&&(x=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(g,p);E&&(x=E.transport)}if(c)return x;if(x&&x.responseXML&&x.responseXML.documentElement)return this.parseDOM(x.responseXML.documentElement)};Kt.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var c=this.parseElement(g);if(this.__force_array[g.nodeName]&&(c=[c]),g.nodeType!=11){var p={};p[g.nodeName]=c,c=p}return c}};Kt.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var v=g.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:g.nodeValue}var c,p={};if(g.attributes&&g.attributes.length){c={};for(var u=0;u<g.attributes.length;u++){var f=g.attributes[u].nodeName;if(typeof f=="string"){var d=g.attributes[u].nodeValue;!d||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],d))}}}if(g.childNodes&&g.childNodes.length){var y=!0;c&&(y=!1);for(var u=0;u<g.childNodes.length&&y;u++){var x=g.childNodes[u].nodeType;x==3||x==4||(y=!1)}if(y){c||(c="");for(var u=0;u<g.childNodes.length;u++)c+=g.childNodes[u].nodeValue}else{c||(c={});for(var u=0;u<g.childNodes.length;u++){var f=g.childNodes[u].nodeName;if(typeof f=="string"){var d=this.parseElement(g.childNodes[u]);!d||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],d))}}}}return c}};Kt.ObjTree.prototype.addNode=function(g,v,c,p){this.__force_array[v]?(c==1&&(g[v]=[]),g[v][g[v].length]=p):c==1?g[v]=p:c==2?g[v]=[g[v],p]:g[v][g[v].length]=p};Kt.ObjTree.prototype.writeXML=function(g){var v=this.hash_to_xml(null,g);return this.xmlDecl+v};Kt.ObjTree.prototype.hash_to_xml=function(g,v){var c=[],p=[];for(var u in v)if(!!v.hasOwnProperty(u)){var f=v[u];u.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+u+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(u,f):typeof f=="object"?c[c.length]=this.hash_to_xml(u,f):c[c.length]=this.scalar_to_xml(u,f):p[p.length]=" "+u.substring(1)+'="'+this.xml_escape(f)+'"'}var d=p.join(""),y=c.join("");return typeof g=="undefined"||g==null||(c.length>0?y.match(/\n/)?y="<"+g+d+`>
`+y+"</"+g+`>
`:y="<"+g+d+">"+y+"</"+g+`>
`:y="<"+g+d+` />
`),y};Kt.ObjTree.prototype.array_to_xml=function(g,v){for(var c=[],p=0;p<v.length;p++){var u=v[p];typeof u=="undefined"||u==null?c[c.length]="<"+g+" />":typeof u=="object"&&u.constructor==Array?c[c.length]=this.array_to_xml(g,u):typeof u=="object"?c[c.length]=this.hash_to_xml(g,u):c[c.length]=this.scalar_to_xml(g,u)}return c.join("")};Kt.ObjTree.prototype.scalar_to_xml=function(g,v){return g=="#text"?this.xml_escape(v):"<"+g+">"+this.xml_escape(v)+"</"+g+`>
`};Kt.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var fu=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f},Wn;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(Wn||(Wn={}));var fg=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Pc(g){var v={};return Object.entries(g).forEach(function(c){var p=fu(c,2),u=p[0],f=p[1];typeof f!="object"?u.indexOf("-")===0?v[u]=f:v["-"+u]=f:v[u]=Pc(f)}),v}function Hc(g){var v={};return Object.entries(g).forEach(function(c){var p=fu(c,2),u=p[0],f=p[1];typeof f=="string"?u.indexOf("-")===0?v[u.substr(1)]=f:v[u]=f:typeof f=="object"?v[u]=Hc(f):v[u]=f}),v}function zE(g,v){var c=new Map;v.nodes.forEach(function(u){var f,d={"-id":u.id};if(!((f=u.text)===null||f===void 0)&&f.value&&(d["-name"]=u.text.value),u.properties){var y=Pc(u.properties);Object.assign(d,y)}c.set(u.id,d),g[u.type]?Array.isArray(g[u.type])?g[u.type].push(d):g[u.type]=[g[u.type],d]:g[u.type]=d});var p=v.edges.map(function(u){var f,d,y=c.get(u.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(u.id):y["bpmn:incoming"]=[y["bpmn:incoming"],u.id]:y["bpmn:incoming"]=u.id;var x=c.get(u.sourceNodeId);x["bpmn:outgoing"]?Array.isArray(x["bpmn:outgoing"])?x["bpmn:outgoing"].push(u.id):x["bpmn:outgoing"]=[x["bpmn:outgoing"],u.id]:x["bpmn:outgoing"]=u.id;var E={"-id":u.id,"-sourceRef":u.sourceNodeId,"-targetRef":u.targetNodeId};if(!((f=u.text)===null||f===void 0)&&f.value&&(E["-name"]=(d=u.text)===null||d===void 0?void 0:d.value),u.properties){var S=Pc(u.properties);Object.assign(E,S)}return E});g[Wn.FLOW]=p}function BE(g,v){g["bpmndi:BPMNEdge"]=v.edges.map(function(c){var p,u=c.id,f=c.pointsList.map(function(y){var x=y.x,E=y.y;return{"-x":x,"-y":E}}),d={"-id":u+"_di","-bpmnElement":u,"di:waypoint":f};return!((p=c.text)===null||p===void 0)&&p.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),d}),g["bpmndi:BPMNShape"]=v.nodes.map(function(c){var p,u=c.id,f=100,d=80,y=c.x,x=c.y,E=Qr.shapeConfigMap.get(c.type);E&&(f=E.width,d=E.height),y-=f/2,x-=d/2;var S={"-id":u+"_di","-bpmnElement":u,"dc:Bounds":{"-x":y,"-y":x,"-width":f,"-height":d}};return!((p=c.text)===null||p===void 0)&&p.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),S})}function FE(g){var v=[],c=[],p=g["bpmn:definitions"];if(p){var u=p["bpmn:process"];Object.keys(u).forEach(function(f){if(f.indexOf("bpmn:")===0){var d=u[f];if(f===Wn.FLOW){var y=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=UE(d,y)}else{var x=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(HE(d,x,f))}}})}return{nodes:v,edges:c}}function HE(g,v,c){var p=[];if(Array.isArray(g))g.forEach(function(d){var y;Array.isArray(v)?y=v.find(function(E){return E["-bpmnElement"]===d["-id"]}):y=v;var x=Fv(y,c,d);p.push(x)});else{var u=void 0;Array.isArray(v)?u=v.find(function(d){return d["-bpmnElement"]===g["-id"]}):u=v;var f=Fv(u,c,g);p.push(f)}return p}function Fv(g,v,c){var p=Number(g["dc:Bounds"]["-x"]),u=Number(g["dc:Bounds"]["-y"]),f=c["-name"],d=Qr.shapeConfigMap.get(v);d&&(p+=d.width/2,u+=d.height/2);var y;Object.entries(c).forEach(function(P){var k=fu(P,2),O=k[0],z=k[1];fg.indexOf(O)===-1&&(y||(y={}),y[O]=z)}),y&&(y=Hc(y));var x;if(f&&(x={x:p,y:u,value:f},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=g["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(E["-x"])+Number(E["-width"])/2,x.y=Number(E["-y"])+Number(E["-height"])/2}var S={id:g["-bpmnElement"],type:v,x:p,y:u,properties:y};return x&&(S.text=x),S}function UE(g,v){var c=[];if(Array.isArray(g))g.forEach(function(u){var f;Array.isArray(v)?f=v.find(function(d){return d["-bpmnElement"]===u["-id"]}):f=v,c.push(Hv(f,u))});else{var p=void 0;Array.isArray(v)?p=v.find(function(u){return u["-bpmnElement"]===g["-id"]}):p=v,c.push(Hv(p,g))}return c}function Hv(g,v){var c,p=v["-name"];if(p){var u=g["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(x){f<x.length&&(f=x.length)}),c={value:p,x:Number(u["-x"])+f*10/2,y:Number(u["-y"])+7}}var d;Object.entries(v).forEach(function(x){var E=fu(x,2),S=E[0],P=E[1];fg.indexOf(S)===-1&&(d||(d={}),d[S]=P)}),d&&(d=Hc(d));var y={id:v["-id"],type:Wn.FLOW,pointsList:g["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:d};return c&&(y.text=c),y}var Qr={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,v){this.shapeConfigMap.set(g,v)},adapterOut:function(g){var v={"-id":"Process_"+Bv(),"-isExecutable":"false"};zE(v,g);var c={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};BE(c,g);var p={"bpmn:definitions":{"-id":"Definitions_"+Bv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(g){if(g)return FE(g)}};Qr.shapeConfigMap.set(Wn.START,{width:Cv.width,height:Cv.height});Qr.shapeConfigMap.set(Wn.END,{width:Rv.width,height:Rv.height});Qr.shapeConfigMap.set(Wn.GATEWAY,{width:Iv.width,height:Iv.height});Qr.shapeConfigMap.set(Wn.SYSTEM,{width:Lv.width,height:Lv.height});Qr.shapeConfigMap.set(Wn.USER,{width:zv.width,height:zv.height});var Uv=globalThis&&globalThis.__assign||function(){return Uv=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Uv.apply(this,arguments)},Vv;(function(g){g[g.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",g[g.START_EVENT=2]="START_EVENT",g[g.END_EVENT=3]="END_EVENT",g[g.USER_TASK=4]="USER_TASK",g[g.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(Vv||(Vv={}));var Xv;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(Xv||(Xv={}));var VE=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var XE=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var WE=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f},GE=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(WE(arguments[v]));return g},Di="lf:defaultNodeMenu",Mi="lf:defaultEdgeMenu",Ni="lf:defaultGraphMenu",Wv="lf:defaultSelectionMenu",YE=function(){function g(v){var c=this,p=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(u){c.resetMenuItem(u)},this.lf.addMenuConfig=function(u){c.addMenuItem(u)},this.lf.setMenuByType=function(u){c.setMenuByType(u)}}return g.prototype.init=function(){var v=this,c=[{text:"\u5220\u9664",callback:function(f){v.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){v.lf.graphModel.setTextEditable(f.id)}},{text:"\u590D\u5236",callback:function(f){v.lf.cloneNode(f.id)}}];this.menuTypeMap.set(Di,c);var p=[{text:"\u5220\u9664",callback:function(f){v.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){v.lf.graphModel.setTextEditable(f.id)}}];this.menuTypeMap.set(Mi,p),this.menuTypeMap.set(Ni,[]);var u=[{text:"\u5220\u9664",callback:function(f){v.lf.clearSelectElements(),f.edges.forEach(function(d){return v.lf.deleteEdge(d.id)}),f.nodes.forEach(function(d){return v.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(Wv,u)},g.prototype.render=function(v,c){var p=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(u){u.stopPropagation();for(var f=u.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(u){var f=u.data,d=u.position,y=d.domOverlayPosition,x=y.x,E=y.y,S=f.id,P=p.lf.graphModel.getNodeModel(S),k=[],O=p.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?k=P.menu:O?k=O:k=p.menuTypeMap.get(Di),p.__currentData=f,p.showMenu(x,E,k)}),this.lf.on("edge:contextmenu",function(u){var f=u.data,d=u.position,y=d.domOverlayPosition,x=y.x,E=y.y,S=f.id,P=p.lf.graphModel.getEdgeModel(S),k=[],O=p.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?k=P.menu:O?k=O:k=p.menuTypeMap.get(Mi),p.__currentData=f,p.showMenu(x,E,k)}),this.lf.on("blank:contextmenu",function(u){var f=u.position,d=p.menuTypeMap.get(Ni),y=f.domOverlayPosition,x=y.x,E=y.y;p.showMenu(x,E,d)}),this.lf.on("selection:contextmenu",function(u){var f=u.data,d=u.position,y=p.menuTypeMap.get(Wv),x=d.domOverlayPosition,E=x.x,S=x.y;p.__currentData=f,p.showMenu(E,S,y)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(v,c,p){if(!(!p||!p.length)){var u=this.__menuDOM;u.innerHTML="",u.append.apply(u,GE(this.__getMenuDom(p))),u.children.length&&(u.style.display="block",u.style.top=c+"px",u.style.left=v+"px")}},g.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},g.prototype.__getMenuDom=function(v){var c=[];return v&&v.length>0&&v.forEach(function(p){var u=document.createElement("li");if(p.className?u.className="lf-menu-item "+p.className:u.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",u.appendChild(f)}var d=document.createElement("span");d.className="lf-menu-item-text",p.text&&(d.innerText=p.text),u.appendChild(d),u.onclickCallback=p.callback,c.push(u)}),c},g.prototype.resetMenuItem=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Di,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Mi,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Ni,v.graphMenu?v.graphMenu:[]))},g.prototype.addMenuItem=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var c=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,c.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var c=this.menuTypeMap.get(Mi);this.menuTypeMap.set(Mi,c.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var c=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,c.concat(v.graphMenu))}}},g.prototype.changeMenuItem=function(v,c){if(v==="add")this.addMenuItem(c);else if(v==="reset")this.resetMenuItem(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="Menu",g}();globalThis&&globalThis.__values;var pg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ci=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f};(function(g){pg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getEdge=function(){for(var c=this.getAttributes(),p=c.points,u=c.strokeWidth,f=c.stroke,d=c.strokeDashArray,y=p.split(" ").map(function(X){return X.split(",").map(function(K){return Number(K)})}),x=Ci(y[0],2),E=x[0],S=x[1],P="M"+E+" "+S,k=5,O=1;O<y.length-1;O++){var z=Ci(y[O-1],2),Y=z[0],q=z[1],G=Ci(y[O],2),V=G[0],L=G[1],H=Ci(y[O+1],2),$=H[0],N=H[1];if(V===Y&&L!==q){var I=L>q?L-k:L+k;P=P+" L "+V+" "+I}if(L===q&&V!==Y){var C=V>Y?V-k:V+k;P=P+" L "+C+" "+L}if(P=P+" Q "+V+" "+L,V===$&&L!==N){var I=L>N?L-k:L+k;P=P+" "+V+" "+I}if(L===N&&V!==$){var C=V>$?V-k:V+k;P=P+" "+C+" "+L}}var F=Ci(y[y.length-1],2),B=F[0],R=F[1];return P=P+" L "+B+" "+R,Ae.exports.h("path",{d:P,strokeWidth:u,stroke:f,fill:"none",strokeDashArray:d})},v.extendKey="CurvedEdge",v})(Ae.exports.PolylineEdge);(function(g){pg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v})(Ae.exports.PolylineEdgeModel);var hg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),$E=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f},KE=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat($E(arguments[v]));return g};(function(g){hg(v,g);function v(){var c=g!==null&&g.apply(this,arguments)||this;return c.isGroup=!0,c.children=new Set,c.isRestrict=!0,c}return v.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},v.prototype.setIsRestrict=function(c){this.isRestrict=c},v.prototype.isInRange=function(c){var p=c.x1,u=c.y1,f=c.x2,d=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&u>=this.y-this.height/2&&d<=this.y+this.height/2},v.prototype.setAllowAppendChild=function(c){c?this.stroke="red":this.stroke="rgb(24, 125, 255)"},v.prototype.addChild=function(c){this.children.add(c)},v.prototype.removeChild=function(c){this.children.delete(c)},v.prototype.getData=function(){var c=g.prototype.getData.call(this);return c.children=KE(this.children),c},v})(Ae.exports.RectNodeModel);(function(g){hg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.toFront=function(){},v.prototype.getShapeStyle=function(){var c=g.prototype.getShapeStyle.call(this);return c.radius=0,c},v})(Ae.exports.RectNode);var qE=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var Uc,vt,dg,Ii,yg,Gv,vg={},gg=[],ZE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function kr(g,v){for(var c in v)g[c]=v[c];return g}function bg(g){var v=g.parentNode;v&&v.removeChild(g)}function Li(g,v,c){var p,u,f,d={};for(f in v)f=="key"?p=v[f]:f=="ref"?u=v[f]:d[f]=v[f];if(arguments.length>2&&(d.children=arguments.length>3?Uc.call(arguments,2):c),typeof g=="function"&&g.defaultProps!=null)for(f in g.defaultProps)d[f]===void 0&&(d[f]=g.defaultProps[f]);return ru(g,d,p,u,null)}function ru(g,v,c,p,u){var f={type:g,props:v,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u==null?++dg:u};return u==null&&vt.vnode!=null&&vt.vnode(f),f}function Vc(g){return g.children}function Lo(g,v){this.props=g,this.context=v}function zo(g,v){if(v==null)return g.__?zo(g.__,g.__.__k.indexOf(g)+1):null;for(var c;v<g.__k.length;v++)if((c=g.__k[v])!=null&&c.__e!=null)return c.__e;return typeof g.type=="function"?zo(g):null}function mg(g){var v,c;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,v=0;v<g.__k.length;v++)if((c=g.__k[v])!=null&&c.__e!=null){g.__e=g.__c.base=c.__e;break}return mg(g)}}function Yv(g){(!g.__d&&(g.__d=!0)&&Ii.push(g)&&!au.__r++||Gv!==vt.debounceRendering)&&((Gv=vt.debounceRendering)||yg)(au)}function au(){for(var g;au.__r=Ii.length;)g=Ii.sort(function(v,c){return v.__v.__b-c.__v.__b}),Ii=[],g.some(function(v){var c,p,u,f,d,y;v.__d&&(d=(f=(c=v).__v).__e,(y=c.__P)&&(p=[],(u=kr({},f)).__v=f.__v+1,xg(y,f,u,c.__n,y.ownerSVGElement!==void 0,f.__h!=null?[d]:null,p,d==null?zo(f):d,f.__h),QE(p,f),f.__e!=d&&mg(f)))})}function _g(g,v,c,p,u,f,d,y,x,E){var S,P,k,O,z,Y,q,G=p&&p.__k||gg,V=G.length;for(c.__k=[],S=0;S<v.length;S++)if((O=c.__k[S]=(O=v[S])==null||typeof O=="boolean"?null:typeof O=="string"||typeof O=="number"||typeof O=="bigint"?ru(null,O,null,null,O):Array.isArray(O)?ru(Vc,{children:O},null,null,null):O.__b>0?ru(O.type,O.props,O.key,null,O.__v):O)!=null){if(O.__=c,O.__b=c.__b+1,(k=G[S])===null||k&&O.key==k.key&&O.type===k.type)G[S]=void 0;else for(P=0;P<V;P++){if((k=G[P])&&O.key==k.key&&O.type===k.type){G[P]=void 0;break}k=null}xg(g,O,k=k||vg,u,f,d,y,x,E),z=O.__e,(P=O.ref)&&k.ref!=P&&(q||(q=[]),k.ref&&q.push(k.ref,null,O),q.push(P,O.__c||z,O)),z!=null?(Y==null&&(Y=z),typeof O.type=="function"&&O.__k===k.__k?O.__d=x=Og(O,x,g):x=wg(g,O,k,G,z,x),typeof c.type=="function"&&(c.__d=x)):x&&k.__e==x&&x.parentNode!=g&&(x=zo(k))}for(c.__e=Y,S=V;S--;)G[S]!=null&&(typeof c.type=="function"&&G[S].__e!=null&&G[S].__e==c.__d&&(c.__d=zo(p,S+1)),Sg(G[S],G[S]));if(q)for(S=0;S<q.length;S++)Eg(q[S],q[++S],q[++S])}function Og(g,v,c){for(var p,u=g.__k,f=0;u&&f<u.length;f++)(p=u[f])&&(p.__=g,v=typeof p.type=="function"?Og(p,v,c):wg(c,p,p,u,p.__e,v));return v}function wg(g,v,c,p,u,f){var d,y,x;if(v.__d!==void 0)d=v.__d,v.__d=void 0;else if(c==null||u!=f||u.parentNode==null)e:if(f==null||f.parentNode!==g)g.appendChild(u),d=null;else{for(y=f,x=0;(y=y.nextSibling)&&x<p.length;x+=2)if(y==u)break e;g.insertBefore(u,f),d=f}return d!==void 0?d:u.nextSibling}function JE(g,v,c,p,u){var f;for(f in c)f==="children"||f==="key"||f in v||uu(g,f,null,c[f],p);for(f in v)u&&typeof v[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===v[f]||uu(g,f,v[f],c[f],p)}function $v(g,v,c){v[0]==="-"?g.setProperty(v,c):g[v]=c==null?"":typeof c!="number"||ZE.test(v)?c:c+"px"}function uu(g,v,c,p,u){var f;e:if(v==="style")if(typeof c=="string")g.style.cssText=c;else{if(typeof p=="string"&&(g.style.cssText=p=""),p)for(v in p)c&&v in c||$v(g.style,v,"");if(c)for(v in c)p&&c[v]===p[v]||$v(g.style,v,c[v])}else if(v[0]==="o"&&v[1]==="n")f=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in g?v.toLowerCase().slice(2):v.slice(2),g.l||(g.l={}),g.l[v+f]=c,c?p||g.addEventListener(v,f?qv:Kv,f):g.removeEventListener(v,f?qv:Kv,f);else if(v!=="dangerouslySetInnerHTML"){if(u)v=v.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in g)try{g[v]=c==null?"":c;break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||v[0]==="a"&&v[1]==="r")?g.setAttribute(v,c):g.removeAttribute(v))}}function Kv(g){this.l[g.type+!1](vt.event?vt.event(g):g)}function qv(g){this.l[g.type+!0](vt.event?vt.event(g):g)}function xg(g,v,c,p,u,f,d,y,x){var E,S,P,k,O,z,Y,q,G,V,L,H=v.type;if(v.constructor!==void 0)return null;c.__h!=null&&(x=c.__h,y=v.__e=c.__e,v.__h=null,f=[y]),(E=vt.__b)&&E(v);try{e:if(typeof H=="function"){if(q=v.props,G=(E=H.contextType)&&p[E.__c],V=E?G?G.props.value:E.__:p,c.__c?Y=(S=v.__c=c.__c).__=S.__E:("prototype"in H&&H.prototype.render?v.__c=S=new H(q,V):(v.__c=S=new Lo(q,V),S.constructor=H,S.render=tS),G&&G.sub(S),S.props=q,S.state||(S.state={}),S.context=V,S.__n=p,P=S.__d=!0,S.__h=[]),S.__s==null&&(S.__s=S.state),H.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=kr({},S.__s)),kr(S.__s,H.getDerivedStateFromProps(q,S.__s))),k=S.props,O=S.state,P)H.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(H.getDerivedStateFromProps==null&&q!==k&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(q,V),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(q,S.__s,V)===!1||v.__v===c.__v){S.props=q,S.state=S.__s,v.__v!==c.__v&&(S.__d=!1),S.__v=v,v.__e=c.__e,v.__k=c.__k,v.__k.forEach(function($){$&&($.__=v)}),S.__h.length&&d.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(q,S.__s,V),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(k,O,z)})}S.context=V,S.props=q,S.state=S.__s,(E=vt.__r)&&E(v),S.__d=!1,S.__v=v,S.__P=g,E=S.render(S.props,S.state,S.context),S.state=S.__s,S.getChildContext!=null&&(p=kr(kr({},p),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(z=S.getSnapshotBeforeUpdate(k,O)),L=E!=null&&E.type===Vc&&E.key==null?E.props.children:E,_g(g,Array.isArray(L)?L:[L],v,c,p,u,f,d,y,x),S.base=v.__e,v.__h=null,S.__h.length&&d.push(S),Y&&(S.__E=S.__=null),S.__e=!1}else f==null&&v.__v===c.__v?(v.__k=c.__k,v.__e=c.__e):v.__e=eS(c.__e,v,c,p,u,f,d,x);(E=vt.diffed)&&E(v)}catch($){v.__v=null,(x||f!=null)&&(v.__e=y,v.__h=!!x,f[f.indexOf(y)]=null),vt.__e($,v,c)}}function QE(g,v){vt.__c&&vt.__c(v,g),g.some(function(c){try{g=c.__h,c.__h=[],g.some(function(p){p.call(c)})}catch(p){vt.__e(p,c.__v)}})}function eS(g,v,c,p,u,f,d,y){var x,E,S,P=c.props,k=v.props,O=v.type,z=0;if(O==="svg"&&(u=!0),f!=null){for(;z<f.length;z++)if((x=f[z])&&"setAttribute"in x==!!O&&(O?x.localName===O:x.nodeType===3)){g=x,f[z]=null;break}}if(g==null){if(O===null)return document.createTextNode(k);g=u?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,k.is&&k),f=null,y=!1}if(O===null)P===k||y&&g.data===k||(g.data=k);else{if(f=f&&Uc.call(g.childNodes),E=(P=c.props||vg).dangerouslySetInnerHTML,S=k.dangerouslySetInnerHTML,!y){if(f!=null)for(P={},z=0;z<g.attributes.length;z++)P[g.attributes[z].name]=g.attributes[z].value;(S||E)&&(S&&(E&&S.__html==E.__html||S.__html===g.innerHTML)||(g.innerHTML=S&&S.__html||""))}if(JE(g,k,P,u,y),S)v.__k=[];else if(z=v.props.children,_g(g,Array.isArray(z)?z:[z],v,c,p,u&&O!=="foreignObject",f,d,f?f[0]:c.__k&&zo(c,0),y),f!=null)for(z=f.length;z--;)f[z]!=null&&bg(f[z]);y||("value"in k&&(z=k.value)!==void 0&&(z!==g.value||O==="progress"&&!z||O==="option"&&z!==P.value)&&uu(g,"value",z,P.value,!1),"checked"in k&&(z=k.checked)!==void 0&&z!==g.checked&&uu(g,"checked",z,P.checked,!1))}return g}function Eg(g,v,c){try{typeof g=="function"?g(v):g.current=v}catch(p){vt.__e(p,c)}}function Sg(g,v,c){var p,u;if(vt.unmount&&vt.unmount(g),(p=g.ref)&&(p.current&&p.current!==g.__e||Eg(p,null,v)),(p=g.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){vt.__e(f,v)}p.base=p.__P=null}if(p=g.__k)for(u=0;u<p.length;u++)p[u]&&Sg(p[u],v,typeof g.type!="function");c||g.__e==null||bg(g.__e),g.__e=g.__d=void 0}function tS(g,v,c){return this.constructor(g,c)}Uc=gg.slice,vt={__e:function(g,v){for(var c,p,u;v=v.__;)if((c=v.__c)&&!c.__)try{if((p=c.constructor)&&p.getDerivedStateFromError!=null&&(c.setState(p.getDerivedStateFromError(g)),u=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(g),u=c.__d),u)return c.__E=c}catch(f){g=f}throw g}},dg=0,Lo.prototype.setState=function(g,v){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kr({},this.state),typeof g=="function"&&(g=g(kr({},c),this.props)),g&&kr(c,g),g!=null&&this.__v&&(v&&this.__h.push(v),Yv(this))},Lo.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),Yv(this))},Lo.prototype.render=Vc,Ii=[],yg=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,au.__r=0;var zi=globalThis&&globalThis.__assign||function(){return zi=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},zi.apply(this,arguments)};function Xc(g){var v=g.x,c=g.y,p=g.width,u=g.height,f=g.radius,d=g.className,y=v-p/2,x=c-u/2,E=zi(zi({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},g),{x:y,y:x});return Ae.exports.h("rect",zi({},E))}Xc.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Bi;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Bi||(Bi={}));function ou(g){var v=g.x,c=g.y,p=g.width,u=g.height;return{minX:v-p/2,minY:c-u/2,maxX:v+p/2,maxY:c+u/2}}function Zv(g){var v=ou(g),c=g.radius,p=v.minX,u=v.minY,f=v.maxX,d=v.maxY;return[{x:p+c,y:u+c},{x:f-c,y:u+c},{x:f-c,y:d-c},{x:p+c,y:d-c}]}function Jv(g){var v=g.point,c=g.beforeNode,p=g.afterNode,u=v.x,f=v.y,d={x:u,y:f},y=c.radius,x=ou(c),E=ou(p);if(u===x.minX){d.x=E.minX;var S=(f-c.y)/(c.height/2-y);S?d.y=p.y+(p.height/2-y)*S:d.y=p.y}else if(u===x.maxX){d.x=E.maxX;var S=(f-c.y)/(c.height/2-y);S?d.y=p.y+(p.height/2-y)*S:d.y=p.y}else if(f===x.minY){d.y=E.minY;var S=(u-c.x)/(c.width/2-y);S?d.x=p.x+(p.width/2-y)*S:d.x=p.x}else if(f===x.maxY){d.y=E.maxY;var S=(u-c.x)/(c.width/2-y);S?d.x=p.x+(p.width/2-y)*S:d.x=p.x}else{var P=Zv(c),k=Zv(p),O=ou(c),z=O.minX,Y=O.minY,q=O.maxX,G=O.maxY,V=-1;if(u-z<y&&f-Y<y?V=0:q-u<y&&f-Y<y?V=1:q-u<y&&G-f<y?V=2:u-z<y&&Y-f<y&&(V=3),V>-1){var L=Math.atan2(f-P[V].y,u-P[V].x);d.x=k[V].x+y*Math.cos(L),d.y=k[V].y+y*Math.sin(L)}}return d}function Qv(g){var v=g.point,c=g.beforeNode,p=g.afterNode,u=p.rx,f=p.ry,d=v,y=(v.y-c.y)/(v.x-c.x),x=u,E=f,S,P;return y>=1/0?(S=0,P=E):y<=-1/0?(S=0,P=-E):v.x-c.x>0?(S=x*E/Math.sqrt(E*E+x*x*y*y),P=x*E*y/Math.sqrt(E*E+x*x*y*y)):(S=-(x*E)/Math.sqrt(E*E+x*x*y*y),P=-(x*E*y)/Math.sqrt(E*E+x*x*y*y)),d={x:S+p.x,y:P+p.y},d}function eg(g){var v=g.point,c=g.beforeNode,p=g.afterNode,u=v,f,d,y=v.x-c.x,x=v.y-c.y,E=c.rx,S=c.ry,P=Math.sqrt((E-Math.abs(y))*(E-Math.abs(y))+x*x)/Math.sqrt(E*E+S*S),k=p.rx,O=p.ry,z=Math.sqrt((k*k+O*O)*P*P*(k*k/(k*k+O*O))),Y=z*(O/k);return y>=0?f=k-z:f=z-k,x>0?d=Y:d=-Y,u={x:f+p.x,y:d+p.y},u}var nS=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Jr=globalThis&&globalThis.__assign||function(){return Jr=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Jr.apply(this,arguments)},rS=Ae.exports.LogicFlowUtil.createDrag,oS=function(g){nS(v,g);function v(c){var p=g.call(this)||this;p.updatePosition=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.x,P=E.y;p.nodeModel.x=S+y/2,p.nodeModel.y=P+x/2,p.nodeModel.moveText(y/2,x/2)},p.getResize=function(d){var y=d.index,x=d.deltaX,E=d.deltaY,S=d.width,P=d.height,k=d.pct,O=k===void 0?1:k,z={width:S,height:P};switch(y){case 0:z.width=S-x*O,z.height=P-E*O;break;case 1:z.width=S+x*O,z.height=P-E*O;break;case 2:z.width=S+x,z.height=P+E*O;break;case 3:z.width=S-x*O,z.height=P+E*O;break}return z},p.updateRect=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.id,P=E.x,k=E.y,O=E.width,z=E.height,Y=E.radius,q=p.index,G=p.getResize({index:q,deltaX:y,deltaY:x,width:O,height:z,pct:1}),V=p.nodeModel,L=V.minWidth,H=V.minHeight,$=V.maxWidth,N=V.maxHeight;if(!(G.width<L||G.width>$||G.height<H||G.height>N)){p.updatePosition({deltaX:y,deltaY:x}),p.nodeModel.width=G.width,p.nodeModel.height=G.height,p.nodeModel.setProperties({nodeSize:{width:G.width,height:G.height}});var I=p.getNodeEdges(S),C={x:P,y:k,width:O,height:z,radius:Y},F={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:Y},B={point:"",beforeNode:C,afterNode:F},R;I.sourceEdges.forEach(function(X){B.point=X.startPoint,R=Jv(B),X.updateStartPoint(R)}),I.targetEdges.forEach(function(X){B.point=X.endPoint,R=Jv(B),X.updateEndPoint(R)}),p.eventEmit({beforeNode:C,afterNode:F})}},p.updateEllipse=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.id,P=E.rx,k=E.ry,O=E.x,z=E.y,Y=p.index,q=P,G=k,V=p.getResize({index:Y,deltaX:y,deltaY:x,width:q,height:G,pct:1/2}),L=p.nodeModel,H=L.minWidth,$=L.minHeight,N=L.maxWidth,I=L.maxHeight;if(!(V.width<H/2||V.width>N/2||V.height<$/2||V.height>I/2)){p.updatePosition({deltaX:y,deltaY:x}),p.nodeModel.rx=V.width,p.nodeModel.ry=V.height,p.nodeModel.setProperties({nodeSize:{rx:V.width,ry:V.height}});var C=p.getNodeEdges(S),F={x:O,y:z},B={rx:V.width,ry:V.height,x:p.nodeModel.x,y:p.nodeModel.y},R={point:{},beforeNode:F,afterNode:B},X;C.sourceEdges.forEach(function(K){R.point=K.startPoint,X=Qv(R),K.updateStartPoint(X)}),C.targetEdges.forEach(function(K){R.point=K.endPoint,X=Qv(R),K.updateEndPoint(X)}),p.eventEmit({beforeNode:Jr(Jr({},F),{rx:P,ry:k}),afterNode:B})}},p.updateDiamond=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.id,P=E.rx,k=E.ry,O=E.x,z=E.y,Y=p.index,q=P,G=k,V=p.getResize({index:Y,deltaX:y,deltaY:x,width:q,height:G,pct:1/2}),L=Dc.sizeRange.ellipse,H=L.minRx,$=L.minRy,N=L.maxRx,I=L.maxRy;if(!(V.width<H||V.width>N||V.height<$||V.height>I)){p.updatePosition({deltaX:y,deltaY:x}),p.nodeModel.rx=V.width,p.nodeModel.ry=V.height,p.nodeModel.setProperties({nodeSize:{rx:V.width,ry:V.height}});var C={x:O,y:z,rx:P,ry:k},F={rx:V.width,ry:V.height,x:p.nodeModel.x,y:p.nodeModel.y},B={point:{},beforeNode:C,afterNode:F},R,X=p.getNodeEdges(S);X.sourceEdges.forEach(function(K){B.point=K.startPoint,R=eg(B),K.updateStartPoint(R)}),X.targetEdges.forEach(function(K){B.point=K.endPoint,R=eg(B),K.updateEndPoint(R)}),p.eventEmit({beforeNode:C,afterNode:F})}},p.eventEmit=function(d){var y=d.beforeNode,x=d.afterNode,E=p.nodeModel,S=E.id,P=E.modelType,k=E.type,O=Jr({id:S,modelType:P,type:k},y),z=Jr({id:S,modelType:P,type:k},x);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:O,newNodeSize:z})},p.onDraging=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel.modelType;E===Bi.RECT_NODE?p.updateRect({deltaX:y,deltaY:x}):E===Bi.ELLIPSE_NODE?p.updateEllipse({deltaX:y,deltaY:x}):E===Bi.DIAMOND_NODE&&p.updateDiamond({deltaX:y,deltaY:x})},p.index=c.index,p.nodeModel=c.nodeModel,p.graphModel=c.graphModel;var u=p.graphModel.gridSize,f=2;return u>1&&(f=2*u),p.state={},p.dragHandler=rS({onDraging:p.onDraging,step:f}),p}return v.prototype.getNodeEdges=function(c){for(var p=this.graphModel,u=p.edges,f=[],d=[],y=0;y<u.length;y++){var x=u[y];x.sourceNodeId===c?f.push(x):u[y].targetNodeId===c&&d.push(x)}return{sourceEdges:f,targetEdges:d}},v.prototype.render=function(){var c=this.props,p=c.x,u=c.y,f=c.style,d=c.index,y=Dc.style.controlPoint,x=y.width,E=y.height,S=y.fill,P=y.stroke;return Li("g",{className:"lf-resize-control-"+d},Li(Xc,Jr({className:"lf-node-control"},{x:p,y:u},f,{width:x,height:E,fill:S,stroke:P,onMouseDown:this.dragHandler})))},v}(Lo),iS=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),kc=globalThis&&globalThis.__assign||function(){return kc=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},kc.apply(this,arguments)},Wc=function(g){iS(v,g);function v(){var c=g.call(this)||this;return c.state={},c}return v.prototype.getResizeControl=function(){var c=this.props,p=c.x,u=c.y,f=c.width,d=c.height,y=c.nodeModel,x=c.graphModel,E={minX:p-f/2,minY:u-d/2,maxX:p+f/2,maxY:u+d/2},S=E.minX,P=E.minY,k=E.maxX,O=E.maxY,z=[{x:S,y:P},{x:k,y:P},{x:k,y:O},{x:S,y:O}];return z.map(function(Y,q){return Li(oS,kc({index:q},Y,{nodeModel:y,graphModel:x}))})},v.prototype.getGroupSolid=function(){var c=this.props,p=c.x,u=c.y,f=c.width,d=c.height,y=Dc.style.outline,x=y.stroke,E=y.strokeWidth,S=y.strokeDasharray;return Li(Xc,{fill:"none",x:p,y:u,width:f,height:d,stroke:x,strokeWidth:E,strokeDasharray:S})},v.prototype.render=function(){return Li("g",{className:"lf-resize-control"},this.getResizeControl())},v}(Lo),jg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ac=globalThis&&globalThis.__assign||function(){return Ac=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Ac.apply(this,arguments)},aS=function(g){jg(v,g);function v(){var c=g!==null&&g.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return v.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.width=c.width,this.height=c.height)},v}(Ae.exports.RectNodeModel),uS=function(g){jg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(c){var p=this.props,u=p.model,f=p.graphModel;return Ae.exports.h(Wc,Ac({},c,{nodeModel:u,graphModel:f}))},v.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ae.exports.h("g",null,g.prototype.getShape.call(this),p?this.getControlGroup(c):"")},v}(Ae.exports.RectNode),bc={type:"rect",view:uS,model:aS},su=globalThis&&globalThis.__assign||function(){return su=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},su.apply(this,arguments)};function sS(g){var v=g.x,c=v===void 0?0:v,p=g.y,u=p===void 0?0:p,f=g.rx,d=f===void 0?4:f,y=g.ry,x=y===void 0?4:y,E=su({cx:c,cy:u,rx:d,ry:x,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},g);return Ae.exports.h("ellipse",su({},E))}var Pg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),cu=globalThis&&globalThis.__assign||function(){return cu=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},cu.apply(this,arguments)},cS=function(g){Pg(v,g);function v(){var c=g!==null&&g.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return v.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},v}(Ae.exports.EllipseNodeModel),lS=function(g){Pg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(c){var p=this.props,u=p.model,f=p.graphModel;return Ae.exports.h(Wc,cu({},c,{nodeModel:u,graphModel:f}))},v.prototype.getResizeShape=function(c){return Ae.exports.h("g",null,Ae.exports.h(sS,cu({},c)))},v.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ae.exports.h("g",null,this.getResizeShape(c),p?this.getControlGroup(c):"")},v}(Ae.exports.EllipseNode),mc={type:"ellipse",view:lS,model:cS},Tc=globalThis&&globalThis.__assign||function(){return Tc=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Tc.apply(this,arguments)};function fS(g){var v=g.fillOpacity,c=v===void 0?1:v,p=g.strokeWidth,u=p===void 0?1:p,f=g.strokeOpacity,d=f===void 0?1:f,y=g.fill,x=y===void 0?"transparent":y,E=g.stroke,S=E===void 0?"#000":E,P=g.points,k=g.className,O=k===void 0?"lf-basic-shape":k,z={fill:x,fillOpacity:c,strokeWidth:u,stroke:S,strokeOpacity:d,points:"",className:O};return z.points=P.map(function(Y){return Y.join(",")}).join(" "),Ae.exports.h("polygon",Tc({},z))}var kg=globalThis&&globalThis.__extends||function(){var g=function(v,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,c)};return function(v,c){g(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),lu=globalThis&&globalThis.__assign||function(){return lu=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},lu.apply(this,arguments)},pS=function(g){kg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},v}(Ae.exports.DiamondNodeModel),hS=function(g){kg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(c){var p=this.props,u=p.model,f=p.graphModel;return Ae.exports.h(Wc,lu({},c,{nodeModel:u,graphModel:f}))},v.prototype.getResizeShape=function(c){return Ae.exports.h("g",null,Ae.exports.h(fS,lu({},c)))},v.prototype.getShape=function(){var c=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ae.exports.h("g",null,this.getResizeShape(c),p?this.getControlGroup(c):"")},v}(Ae.exports.DiamondNode),_c={type:"diamond",view:hS,model:pS},dS={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(g){g.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),g.register({type:bc.type,view:bc.view,model:bc.model}),g.register({type:mc.type,view:mc.view,model:mc.model}),g.register({type:_c.type,view:_c.view,model:_c.model})}},Dc=dS,yS=globalThis&&globalThis.__read||function(g,v){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var tg=globalThis&&globalThis.__assign||function(){return tg=Object.assign||function(g){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},tg.apply(this,arguments)};const vS={class:"control-container"},gS=["title","onMouseenter"],bS=["disabled","onClick"],mS=Fi({props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(g,{emit:v}){const c=g,p=Nv("controlButton3",null),u=Nv("controlButton4",null);let f=jr(-1),d=jr([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",disabled:!1},{icon:"icon-previous-hs",text:"\u4E0A\u4E00\u6B65",disabled:!0},{icon:"icon-next-step-hs",text:"\u4E0B\u4E00\u6B65",disabled:!0},{icon:"icon-download-hs",text:"\u4E0B\u8F7D\u56FE\u7247",disabled:!1},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",disabled:!1}]);const y=(E,S)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((P,k)=>{let O=c.lf;S===1&&O.zoom(!0),S===6&&v("catData"),S===k&&O[P]()})},x=E=>{f.value=E};return zc(()=>{c.lf.on("history:change",({data:{undoAble:E,redoAble:S}})=>{at(d)[3].disabled=at(p).disabled=!E,at(d)[4].disabled=at(u).disabled=!S})}),(E,S)=>(kn(),Pr("div",vS,[Pn("ul",null,[(kn(!0),Pr(Rc,null,Bc(at(d),(P,k)=>(kn(),Pr("li",{key:k,title:P.text,style:Ec({background:at(f)===k?"#ccc":""}),onMouseenter:Sc(O=>x(k),["prevent"]),onMouseleave:S[0]||(S[0]=Sc(O=>Mc(f)?f.value=-1:f=-1,["prevent"]))},[Pn("button",{ref_for:!0,ref:"controlButton"+k,disabled:P.disabled,style:Ec({cursor:P.disabled===!1?"pointer":"not-allowed"}),onClick:O=>y(P,k)},[Pn("span",{class:Nc("iconfont "+P.icon)},null,2),Pn("p",null,Cc(P.text),1)],12,bS)],44,gS))),128))])]))}});var Oc=Fc(mS,[["__scopeId","data-v-16a465b8"]]);const _S={class:"node-panel"},OS=["onMousedown"],wS={key:0,class:"shape"},xS={class:"node-label"},ES=Fi({props:{lf:{default:null},nodeList:{default:null}},setup(g){const v=g;let c=jr({a:"efrwe",b:"wewe"});const p=u=>{v.lf.dnd.startDrag({type:u.type,properties:at(c)})};return(u,f)=>(kn(),Pr("div",_S,[(kn(!0),Pr(Rc,null,Bc(v.nodeList,d=>(kn(),Pr("div",{class:"node-item",key:d.text,onMousedown:y=>p(d)},[Pn("div",{class:Nc(["node-item-icon",d.class])},[d.type==="user"||d.type==="time"?(kn(),Pr("div",wS)):Ic("",!0)],2),Pn("span",xS,Cc(d.text),1)],40,OS))),128))]))}});var wc=Fc(ES,[["__scopeId","data-v-faf0b8ba"]]),Ag={exports:{}},SS=iE(cE);(function(g,v){(function(c,p){g.exports=p(SS)})(aE,function(c){return function(){var p={452:function(y){y.exports=c}},u={};function f(y){var x=u[y];if(x!==void 0)return x.exports;var E=u[y]={exports:{}};return p[y](E,E.exports,f),E.exports}f.d=function(y,x){for(var E in x)f.o(x,E)&&!f.o(y,E)&&Object.defineProperty(y,E,{enumerable:!0,get:x[E]})},f.o=function(y,x){return Object.prototype.hasOwnProperty.call(y,x)},f.r=function(y){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var d={};return function(){f.r(d),f.d(d,{default:function(){return B}});var y=f(452);function x(R,X){(X==null||X>R.length)&&(X=R.length);for(var K=0,ne=new Array(X);K<X;K++)ne[K]=R[K];return ne}function E(R,X){if(R){if(typeof R=="string")return x(R,X);var K=Object.prototype.toString.call(R).slice(8,-1);return K==="Object"&&R.constructor&&(K=R.constructor.name),K==="Map"||K==="Set"?Array.from(R):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?x(R,X):void 0}}function S(R,X){return function(K){if(Array.isArray(K))return K}(R)||function(K,ne){var ce=K==null?null:typeof Symbol!="undefined"&&K[Symbol.iterator]||K["@@iterator"];if(ce!=null){var he,pe,ie=[],se=!0,ae=!1;try{for(ce=ce.call(K);!(se=(he=ce.next()).done)&&(ie.push(he.value),!ne||ie.length!==ne);se=!0);}catch(ue){ae=!0,pe=ue}finally{try{se||ce.return==null||ce.return()}finally{if(ae)throw pe}}return ie}}(R,X)||E(R,X)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(R){return function(X){if(Array.isArray(X))return x(X)}(R)||function(X){if(typeof Symbol!="undefined"&&X[Symbol.iterator]!=null||X["@@iterator"]!=null)return Array.from(X)}(R)||E(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(R,X,K){return X in R?Object.defineProperty(R,X,{value:K,enumerable:!0,configurable:!0,writable:!0}):R[X]=K,R}var O=(0,y.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var R=this.data,X=this.onClick;return(0,y.createVNode)("span",{class:"vjs-tree__brackets",onClick:X},[R])}}),z=(0,y.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(R,X){var K=X.emit;return{uiType:(0,y.computed)(function(){return R.isMultiple?"checkbox":"radio"}),model:(0,y.computed)({get:function(){return R.checked},set:function(ne){return K("update:modelValue",ne)}})}},render:function(){var R=this.uiType,X=this.model,K=this.$emit;return(0,y.createVNode)("label",{class:["vjs-check-controller",X?"is-checked":""],onClick:function(ne){return ne.stopPropagation()}},[(0,y.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(R)},null),(0,y.createVNode)("input",{checked:X,class:"vjs-check-controller__original is-".concat(R),type:R,onChange:function(){return K("change",X)}},null)])}});function Y(R,X){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);X&&(ne=ne.filter(function(ce){return Object.getOwnPropertyDescriptor(R,ce).enumerable})),K.push.apply(K,ne)}return K}function q(R){for(var X=1;X<arguments.length;X++){var K=arguments[X]!=null?arguments[X]:{};X%2?Y(Object(K),!0).forEach(function(ne){k(R,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):Y(Object(K)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor(K,ne))})}return R}function G(R){return Object.prototype.toString.call(R).slice(8,-1).toLowerCase()}function V(R){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ne=arguments.length>3?arguments[3]:void 0,ce=ne||{},he=ce.key,pe=ce.index,ie=ce.type,se=ie===void 0?"content":ie,ae=ce.showComma,ue=ae!==void 0&&ae,ve=ce.length,be=ve===void 0?1:ve,we=G(R);if(we==="array"){var Ce=R.map(function(Be,Te,We){return V(Be,"".concat(X,"[").concat(Te,"]"),K+1,{index:Te,showComma:Te!==We.length-1,length:be,type:se})}).reduce(function(Be,Te){return Be.concat(Te)},[]);return[V("[",X,K,{showComma:!1,key:he,length:R.length,type:"arrayStart"})[0]].concat(Ce,V("]",X,K,{showComma:ue,length:R.length,type:"arrayEnd"})[0])}if(we==="object"){var Pe=Object.keys(R),ot=Pe.map(function(Be,Te,We){return V(R[Be],Be.includes(".")?"".concat(X,'["').concat(Be,'"]'):"".concat(X,".").concat(Be),K+1,{key:Be,showComma:Te!==We.length-1,length:be,type:se})}).reduce(function(Be,Te){return Be.concat(Te)},[]);return[V("{",X,K,{showComma:!1,key:he,index:pe,length:Pe.length,type:"objectStart"})[0]].concat(ot,V("}",X,K,{showComma:ue,length:Pe.length,type:"objectEnd"})[0])}var xt=Object.entries({content:R,level:K,key:he,index:pe,path:X,showComma:ue,length:be,type:se}).reduce(function(Be,Te){var We=S(Te,2),ft=We[0],Ht=We[1];return Ht!==void 0?q(q({},Be),{},k({},ft,Ht)):Be},{});return[xt]}function L(R,X){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);X&&(ne=ne.filter(function(ce){return Object.getOwnPropertyDescriptor(R,ce).enumerable})),K.push.apply(K,ne)}return K}function H(R){for(var X=1;X<arguments.length;X++){var K=arguments[X]!=null?arguments[X]:{};X%2?L(Object(K),!0).forEach(function(ne){k(R,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):L(Object(K)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor(K,ne))})}return R}var $={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},N=(0,y.defineComponent)({name:"TreeNode",props:H(H({},$),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(R,X){var K=X.emit,ne=(0,y.computed)(function(){return G(R.node.content)}),ce=(0,y.computed)(function(){return"vjs-value vjs-value__".concat(ne.value)}),he=(0,y.computed)(function(){return R.showDoubleQuotes?'"'.concat(R.node.key,'"'):R.node.key}),pe=(0,y.computed)(function(){return R.selectableType==="multiple"}),ie=(0,y.computed)(function(){return R.selectableType==="single"}),se=(0,y.computed)(function(){return R.pathSelectable(R.node.path,R.node.content)&&(pe.value||ie.value)}),ae=function(ue){var ve=ue+"";return ne.value==="string"&&(ve='"'.concat(ve,'"')),ve};return{state:(0,y.reactive)({valueClass:ce,prettyKey:he,isMultiple:pe,selectable:se}),defaultFormatter:ae,customFormatter:function(ue){return R.customValueFormatter?R.customValueFormatter(ue,R.node.key,R.node.path,ae(ue)):ae(ue)},onBracketsClickHandler:function(){R.collapsedOnClickBrackets&&K("brackets-click",!R.collapsed,R.node.path)},onCheckedChange:function(){K("selected-change",R.node)},onNodeClick:function(){K("tree-node-click",R.node),se.value&&R.selectOnClickNode&&K("selected-change",R.node)}}},render:function(){var R=this.state,X=this.node,K=this.showSelectController,ne=this.highlightSelectedNode,ce=this.checked,he=this.showLength,pe=this.collapsed,ie=this.showLine,se=this.customValueFormatter,ae=this.defaultFormatter,ue=this.customFormatter,ve=this.onNodeClick,be=this.onCheckedChange,we=this.onBracketsClickHandler;return(0,y.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":K,"is-highlight":ne&&ce},onClick:ve},[K&&R.selectable&&X.type!=="objectEnd"&&X.type!=="arrayEnd"&&(0,y.createVNode)(z,{isMultiple:R.isMultiple,checked:ce,onChange:be},null),Array.from(Array(X.level)).map(function(Ce,Pe){return(0,y.createVNode)("div",{key:Pe,class:{"vjs-tree__indent":!0,"has-line":ie}},null)}),X.key&&(0,y.createVNode)("span",{class:"vjs-key"},["".concat(R.prettyKey,": ")]),(0,y.createVNode)("span",null,[X.type!=="content"?(0,y.createVNode)(O,{data:X.content,onClick:we},null):se?(0,y.createVNode)("span",{class:R.valueClass,innerHTML:ue(X.content)},null):(0,y.createVNode)("span",{class:R.valueClass},[ae(X.content)]),X.showComma&&(0,y.createVNode)("span",null,[","]),he&&pe&&(0,y.createVNode)("span",{class:"vjs-comment"},[(0,y.createTextVNode)(" // "),X.length,(0,y.createTextVNode)(" items ")])])])}});function I(R,X){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);X&&(ne=ne.filter(function(ce){return Object.getOwnPropertyDescriptor(R,ce).enumerable})),K.push.apply(K,ne)}return K}function C(R){for(var X=1;X<arguments.length;X++){var K=arguments[X]!=null?arguments[X]:{};X%2?I(Object(K),!0).forEach(function(ne){k(R,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):I(Object(K)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor(K,ne))})}return R}var F=(0,y.defineComponent)({name:"Tree",props:C(C({},$),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(R,X){var K=X.emit,ne=(0,y.ref)(),ce=(0,y.reactive)({translateY:0,visibleData:null,hiddenPaths:V(R.data,R.path).reduce(function(ae,ue){var ve=R.deepCollapseChildren?ue.level>=R.deep:ue.level===R.deep;return ue.type!=="objectStart"&&ue.type!=="arrayStart"||!ve?ae:C(C({},ae),{},k({},ue.path,1))},{})}),he=(0,y.computed)(function(){var ae=null;return V(R.data,R.path).reduce(function(ue,ve,be){var we=C(C({},ve),{},{id:be}),Ce=ce.hiddenPaths[we.path];if(ae&&ae.path===we.path){var Pe=ae.type==="objectStart",ot=C(C(C({},ae),we),{},{content:Pe?"{...}":"[...]",type:Pe?"objectCollapsed":"arrayCollapsed"});return ae=null,ue.concat(ot)}return Ce&&!ae?(ae=we,ue):ae?ue:ue.concat(we)},[])}),pe=(0,y.computed)(function(){var ae=R.modelValue;return ae&&R.selectableType==="multiple"&&Array.isArray(ae)?ae:[ae]}),ie=(0,y.computed)(function(){return!R.selectableType||R.selectOnClickNode||R.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),se=function(ae){if(R.virtual){var ue=ne.value,ve=R.virtualLines,be=ue&&ue.scrollTop||0,we=Math.floor(be/R.itemHeight),Ce=we<0?0:we+ve>ae.length?ae.length-ve:we;Ce<0&&(Ce=0);var Pe=Ce+ve;ce.translateY=Ce*R.itemHeight,ce.visibleData=ae.filter(function(ot,xt){return xt>=Ce&&xt<Pe})}else ce.visibleData=ae};return(0,y.watchEffect)(function(){ie.value&&function(ae){throw new Error("[VueJSONPretty] ".concat(ae))}(ie.value)}),(0,y.watchEffect)(function(){he.value&&se(he.value)}),{tree:ne,state:ce,flatData:he,selectedPaths:pe,onTreeScroll:function(){se(he.value)},onSelectedChange:function(ae){var ue=ae.path,ve=R.selectableType;if(ve==="multiple"){var be=pe.value.findIndex(function(ot){return ot===ue}),we=P(pe.value);be!==-1?we.splice(be,1):we.push(ue),K("update:modelValue",we),K("change",we,P(pe.value))}else if(ve==="single"&&pe.value[0]!==ue){var Ce=S(pe.value,1)[0],Pe=ue;K("update:modelValue",Pe),K("change",Pe,Ce)}},onTreeNodeClick:function(ae){var ue=ae.content,ve=ae.path;K("click",ve,ue)},onBracketsClick:function(ae,ue){if(ae)ce.hiddenPaths=C(C({},ce.hiddenPaths),{},k({},ue,1));else{var ve=C({},ce.hiddenPaths);delete ve[ue],ce.hiddenPaths=ve}}}},render:function(){var R=this.virtual,X=this.itemHeight,K=this.customValueFormatter,ne=this.showDoubleQuotes,ce=this.showLength,he=this.showLine,pe=this.showSelectController,ie=this.selectOnClickNode,se=this.pathSelectable,ae=this.highlightSelectedNode,ue=this.collapsedOnClickBrackets,ve=this.state,be=this.flatData,we=this.selectedPaths,Ce=this.selectableType,Pe=this.onTreeNodeClick,ot=this.onBracketsClick,xt=this.onSelectedChange,Be=this.onTreeScroll,Te=ve.visibleData&&ve.visibleData.map(function(We){return(0,y.createVNode)(N,{key:We.id,node:We,collapsed:!!ve.hiddenPaths[We.path],"custom-value-formatter":K,"show-double-quotes":ne,"show-length":ce,"collapsed-on-click-brackets":ue,checked:we.includes(We.path),"selectable-type":Ce,"show-line":he,"show-select-controller":pe,"select-on-click-node":ie,"path-selectable":se,"highlight-selected-node":ae,onTreeNodeClick:Pe,onBracketsClick:ot,onSelectedChange:xt},null)});return(0,y.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":R},onScroll:Be},[R?(0,y.createVNode)("div",{style:{height:"".concat(be.length*X,"px")}},[(0,y.createVNode)("div",{style:{transform:"translateY(".concat(ve.translateY,"px)")}},[Te])]):Te])}}),B=(0,y.defineComponent)(F)}(),d}()})})(Ag);var jS=og(Ag.exports);const xc=Fi({props:{graphData:Object},setup(g){const v=g;return(c,p)=>(kn(),iu(at(jS),{path:"res",deep:3,showLength:!0,data:v.graphData},null,8,["data"]))}}),PS=Object.assign(Oc,{install(g){g.component(Oc.name,Oc)}}),kS=Object.assign(wc,{install(g){g.component(wc.name,wc)}}),AS=Object.assign(xc,{install(g){g.component(xc.name,xc)}}),TS={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function DS(g){const{incoming:v,outgoing:c,properties:p,key:u}=g,{text:f,startPoint:d,endPoint:y,pointsList:x,logicFlowType:E}=p,S={id:u,type:E,sourceNodeId:v[0],targetNodeId:c[0],text:f,startPoint:d,endPoint:y,pointsList:x,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(g.properties).forEach(k=>{P.indexOf(k)===-1&&(S.properties[k]=g.properties[k])}),S}function MS(g){const{properties:v,key:c}=g,{x:p,y:u,text:f,logicFlowType:d}=v,y={id:c,type:d,x:p,y:u,text:f,properties:{}},x=["x","y","text","logicFlowType"];return Object.keys(g.properties).forEach(E=>{x.indexOf(E)===-1&&(y.properties[E]=g.properties[E])}),y}function NS(g){const v={nodes:[],edges:[]},c=g.flowElementList;return c&&c.length>0&&c.forEach(p=>{if(p.type===TS.SEQUENCE_FLOW){const u=DS(p);v.edges.push(u)}else{const u=MS(p);v.nodes.push(u)}}),v}const CS=g=>(rg("data-v-65cf3767"),g=g(),ng(),g),RS={class:"card-header"},IS={class:"font-medium"},LS=Lc("\u6D41\u7A0B\u56FE\u7EC4\u4EF6\uFF0C\u91C7\u7528\u5F00\u6E90\u7684"),zS=Lc("LogicFlow"),BS={class:"logic-flow-view"},FS=CS(()=>Pn("div",{id:"LF-Turbo"},null,-1)),HS=Fi({setup(g){let v=jr(null),c=jr(null),p=jr(!1),u=jr({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),f=pE;function d(){nu.use(IE),nu.use(RE),nu.use(YE);const E=new nu(Mv(Dv({},at(u)),{container:document.querySelector("#LF-Turbo")}));v.value=E,at(v).setDefaultEdgeType("bpmn:sequenceFlow"),y()}function y(){const E=NS(fE);v.value.render(E)}function x(){c.value=at(v).getGraphData(),p.value=!0}return zc(()=>{d()}),(E,S)=>{const P=Ri("el-link"),k=Ri("el-scrollbar"),O=Ri("el-dialog"),z=Ri("el-card");return kn(),iu(z,null,{header:Io(()=>[Pn("div",RS,[Pn("span",IS,[LS,Ro(P,{href:"http://logic-flow.org/",target:"_blank",icon:at(uE)("set-up"),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Io(()=>[zS]),_:1},8,["icon"])])])]),default:Io(()=>[Pn("div",BS,[at(v)?(kn(),iu(at(PS),{key:0,class:"demo-control",lf:at(v),catTurboData:!1,onCatData:x},null,8,["lf"])):Ic("",!0),Ro(at(kS),{lf:at(v),nodeList:at(f)},null,8,["lf","nodeList"]),FS,Ro(O,{customClass:"flow-dialog",title:"\u6570\u636E",modelValue:at(p),"onUpdate:modelValue":S[0]||(S[0]=Y=>Mc(p)?p.value=Y:p=Y),width:"50%"},{default:Io(()=>[Ro(k,null,{default:Io(()=>[Ro(at(AS),{graphData:at(c)},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});var WS=Fc(HS,[["__scopeId","data-v-65cf3767"]]);export{WS as default};
